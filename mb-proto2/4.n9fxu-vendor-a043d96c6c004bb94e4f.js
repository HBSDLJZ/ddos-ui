(self.webpackChunk_mb2023_mb_proto=self.webpackChunk_mb2023_mb_proto||[]).push([[170],{48641:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>F});var o=i(49650),f=i(7485),A=i(34595),h=i.n(A),S=i(75683),ee=i(35269);class F extends f.PureComponent{constructor(){super(...arguments),(0,o.Z)(this,"getClassName",()=>{const{className:T,type:re,size:ce,corner:Y,disabled:ne}=this.props;return h()(T,"button-root",{["type-"+re]:re,["size-"+ce]:ce,["corner-"+Y]:Y,"is-disabled":ne})}),(0,o.Z)(this,"onButtonClick",T=>{if(this.props.disabled){T.preventDefault();return}const{onClick:re}=this.props;re&&re(T)}),(0,o.Z)(this,"onButtonMouseDown",T=>{if(this.props.disabled){T.preventDefault();return}const{onMouseDown:re}=this.props;re&&re(T)}),(0,o.Z)(this,"getChildrenNode",()=>(0,ee.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const T=this.getClassName(),re=this.getChildrenNode();return(0,ee.jsx)(S.S,{className:T,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,ee.jsx)("div",{className:"btn-icon-text-container",children:re})})}}(0,o.Z)(F,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},54957:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>T});var o=i(49650),f=i(7485),A=i(34595),h=i.n(A),S=i(35269);function ee(re){let{className:ce,renderIconList:Y}=re;return(0,S.jsx)("span",{className:h()("btn-icon",ce),children:Y.map((ne,oe)=>(0,S.jsx)("span",{className:"btn-icon-container",children:(0,S.jsx)(S.Fragment,{children:ne})},oe))})}const F=ee;var I=i(75683);class T extends f.PureComponent{constructor(ce){super(ce),(0,o.Z)(this,"getClassName",()=>{const{className:Y,type:ne,size:oe,corner:X,disabled:D,icon:O,children:w}=this.props;return h()(Y,"button-root",{["type-"+ne]:ne,["size-"+oe]:oe,["corner-"+X]:X,"is-disabled":D,"has-icon":O&&w,"only-icon":O&&w===void 0})}),(0,o.Z)(this,"onButtonClick",Y=>{if(this.props.disabled){Y.preventDefault();return}const{onClick:ne}=this.props;ne&&ne(Y)}),(0,o.Z)(this,"getIconNode",()=>(0,S.jsx)(F,{renderIconList:this.state.iconList,className:this.props.className})),(0,o.Z)(this,"getChildrenNode",()=>(0,S.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(ce){let{icon:Y}=ce;const{icon:ne}=this.props;Y!==ne&&this.setState({iconList:ne?[this.props.icon]:[]})}render(){const ce=this.getClassName(),Y=this.getIconNode(),ne=this.getChildrenNode();return(0,S.jsx)(I.S,{className:ce,onClick:this.onButtonClick,children:(0,S.jsxs)("div",{className:h()("btn-icon-text-container"),children:[Y,ne]})})}}(0,o.Z)(T,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},75683:(Se,te,i)=>{"use strict";i.d(te,{S:()=>A});var o=i(45090),f=i(58628);const A=o.ZP.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-1of337d-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:PingFang SC;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],f.l.color_text_L2,f.l.color_bg_normal,f.l.color_split_line,f.l.color_bg_btn_normal_hover,f.l.color_bg_btn_normal_active,f.l.color_text_white,f.l.color_btn_primary_normal,f.l.color_btn_primary_hover,f.l.color_btn_primary_click,f.l.color_text_L2,f.l.color_bg_secondary_btn,f.l.color_btn_secondary_border_normal,f.l.color_btn_secondary_hover,f.l.color_btn_secondary_border_hover,f.l.color_btn_secondary_click,f.l.color_btn_primary_normal,f.l.color_btn_primary_hover,f.l.color_btn_primary_click,f.l.color_text_L2,f.l.color_text_L3,f.l.color_text_L1,f.l.color_btn_danger_normal,f.l.color_text_white,f.l.color_btn_danger_hover,f.l.color_btn_danger_click,f.l.color_text_L2,f.l.color_text_L3,f.l.color_text_L1)},29402:(Se,te,i)=>{"use strict";i.d(te,{L4:()=>h,S6:()=>A});var o=i(35269);const f=S=>_jsx("img",{className:S.className,alt:"Loading...",srcSet:S.isMockitt?"/mb-static/2308/loading-mo.webp":"/mb-static/2308/loading.webp",src:S.isMockitt?"/mb-static/2308/loading-mo.gif":"/mb-static/2308/loading.gif"}),A=S=>(0,o.jsx)("img",{className:S.className,alt:"Loading...",srcSet:ENV.IS_WONDER_SHARE?"/mb-static/2308/loading-mo.webp":"/mb-static/2308/loading.webp",src:ENV.IS_WONDER_SHARE?"/mb-static/2308/loading-mo.gif":"/mb-static/2308/loading.gif"}),h=S=>(0,o.jsx)("img",{className:S.className,alt:"Loading...",srcSet:"/mb-static/2308/loading-mo.webp",src:"/mb-static/2308/loading-mo.gif"})},58628:(Se,te,i)=>{"use strict";i.d(te,{l:()=>f});const o={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#35445D",primary_gray_02:"#5D6F8F",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},f={color_btn_primary_normal:o.primary_blue_02,color_btn_primary_hover:o.primary_blue_03,color_btn_primary_click:o.primary_blue_01,color_btn_primary_disable:o.primary_blue_05,color_btn_secondary_click:o.primary_blue_06,color_btn_secondary_normal:o.primary_blue_08,color_btn_secondary_hover:o.primary_blue_07,color_btn_outline_click:o.primary_gray_07,color_btn_outline_normal:o.common_white,color_btn_outline_hover:o.primary_gray_08,color_bg_normal:o.common_white,color_bg_card:o.primary_blue_08,color_bg_menu_click:o.primary_blue_06,color_bg_card_hover:o.primary_gray_07,color_bg_menu_hover:o.primary_blue_07,color_bg_input_hover:o.primary_gray_08,color_bg_input_normal:o.primary_gray_09,color_bg_item_gray:o.primary_gray_08,color_bg_item_hover:o.primary_gray_09,color_bg_fill_common_blue:o.primary_blue_02,color_bg_menu_drag_border:o.primary_blue_06,color_bg_card_hover_fusion_gray:o.primary_gray_06,color_bg_card_hover_fusion_blue:o.primary_blue_05,color_bg_card_hover_fusion:o.primary_gray_06,color_bg_secondary_btn:o.primary_blue_08,color_bg_btn_normal_hover:o.primary_gray_08,color_bg_btn_normal_active:o.primary_gray_07,color_bg_icon_gray:o.primary_gray_04,color_bg_icon_hover:o.primary_gray_03,color_text_L1:o.primary_gray_01,color_text_L2:o.primary_gray_02,color_text_L3:o.primary_gray_03,color_text_L4:o.primary_gray_04,color_text_L5:o.primary_blue_02,color_text_white:o.common_white,color_text_blue:o.primary_blue_02,color_text_blue_hover:o.primary_blue_01,color_text_blue_active:o.primary_blue_03,color_text_disable_01:o.primary_gray_05,color_tab_line:o.primary_gray_06,color_split_line:o.primary_gray_07,color_border_blue_common:o.primary_blue_02,color_btn_border_normal:o.primary_blue_05,color_btn_border_disable:o.primary_blue_07,color_btn_secondary_border_normal:o.primary_blue_06,color_btn_secondary_border_hover:o.primary_blue_07,color_btn_danger_normal:o.primary_red_02,color_btn_danger_hover:o.primary_red_03,color_btn_danger_click:o.primary_red_01,color_btn_danger_disable:o.primary_red_04,color_bg_modal_item_header:o.primary_gray_09,color_bg_light_red:o.primary_red_05,color_alarm_common:o.primary_red_02}},6966:(Se,te,i)=>{"use strict";i.d(te,{$I:()=>F,Bh:()=>I,EE:()=>f,G:()=>w,Gf:()=>ce,IP:()=>D,Mn:()=>re,NS:()=>ne,ZC:()=>Y,_E:()=>ee,_Z:()=>X,bX:()=>O,sE:()=>h,xi:()=>S});const o=(m,u)=>{const g=new Error("[NO SENTRY] "+m);return Object.assign(g,u),g},f=async m=>{const u=await fetch(m,{credentials:"same-origin"});let g;try{g=await u.json()}catch(C){g={}}if(!u.ok)throw o("[fetchGetJSON] failed with "+u.status+": "+m,{...g,status:u.status});return g},A=async(m,u)=>{const g=await fetch(m,{credentials:"same-origin",body:JSON.stringify(u)});let C;try{C=await g.json()}catch(V){C={}}if(!g.ok)throw o("[fetchGetJSON] failed with "+g.status+": "+m,{...C,status:g.status});return C},h=async m=>{const u=await fetch(m,{credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});let g;try{g=await u.json()}catch(C){g={}}if(!u.ok)throw o("[fetchGetJSON] failed with "+u.status+": "+m,{...g,status:u.status});return g},S=async m=>{let u=await fetch(m,{credentials:"same-origin"});const g=u.headers;if(!u.ok)throw o("[fetchGetJSON] failed with "+u.status+": "+m,{...await u.json(),status:u.status});return u=await u.json(),{result:u,headers:g}},ee=async m=>{const u=await fetch(m,{method:"DELETE",credentials:"same-origin"});if(!u.ok)throw o("[fetchDeleteHead] failed with "+u.status+": "+m,{status:u.status})},F=async m=>{const u=await fetch(m,{method:"DELETE",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"}});if(!u.ok)throw o("[fetchDeleteHead] failed with "+u.status+": "+m,{status:u.status})},I=async m=>{const u=await fetch(m,{method:"DELETE",credentials:"same-origin"});if(!u.ok)throw o("[fetchDeleteJSON] failed with "+u.status+": "+m,{...await u.json(),status:u.status});return u.json()},T=async(m,u)=>fetch(m,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(u)}),re=async(m,u)=>{const g=await T(m,u);if(!g.ok)throw o("[fetchPostHead] failed with "+g.status+": "+m,{status:g.status})},ce=async(m,u)=>{const g=await fetch(m,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(u)});if(!g.ok)throw o("[fetchPostJSON] failed with "+g.status+": "+m,{...await g.json(),status:g.status});return g.json()},Y=async(m,u)=>{const g=await fetch(m,{method:"POST",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(u)});if(!g.ok)throw o("[fetchPostText] failed with "+g.status+": "+m,{status:g.status});return g.json()},ne=async(m,u)=>{const g=await fetch(m,{method:"POST",credentials:"same-origin",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(u)});if(!g.ok)throw o("[fetchPostJSON] failed with "+g.status+": "+m,{...await g.json(),status:g.status});return g.json()},oe=async(m,u)=>{const g=await fetch(m,{method:"POST",headers:{"content-type":"application/json"},credentials:"same-origin",body:u});if(!g.ok)throw o("[fetchDeleteJSON] failed with "+g.status+": "+m,{url:m,status:g.status});return g.json()},X=async(m,u)=>{const g=await fetch(m,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(u)});if(!g.ok)throw o("[fetchPutHead] failed with "+g.status+": "+m,{status:g.status})},D=async(m,u)=>{const g=await fetch(m,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json"},body:JSON.stringify(u)});if(!g.ok)throw o("[fetchPutJSON] failed with "+g.status+": "+m,{...await g.json(),status:g.status});return g.json()},O=async(m,u)=>{const g=await fetch(m,{method:"PUT",credentials:"same-origin",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(u)});if(!g.ok)throw o("[fetchPutJSON] failed with "+g.status+": "+m,{...await g.json(),status:g.status});return g.json()},w=async(m,u)=>{const g=await fetch(m,{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(u)});if(!g.ok)throw o("[fetchDeleteBodyHead] failed with "+g.status+": "+m)}},80966:(Se,te,i)=>{"use strict";i.d(te,{lQ:()=>Ks,Qb:()=>zn,od:()=>Un});var o={};if(i.r(o),i.d(o,{Decoder:()=>qt,Encoder:()=>sn,PacketType:()=>Fe,protocol:()=>tn}),i.j!=485)var f=i(87587);if(i.j!=485)var A=i(71114);const h=Object.create(null);h.open="0",h.close="1",h.ping="2",h.pong="3",h.message="4",h.upgrade="5",h.noop="6";const S=Object.create(null);Object.keys(h).forEach(r=>{S[h[r]]=r});const ee={type:"error",data:"parser error"},F=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",I=typeof ArrayBuffer=="function",T=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,re=(r,e,s)=>{let{type:a,data:x}=r;return F&&x instanceof Blob?e?s(x):ce(x,s):I&&(x instanceof ArrayBuffer||T(x))?e?s(x):ce(new Blob([x]),s):s(h[a]+(x||""))},ce=(r,e)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];e("b"+(a||""))},s.readAsDataURL(r)};function Y(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let ne;function oe(r,e){if(F&&r.data instanceof Blob)return r.data.arrayBuffer().then(Y).then(e);if(I&&(r.data instanceof ArrayBuffer||T(r.data)))return e(Y(r.data));re(r,!1,s=>{ne||(ne=new TextEncoder),e(ne.encode(s))})}const X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<X.length;r++)D[X.charCodeAt(r)]=r;const O=r=>{let e=new Uint8Array(r),s,a=e.length,x="";for(s=0;s<a;s+=3)x+=X[e[s]>>2],x+=X[(e[s]&3)<<4|e[s+1]>>4],x+=X[(e[s+1]&15)<<2|e[s+2]>>6],x+=X[e[s+2]&63];return a%3===2?x=x.substring(0,x.length-1)+"=":a%3===1&&(x=x.substring(0,x.length-2)+"=="),x},w=r=>{let e=r.length*.75,s=r.length,a,x=0,K,le,he,ue;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const be=new ArrayBuffer(e),ye=new Uint8Array(be);for(a=0;a<s;a+=4)K=D[r.charCodeAt(a)],le=D[r.charCodeAt(a+1)],he=D[r.charCodeAt(a+2)],ue=D[r.charCodeAt(a+3)],ye[x++]=K<<2|le>>4,ye[x++]=(le&15)<<4|he>>2,ye[x++]=(he&3)<<6|ue&63;return be},m=typeof ArrayBuffer=="function",u=(r,e)=>{if(typeof r!="string")return{type:"message",data:C(r,e)};const s=r.charAt(0);return s==="b"?{type:"message",data:g(r.substring(1),e)}:S[s]?r.length>1?{type:S[s],data:r.substring(1)}:{type:S[s]}:ee},g=(r,e)=>{if(m){const s=w(r);return C(s,e)}else return{base64:!0,data:r}},C=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},V="",k=(r,e)=>{const s=r.length,a=new Array(s);let x=0;r.forEach((K,le)=>{re(K,!1,he=>{a[le]=he,++x===s&&e(a.join(V))})})},B=(r,e)=>{const s=r.split(V),a=[];for(let x=0;x<s.length;x++){const K=u(s[x],e);if(a.push(K),K.type==="error")break}return a};function N(){return new TransformStream({transform(r,e){oe(r,s=>{const a=s.length;let x;if(a<126)x=new Uint8Array(1),new DataView(x.buffer).setUint8(0,a);else if(a<65536){x=new Uint8Array(3);const K=new DataView(x.buffer);K.setUint8(0,126),K.setUint16(1,a)}else{x=new Uint8Array(9);const K=new DataView(x.buffer);K.setUint8(0,127),K.setBigUint64(1,BigInt(a))}r.data&&typeof r.data!="string"&&(x[0]|=128),e.enqueue(x),e.enqueue(s)})}})}let c;function H(r){return r.reduce((e,s)=>e+s.length,0)}function Q(r,e){if(r[0].length===e)return r.shift();const s=new Uint8Array(e);let a=0;for(let x=0;x<e;x++)s[x]=r[0][a++],a===r[0].length&&(r.shift(),a=0);return r.length&&a<r[0].length&&(r[0]=r[0].slice(a)),s}function ae(r,e){c||(c=new TextDecoder);const s=[];let a=0,x=-1,K=!1;return new TransformStream({transform(le,he){for(s.push(le);;){if(a===0){if(H(s)<1)break;const ue=Q(s,1);K=(ue[0]&128)===128,x=ue[0]&127,x<126?a=3:x===126?a=1:a=2}else if(a===1){if(H(s)<2)break;const ue=Q(s,2);x=new DataView(ue.buffer,ue.byteOffset,ue.length).getUint16(0),a=3}else if(a===2){if(H(s)<8)break;const ue=Q(s,8),be=new DataView(ue.buffer,ue.byteOffset,ue.length),ye=be.getUint32(0);if(ye>Math.pow(2,21)-1){he.enqueue(ee);break}x=ye*Math.pow(2,32)+be.getUint32(4),a=3}else{if(H(s)<x)break;const ue=Q(s,x);he.enqueue(u(K?ue:c.decode(ue),e)),a=0}if(x===0||x>r){he.enqueue(ee);break}}}})}const _=4;function Z(r){if(r)return ve(r)}function ve(r){for(var e in Z.prototype)r[e]=Z.prototype[e];return r}Z.prototype.on=Z.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this},Z.prototype.once=function(r,e){function s(){this.off(r,s),e.apply(this,arguments)}return s.fn=e,this.on(r,s),this},Z.prototype.off=Z.prototype.removeListener=Z.prototype.removeAllListeners=Z.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var a,x=0;x<s.length;x++)if(a=s[x],a===e||a.fn===e){s.splice(x,1);break}return s.length===0&&delete this._callbacks["$"+r],this},Z.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+r],a=1;a<arguments.length;a++)e[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,x=s.length;a<x;++a)s[a].apply(this,e)}return this},Z.prototype.emitReserved=Z.prototype.emit,Z.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},Z.prototype.hasListeners=function(r){return!!this.listeners(r).length};const de=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function q(r){for(var e=arguments.length,s=new Array(e>1?e-1:0),a=1;a<e;a++)s[a-1]=arguments[a];return s.reduce((x,K)=>(r.hasOwnProperty(K)&&(x[K]=r[K]),x),{})}const J=de.setTimeout,xe=de.clearTimeout;function Ee(r,e){e.useNativeTimers?(r.setTimeoutFn=J.bind(de),r.clearTimeoutFn=xe.bind(de)):(r.setTimeoutFn=de.setTimeout.bind(de),r.clearTimeoutFn=de.clearTimeout.bind(de))}const Ne=1.33;function we(r){return typeof r=="string"?_e(r):Math.ceil((r.byteLength||r.size)*Ne)}function _e(r){let e=0,s=0;for(let a=0,x=r.length;a<x;a++)e=r.charCodeAt(a),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(a++,s+=4);return s}function Le(r){let e="";for(let s in r)r.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(r[s]));return e}function Je(r){let e={},s=r.split("&");for(let a=0,x=s.length;a<x;a++){let K=s[a].split("=");e[decodeURIComponent(K[0])]=decodeURIComponent(K[1])}return e}class st extends Error{constructor(e,s,a){super(e),this.description=s,this.context=a,this.type="TransportError"}}class Xe extends Z{constructor(e){super(),this.writable=!1,Ee(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,s,a){return super.emitReserved("error",new st(e,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const s=u(e,this.socket.binaryType);this.onPacket(s)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,s){return s===void 0&&(s={}),e+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const s=Le(e);return s.length?"?"+s:""}}const et="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ot=64,nt={};let ut=0,Ke=0,He;function ct(r){let e="";do e=et[r%ot]+e,r=Math.floor(r/ot);while(r>0);return e}function Kt(r){let e=0;for(Ke=0;Ke<r.length;Ke++)e=e*ot+nt[r.charAt(Ke)];return e}function Mt(){const r=ct(+new Date);return r!==He?(ut=0,He=r):r+"."+ct(ut++)}for(;Ke<ot;Ke++)nt[et[Ke]]=Ke;let Ot=!1;try{Ot=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(r){}const At=Ot;function $(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||At))return new XMLHttpRequest}catch(s){}if(!e)try{return new de[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(s){}}function n(){}function me(){}const je=function(){return new $({xdomain:!1}).responseType!=null}();class Be extends Xe{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const a=location.protocol==="https:";let x=location.port;x||(x=a?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||x!==e.port}const s=e&&e.forceBase64;this.supportsBinary=je&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const s=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let a=0;this.polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};B(e,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,k(e,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=Mt()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(e,s)}request(e){return e===void 0&&(e={}),Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ve(this.uri(),e)}doWrite(e,s){const a=this.request({method:"POST",data:e});a.on("success",s),a.on("error",(x,K)=>{this.onError("xhr post error",x,K)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=e}}class Ve extends Z{constructor(e,s){super(),Ee(this,s),this.opts=s,this.method=s.method||"GET",this.uri=e,this.data=s.data!==void 0?s.data:null,this.create()}create(){var e;const s=q(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const a=this.xhr=new $(s);try{a.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let x in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(x)&&a.setRequestHeader(x,this.opts.extraHeaders[x])}}catch(x){}if(this.method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(x){}try{a.setRequestHeader("Accept","*/*")}catch(x){}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(a),"withCredentials"in a&&(a.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(a.timeout=this.opts.requestTimeout),a.onreadystatechange=()=>{var x;a.readyState===3&&((x=this.opts.cookieJar)===null||x===void 0||x.parseCookies(a)),a.readyState===4&&(a.status===200||a.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof a.status=="number"?a.status:0)},0))},a.send(this.data)}catch(x){this.setTimeoutFn(()=>{this.onError(x)},0);return}typeof document<"u"&&(this.index=Ve.requestsCount++,Ve.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=me,e)try{this.xhr.abort()}catch(s){}typeof document<"u"&&delete Ve.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Ve.requestsCount=0,Ve.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Tt);else if(typeof addEventListener=="function"){const r="onpagehide"in de?"pagehide":"unload";addEventListener(r,Tt,!1)}}function Tt(){for(let r in Ve.requests)Ve.requests.hasOwnProperty(r)&&Ve.requests[r].abort()}const yt=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,s)=>s(e,0),vt=de.WebSocket||de.MozWebSocket,Ht=!0,Gs="arraybuffer",ws=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ws extends Xe{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),s=this.opts.protocols,a=ws?{}:q(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=Ht&&!ws?s?new vt(e,s):new vt(e):new vt(e,s,a)}catch(x){return this.emitReserved("error",x)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const a=e[s],x=s===e.length-1;re(a,this.supportsBinary,K=>{const le={};Ht||(a.options&&(le.compress=a.options.compress),this.opts.perMessageDeflate&&(typeof K=="string"?Buffer.byteLength(K):K.length)<this.opts.perMessageDeflate.threshold&&(le.compress=!1));try{Ht?this.ws.send(K):this.ws.send(K,le)}catch(he){}x&&yt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=Mt()),this.supportsBinary||(s.b64=1),this.createUri(e,s)}check(){return!!vt}}class wt extends Xe{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const s=ae(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=e.readable.pipeThrough(s).getReader(),x=N();x.readable.pipeTo(e.writable),this.writer=x.writable.getWriter();const K=()=>{a.read().then(he=>{let{done:ue,value:be}=he;ue||(this.onPacket(be),K())}).catch(he=>{})};K();const le={type:"open"};this.query.sid&&(le.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(le).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const a=e[s],x=s===e.length-1;this.writer.write(a).then(()=>{x&&yt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Gt={websocket:Ws,webtransport:wt,polling:Be},$s=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Wt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Lt(r){if(r.length>2e3)throw"URI too long";const e=r,s=r.indexOf("["),a=r.indexOf("]");s!=-1&&a!=-1&&(r=r.substring(0,s)+r.substring(s,a).replace(/:/g,";")+r.substring(a,r.length));let x=$s.exec(r||""),K={},le=14;for(;le--;)K[Wt[le]]=x[le]||"";return s!=-1&&a!=-1&&(K.source=e,K.host=K.host.substring(1,K.host.length-1).replace(/;/g,":"),K.authority=K.authority.replace("[","").replace("]","").replace(/;/g,":"),K.ipv6uri=!0),K.pathNames=$t(K,K.path),K.queryKey=Js(K,K.query),K}function $t(r,e){const s=/\/{2,9}/g,a=e.replace(s,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&a.splice(0,1),e.slice(-1)=="/"&&a.splice(a.length-1,1),a}function Js(r,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,x,K){x&&(s[x]=K)}),s}class lt extends Z{constructor(e,s){s===void 0&&(s={}),super(),this.binaryType=Gs,this.writeBuffer=[],e&&typeof e=="object"&&(s=e,e=null),e?(e=Lt(e),s.hostname=e.host,s.secure=e.protocol==="https"||e.protocol==="wss",s.port=e.port,e.query&&(s.query=e.query)):s.host&&(s.hostname=Lt(s.host).host),Ee(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Je(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const s=Object.assign({},this.opts.query);s.EIO=_,s.transport=e,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Gt[e](a)}open(){let e;if(this.opts.rememberUpgrade&&lt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(s){this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(e){let s=this.createTransport(e),a=!1;lt.priorWebsocketSuccess=!1;const x=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",t=>{if(!a)if(t.type==="pong"&&t.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;lt.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(ye(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const l=new Error("probe error");l.transport=s.name,this.emitReserved("upgradeError",l)}}))};function K(){a||(a=!0,ye(),s.close(),s=null)}const le=t=>{const l=new Error("probe error: "+t);l.transport=s.name,K(),this.emitReserved("upgradeError",l)};function he(){le("transport closed")}function ue(){le("socket closed")}function be(t){s&&t.name!==s.name&&K()}const ye=()=>{s.removeListener("open",x),s.removeListener("error",le),s.removeListener("close",he),this.off("close",ue),this.off("upgrading",be)};s.once("open",x),s.once("error",le),s.once("close",he),this.once("close",ue),this.once("upgrading",be),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onOpen(){if(this.readyState="open",lt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const s=this.upgrades.length;for(;e<s;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=e.data,this.onError(s);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const x=this.writeBuffer[a].data;if(x&&(s+=we(x)),a>0&&s>this.maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}write(e,s,a){return this.sendPacket("message",e,s,a),this}send(e,s,a){return this.sendPacket("message",e,s,a),this}sendPacket(e,s,a,x){if(typeof s=="function"&&(x=s,s=void 0),typeof a=="function"&&(x=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const K={type:e,data:s,options:a};this.emitReserved("packetCreate",K),this.writeBuffer.push(K),x&&this.once("flush",x),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),e()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():e()}):this.upgrading?a():e()),this}onError(e){lt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const s=[];let a=0;const x=e.length;for(;a<x;a++)~this.transports.indexOf(e[a])&&s.push(e[a]);return s}}lt.protocol=_;const Ye=lt.protocol;function Ys(r,e,s){e===void 0&&(e="");let a=r;s=s||typeof location<"u"&&location,r==null&&(r=s.protocol+"//"+s.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=s.protocol+r:r=s.host+r),/^(https?|wss?):\/\//.test(r)||(typeof s<"u"?r=s.protocol+"//"+r:r="https://"+r),a=Lt(r)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const K=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+K+":"+a.port+e,a.href=a.protocol+"://"+K+(s&&s.port===a.port?"":":"+a.port),a}const jt=typeof ArrayBuffer=="function",Qs=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,_s=Object.prototype.toString,Xs=typeof Blob=="function"||typeof Blob<"u"&&_s.call(Blob)==="[object BlobConstructor]",qs=typeof File=="function"||typeof File<"u"&&_s.call(File)==="[object FileConstructor]";function Jt(r){return jt&&(r instanceof ArrayBuffer||Qs(r))||Xs&&r instanceof Blob||qs&&r instanceof File}function ht(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let s=0,a=r.length;s<a;s++)if(ht(r[s]))return!0;return!1}if(Jt(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return ht(r.toJSON(),!0);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&ht(r[s]))return!0;return!1}function en(r){const e=[],s=r.data,a=r;return a.data=Yt(s,e),a.attachments=e.length,{packet:a,buffers:e}}function Yt(r,e){if(!r)return r;if(Jt(r)){const s={_placeholder:!0,num:e.length};return e.push(r),s}else if(Array.isArray(r)){const s=new Array(r.length);for(let a=0;a<r.length;a++)s[a]=Yt(r[a],e);return s}else if(typeof r=="object"&&!(r instanceof Date)){const s={};for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=Yt(r[a],e));return s}return r}function Qt(r,e){return r.data=bt(r.data,e),delete r.attachments,r}function bt(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let s=0;s<r.length;s++)r[s]=bt(r[s],e);else if(typeof r=="object")for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&(r[s]=bt(r[s],e));return r}const Xt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],tn=5;var Fe;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(Fe||(Fe={}));class sn{constructor(e){this.replacer=e}encode(e){return(e.type===Fe.EVENT||e.type===Fe.ACK)&&ht(e)?this.encodeAsBinary({type:e.type===Fe.EVENT?Fe.BINARY_EVENT:Fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let s=""+e.type;return(e.type===Fe.BINARY_EVENT||e.type===Fe.BINARY_ACK)&&(s+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(s+=e.nsp+","),e.id!=null&&(s+=e.id),e.data!=null&&(s+=JSON.stringify(e.data,this.replacer)),s}encodeAsBinary(e){const s=en(e),a=this.encodeAsString(s.packet),x=s.buffers;return x.unshift(a),x}}function Ss(r){return Object.prototype.toString.call(r)==="[object Object]"}class qt extends Z{constructor(e){super(),this.reviver=e}add(e){let s;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(e);const a=s.type===Fe.BINARY_EVENT;a||s.type===Fe.BINARY_ACK?(s.type=a?Fe.EVENT:Fe.ACK,this.reconstructor=new nn(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Jt(e)||e.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(e),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let s=0;const a={type:Number(e.charAt(0))};if(Fe[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===Fe.BINARY_EVENT||a.type===Fe.BINARY_ACK){const K=s+1;for(;e.charAt(++s)!=="-"&&s!=e.length;);const le=e.substring(K,s);if(le!=Number(le)||e.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(le)}if(e.charAt(s+1)==="/"){const K=s+1;for(;++s&&!(e.charAt(s)===","||s===e.length););a.nsp=e.substring(K,s)}else a.nsp="/";const x=e.charAt(s+1);if(x!==""&&Number(x)==x){const K=s+1;for(;++s;){const le=e.charAt(s);if(le==null||Number(le)!=le){--s;break}if(s===e.length)break}a.id=Number(e.substring(K,s+1))}if(e.charAt(++s)){const K=this.tryParse(e.substr(s));if(qt.isPayloadValid(a.type,K))a.data=K;else throw new Error("invalid payload")}return a}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(s){return!1}}static isPayloadValid(e,s){switch(e){case Fe.CONNECT:return Ss(s);case Fe.DISCONNECT:return s===void 0;case Fe.CONNECT_ERROR:return typeof s=="string"||Ss(s);case Fe.EVENT:case Fe.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Xt.indexOf(s[0])===-1);case Fe.ACK:case Fe.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class nn{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const s=Qt(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function it(r,e,s){return r.on(e,s),function(){r.off(e,s)}}const Cs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class dt extends Z{constructor(e,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[it(e,"open",this.onopen.bind(this)),it(e,"packet",this.onpacket.bind(this)),it(e,"error",this.onerror.bind(this)),it(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.unshift("message"),this.emit.apply(this,s),this}emit(e){if(Cs.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var s=arguments.length,a=new Array(s>1?s-1:0),x=1;x<s;x++)a[x-1]=arguments[x];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const K={type:Fe.EVENT,data:a};if(K.options={},K.options.compress=this.flags.compress!==!1,typeof a[a.length-1]=="function"){const ue=this.ids++,be=a.pop();this._registerAckCallback(ue,be),K.id=ue}const le=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!le||!this.connected)||(this.connected?(this.notifyOutgoingListeners(K),this.packet(K)):this.sendBuffer.push(K)),this.flags={},this}_registerAckCallback(e,s){var a=this,x;const K=(x=this.flags.timeout)!==null&&x!==void 0?x:this._opts.ackTimeout;if(K===void 0){this.acks[e]=s;return}const le=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let he=0;he<this.sendBuffer.length;he++)this.sendBuffer[he].id===e&&this.sendBuffer.splice(he,1);s.call(this,new Error("operation has timed out"))},K);this.acks[e]=function(){a.io.clearTimeoutFn(le);for(var he=arguments.length,ue=new Array(he),be=0;be<he;be++)ue[be]=arguments[be];s.apply(a,[null,...ue])}}emitWithAck(e){for(var s=arguments.length,a=new Array(s>1?s-1:0),x=1;x<s;x++)a[x-1]=arguments[x];const K=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((le,he)=>{a.push((ue,be)=>K?ue?he(ue):le(be):le(ue)),this.emit(e,...a)})}_addToQueue(e){var s=this;let a;typeof e[e.length-1]=="function"&&(a=e.pop());const x={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(K){if(x!==s._queue[0])return;if(K!==null)x.tryCount>s._opts.retries&&(s._queue.shift(),a&&a(K));else if(s._queue.shift(),a){for(var he=arguments.length,ue=new Array(he>1?he-1:0),be=1;be<he;be++)ue[be-1]=arguments[be];a(null,...ue)}return x.pending=!1,s._drainQueue()}),this._queue.push(x),this._drainQueue()}_drainQueue(e){if(e===void 0&&(e=!1),!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!e||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,s)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Fe.EVENT:case Fe.BINARY_EVENT:this.onevent(e);break;case Fe.ACK:case Fe.BINARY_ACK:this.onack(e);break;case Fe.DISCONNECT:this.ondisconnect();break;case Fe.CONNECT_ERROR:this.destroy();const a=new Error(e.data.message);a.data=e.data.data,this.emitReserved("connect_error",a);break}}onevent(e){const s=e.data||[];e.id!=null&&s.push(this.ack(e.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const s=this;let a=!1;return function(){if(!a){a=!0;for(var x=arguments.length,K=new Array(x),le=0;le<x;le++)K[le]=arguments[le];s.packet({type:Fe.ACK,id:e,data:K})}}}onack(e){const s=this.acks[e.id];typeof s=="function"&&(s.apply(this,e.data),delete this.acks[e.id])}onconnect(e,s){this.id=e,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(e===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(e===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,e.data)}}}function _t(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}_t.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*r);r=Math.floor(e*10)&1?r+s:r-s}return Math.min(r,this.max)|0},_t.prototype.reset=function(){this.attempts=0},_t.prototype.setMin=function(r){this.ms=r},_t.prototype.setMax=function(r){this.max=r},_t.prototype.setJitter=function(r){this.jitter=r};class Dt extends Z{constructor(e,s){var a;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(s=e,e=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Ee(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new _t({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=e;const x=s.parser||o;this.encoder=new x.Encoder,this.decoder=new x.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var s;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(s=this.backoff)===null||s===void 0||s.setMin(e),this)}randomizationFactor(e){var s;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(s=this.backoff)===null||s===void 0||s.setJitter(e),this)}reconnectionDelayMax(e){var s;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(s=this.backoff)===null||s===void 0||s.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new lt(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const x=it(s,"open",function(){a.onopen(),e&&e()}),K=he=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",he),e?e(he):this.maybeReconnectOnOpen()},le=it(s,"error",K);if(this._timeout!==!1){const he=this._timeout,ue=this.setTimeoutFn(()=>{x(),K(new Error("timeout")),s.close()},he);this.opts.autoUnref&&ue.unref(),this.subs.push(()=>{this.clearTimeoutFn(ue)})}return this.subs.push(x),this.subs.push(le),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(it(e,"ping",this.onping.bind(this)),it(e,"data",this.ondata.bind(this)),it(e,"error",this.onerror.bind(this)),it(e,"close",this.onclose.bind(this)),it(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(s){this.onclose("parse error",s)}}ondecoded(e){yt(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,s){let a=this.nsps[e];return a?this._autoConnect&&!a.active&&a.connect():(a=new dt(this,e,s),this.nsps[e]=a),a}_destroy(e){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(e){const s=this.encoder.encode(e);for(let a=0;a<s.length;a++)this.engine.write(s[a],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(x=>{x?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",x)):e.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Et={};function es(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const s=Ys(r,e.path||"/socket.io"),a=s.source,x=s.id,K=s.path,le=Et[x]&&K in Et[x].nsps,he=e.forceNew||e["force new connection"]||e.multiplex===!1||le;let ue;return he?ue=new Dt(a,e):(Et[x]||(Et[x]=new Dt(a,e)),ue=Et[x]),s.query&&!e.query&&(e.query=s.queryKey),ue.socket(s.path,e)}if(Object.assign(es,{Manager:Dt,Socket:dt,io:es,connect:es}),i.j!=485)var ks=i(63828);if(i.j!=485)var We=i(81697);if(i.j!=485)var tt=i(60074);if(i.j!=485)var rn=i(71090);const ts=i.j!=485?2*1e3:null,Rt=i.j!=485?24*1e3:null,ss=i.j!=485?48*1e3:null,Ft=()=>{},on=r=>{(0,tt.Q)("SKT-QUE",r)},ns=()=>({destroy:Ft,reset:Ft,emitAsync:Ns,emitLossy:Ft,reqRoomAsync:()=>Promise.resolve(),getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),Ns=async(r,e)=>({type:r,payload:e,isDummy:!0}),Bt=r=>{let{query:{uId:e,fURL:s=globalThis.location.href.slice(0,128),uTag:a=We.ck,vTag:x=rn.i},lossyListenerMap:K={},queueListenerMap:le={},socketUrl:he=globalThis.location.origin,socketPath:ue=We.z3,usePolling:be=!1}=r;const ye=(0,ks.hF)();let t,l=(0,f.vH)(),d=0,p=js,v=null;const y=()=>{t!==void 0&&(t.close(),t=void 0,l=(0,f.vH)(),j=!1,v&&clearTimeout(v),v=null)},b=()=>{y();const P=new Dt(he,{path:ue,query:{uId:e,fURL:s,uTag:a,vTag:x},transports:be?["polling","websocket"]:["websocket"],timeout:ss,reconnectionDelay:Math.round((ts+Rt)/2),reconnectionDelayMax:ss,randomizationFactor:(Rt-ts)/(Rt+ts),closeOnBeforeunload:!1}).socket(We.Or);P.on("connect_error",U=>{console.log("[socket] connect_error",U),U.message.includes(We.Jc)&&(y(),ye.dispatchEvent({type:We.E$,payload:{error:U}})),ye.dispatchEvent({type:We.Rm,payload:{error:U}})}),P.on("connect",async()=>{console.log("[socket] connect");{const U=Date.now(),G=await E(We.hD),W=Date.now();d=G-(U+W)*.5}p!==js&&await E(We.Cu,p),v=(0,A.Q3)(()=>{!t||!t.connected||j||b()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),ye.dispatchEvent({type:We.FC}),l.resolve()});{let U=Promise.resolve();const G=W=>{const ie=U.then(W);return U=ie.then(Ft,on),ie};ye.clear();for(const[W,ie]of Object.entries(K))P.on(W,ge=>ie({type:W,payload:ge})),ye.addEventListener(W,ge=>{let{payload:se}=ge;return ie({type:W,payload:se})});for(const[W,ie]of Object.entries(le))P.on(W,ge=>G(()=>ie({type:W,payload:ge}))),ye.addEventListener(W,ge=>{let{payload:se}=ge;return G(()=>ie({type:W,payload:se}))})}t=P};let j=!1;const E=(L,P)=>new Promise(U=>{t.emit(L,P,U),j=!0}).then(U=>{j=!1;const{error:G,result:W}=U;if(G!==void 0)throw Object.assign(new Error(typeof G=="object"&&G.message||"SKT-USR error"),G);return W}),M=(L,P)=>{t.volatile.emit(L,P)},R=async L=>{await E(We.Cu,L),p=L};return b(),{destroy:y,reset:b,emitAsync:E,emitLossy:M,reqRoomAsync:R,getIsConnected:()=>t&&t.connected||!1,getSocketId:()=>t&&t.id||"",getReadyPromise:()=>l.promise,getOffsetMsec:()=>d}},js=i.j!=485?[[],[],[]]:null;var St=i(4423),qe=i(6515),rs=i(77101),Ge=i(91320);if(i.j!=485)var Ue=i(66234);if(i.j!=485)var ze=i(76336);var Ct=i(21630);const De=0,an={cDebugMin:De,cCmtPack:De+1,cCmtThread:De+2,cCmtContent:De+3,cDebugMax:35},mt=(0,Ct.$)("cmt-type",an),Es=mt.pack("cCmtPack"),Ps=mt.pack("cCmtThread"),os=mt.pack("cCmtContent"),Zn=new Set(["cCmtPack","cCmtThread","cCmtContent"]),cn=new Set([Es,Ps,os]);if(i.j!=485)var is=i(80693);const Ut={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},as=(0,Ct.$)("DraftBlockType",Ut),ln={left:0,center:1,right:2,justify:3},zt=(0,Ct.$)("DraftAlignment",ln),dn={LINK:0,IMAGE:1},Is=(0,Ct.$)("DraftEntityMapType",dn),pn={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},Ms=(0,Ct.$)("DraftEntityMapMutability",pn),un={_blank:0,_self:1},Os=(0,Ct.$)("DraftLinkTargetOption",un),hn=r=>{const e={};return Object.keys(r).forEach(s=>{const{type:a,mutability:x,data:K}=r[s],le=[Is.pack(a),Ms.pack(x)],he=[];a==="LINK"?(le.push(Os.pack(K.targetOption)),he.push(K.url||"")):a==="IMAGE"&&(le.push((0,Ue.xd)(K.width),zt.pack(K.alignment)),he.push(K.src||"",K.alt||"")),e["e/"+s]=[le.join(ze.Kt),...he]}),e},mn=r=>{const e={};for(const s of Object.keys(r)){if(!s.startsWith("e/"))continue;const a=s.split("e/")[1],[x,...K]=r[s],[le,he,ue,be]=x.split(ze.Kt),ye=Is.parse(le),t=Ms.parse(he);e[a]=ye==="LINK"?{type:ye,mutability:t,data:{url:K[0],targetOption:Os.parse(ue)}}:{type:ye,mutability:t,data:{src:K[0],alt:K[1],width:(0,Ue.nZ)(ue),alignment:zt.parse(be)}}}return e},gn=r=>{const e={};return Object.keys(r).forEach(s=>{const{text:a,type:x,depth:K,inlineStyleRanges:le,entityRanges:he,data:{textAlign:ue,textIndent:be,paraSpacing:ye}}=r[s],t=[as.packDef(x,"unstyled"),(0,Ue.xd)(K),ue?zt.pack(ue):"",be!==void 0?(0,Ue.xd)(be):"",ye!==void 0?(0,Ge.DF)(ye):""];e["b/"+s]=[t.join(ze.Kt),a,le.map(l=>{let{offset:d,length:p,style:v}=l;return bn(d,p,v)}),he.map(l=>{let{offset:d,length:p,key:v}=l;return fn(d,p,v)})]}),e},fn=(r,e,s)=>""+(0,Ue.xd)(r)+ze.Kt+(0,Ue.xd)(e)+ze.Kt+(0,Ue.xd)(s),yn=r=>{const e=r.indexOf(ze.Kt),s=r.indexOf(ze.Kt,e+1);return[(0,Ue.nZ)(r.slice(0,e)),(0,Ue.nZ)(r.slice(e+1,s)),(0,Ue.nZ)(r.slice(s+1))]},bn=(r,e,s)=>""+(0,Ue.xd)(r)+ze.Kt+(0,Ue.xd)(e)+ze.Kt+s,xn=r=>{const e=r.indexOf(ze.Kt),s=r.indexOf(ze.Kt,e+1);return[(0,Ue.nZ)(r.slice(0,e)),(0,Ue.nZ)(r.slice(e+1,s)),r.slice(s+1)]},vn=r=>{const e={};for(const s of Object.keys(r)){if(!s.startsWith("b/"))continue;const a=s.split("b/")[1],[x,K,le,he]=r[s],[ue,be,ye,t,l]=x.split(ze.Kt),d={};ye!==""&&(d.textAlign=zt.parse(ye)),t!==""&&(d.textIndent=(0,Ue.nZ)(t)),l!==""&&l!==void 0&&(d.paraSpacing=(0,Ge.Ci)(l)),e[a]={text:K,type:as.parse(ue),depth:(0,Ue.nZ)(be),inlineStyleRanges:le.map(p=>{const[v,y,b]=xn(p);return{offset:v,length:y,style:b}}),entityRanges:he.map(p=>{const[v,y,b]=yn(p);return{offset:v,length:y,key:b}}),data:d}}return e},As=r=>{let{message:e}=r;const{blocks:s={},entityMap:a={}}=e;return{...gn(s),...hn(a)}},Ts=r=>({message:{blocks:vn(r),entityMap:mn(r)}}),cs=r=>({T:mt.pack(r.type),IC:[(0,Ue.xd)(r.index),(0,Ue.hc)(r.ctime)].join(ze.Kt)}),ls=r=>{const[e,s]=r.IC.split(ze.Kt);return{type:mt.parse(r.T),index:(0,Ue.nZ)(e),ctime:(0,Ue.sO)(s)}},wn=r=>({...cs(r),R:r.refKey}),_n=r=>({...ls(r),refKey:r.R}),Sn=r=>({...cs(r),...As(r),xy:(0,Ge.jq)(r.x,r.y),wh:(0,Ge.jq)(r.w,r.h),z:(0,Ge.DF)(r.z),userInfo:r.userInfo,userId:(0,Ge.DF)(r.userId),mtime:(0,Ue.hc)(r.mtime),isCompleted:(0,is.aY)(r.isCompleted),canvasVec2:r.canvasVec2?{x:(0,Ge.DF)(r.canvasVec2.x),y:(0,Ge.DF)(r.canvasVec2.y)}:r.canvasVec2,canvasCid:r.canvasCid,threadType:r.threadType}),Cn=r=>{const[e,s]=(0,Ge.dn)(r.xy),[a,x]=(0,Ge.dn)(r.wh),K=r.canvasVec2?(0,Ge.Ci)(r.canvasVec2.x):void 0,le=r.canvasVec2?(0,Ge.Ci)(r.canvasVec2.y):void 0,he=(0,Ge.Ci)(r.z);return{...ls(r),...Ts(r),x:e,y:s,w:a,h:x,z:he,mtime:(0,Ue.sO)(r.mtime),userInfo:r.userInfo,userId:(0,Ge.Ci)(r.userId),isCompleted:(0,is.YI)(r.isCompleted),canvasCid:r.canvasCid,threadType:r.threadType,canvasVec2:K&&le?{x:K,y:le}:void 0}},ds=r=>({...cs(r),...As(r),mtime:(0,Ue.hc)(r.mtime),userInfo:r.userInfo}),Ls=r=>({...ls(r),...Ts(r),mtime:(0,Ue.sO)(r.mtime),userInfo:r.userInfo}),ps=r=>{try{switch(r.T){case void 0:return r;case Es:return _n(r);case Ps:return Cn(r);case os:return Ls(r);default:throw new Error("invalid attr: "+r.T+" -> "+mt.parse(r.T))}}catch(e){throw(0,tt.Q)("toP2CHA badDat",e,r),e}},Ds=r=>{try{switch(r.type){case void 0:return r;case"cCmtPack":return wn(r);case"cCmtThread":return Sn(r);case"cCmtContent":return ds(r);default:throw new Error("invalid attr: "+r.type)}}catch(e){throw(0,tt.Q)("toP2CCA badDat",e,r),e}};if(i.j!=485)var kn=i(9390);const kt=(r,e)=>{const s=he=>{const ue=r(he);return ue===void 0?[]:ue.sub.map(be=>r(be))},a=(0,kn.Ir)(he=>he.sub.map(ue=>r(ue))),x=(he,ue)=>{const be=r(he);be!==void 0&&(ue(be)||be.sub.length!==0&&a(be,ue))};return{getHotItem:r,getSubHotItemList:s,walkHotItemSubtree:x,isTrashed:he=>(0,qe.z4)(he,e.getFlatTree()),__devHotTree:function(he){he===void 0&&(he=qe.$3);const ue=new Map,be=ye=>{let t=ue.get(ye);return t===void 0&&ue.set(ye,t={}),t};return x(he,ye=>{be(ye.sup)[ye.key]=ye.hotAttr,ye.sub.length!==0&&(be(ye.sup)[ye.key+" SUB"]=be(ye.key))}),be(r(he).sup)}}};if(i.j!=485)var Nn=i(53705);if(i.j!=485)var us=i(93834);var jn=i(96293),rt=i(2150);if(i.j!=485)var Rs=i(60264);const En=(r,e,s)=>{const a=l=>{if(l===void 0||l.length===0)return;const d=new Set;for(const v of l)d.add(v.key),v.type==="I"&&d.add(v.keySup);const p=(0,qe.O2)([...d].filter(qe.w3),s.getFlatTree());r({type:Rs.K,payload:p})},x=l=>{const d=[],p=l(d);return a(s.applyDiff(d)),p},K=l=>x(d=>{const p=[],v=l(p);for(const y of p)y.type==="update"?be(y.hotItem,d):y.type==="delete"&&ye(y.key,d);return v}),le=function(){const l=[],d=[];let p,v=!1;for(var y=arguments.length,b=new Array(y),j=0;j<y;j++)b[j]=arguments[j];for(const E of b){p=E(l);const M=s.applyDiff(l);M!==void 0&&(d.push(...M),v?s.combineLastUndo():v=!0)}return a(d),p},he=function(){for(var l=arguments.length,d=new Array(l),p=0;p<l;p++)d[p]=arguments[p];const v=d.map(y=>b=>{const j=[],E=y(j);for(const M of j)M.type==="update"?be(M.hotItem,b):M.type==="delete"&&ye(M.key,b);return E});return le(...v)},ue=(l,d)=>{for(const p of Object.keys(l)){const v=l[p],y=d[p];v!==y&&(0,Nn.$N)(v)&&(0,Nn.$N)(y)&&JSON.stringify(v)===JSON.stringify(y)&&(l[p]=y)}},be=(l,d)=>{const p=(0,qe.c6)(l.key,s.getFlatTree());if(p===void 0)d.push({type:rt.P6,key:l.key,keySup:l.sup}),d.push({type:rt.q$,key:l.key,attrDiff:Ds(l.hotAttr)});else{p.sup!==l.sup&&d.push({type:rt.P6,key:l.key,keySup:l.sup});const v=Ds(l.hotAttr);ue(v,p.attr);const y=(0,jn.O)(v,p.attr);y!==void 0&&d.push({type:rt.q$,key:l.key,attrDiff:y})}},ye=(l,d)=>{s.getFlatItem(l)&&d.push({type:rt.P6,key:l,keySup:qe.bx})},t=(l,d,p)=>{s.getFlatItem(l)&&s.getFlatItem(d)&&p.push({type:rt.P6,key:l,keySup:d})};return{_edit:x,_editAction:K,_editBatch:le,_editActionBatch:he,onRemotePatchList:l=>{const d=[];for(const p of l){const v=s.applyDiffRemote(p.diffList,p.clock);v!==void 0&&d.push(...v)}a(d)},updateHotItem:l=>x(d=>{be(l,d)}),updateHotItemBatch:l=>x(d=>{for(const p of l)be(p,d)}),deleteHotItem:l=>x(d=>{ye(l,d)}),deleteHotItemBatch:l=>x(d=>{for(const p of l)ye(p,d)}),moveHotItem:(l,d)=>x(p=>{t(l,d,p)}),moveHotItemBatch:l=>x(d=>{for(const[p,v]of l)t(p,v,d)}),editHotItemBatch:l=>x(d=>{for(const p of l)p.type==="update"?be(p.hotItem,d):p.type==="delete"&&ye(p.key,d)}),updateHotAttrMerge:(l,d)=>x(p=>{const v=e(l);if(v===void 0)throw new Error("no item: "+l);be((0,us.iA)(v,"hotAttr",{...v.hotAttr,...d}),p)}),updateHotAttrKV:(l,d,p)=>x(v=>{const y=e(l);if(y===void 0)throw new Error("no item: "+l);be((0,us.iA)(y,"hotAttr",(0,us.iA)(y.hotAttr,d,p)),v)}),canUndo:s.canUndo,canRedo:s.canRedo,combineMergeMark:s.combineMergeMark,combineMerge:s.combineMerge,undo:()=>{a(s.undo())},redo:()=>{a(s.redo())}}};var Zt=i(50436);const Pn=r=>{const e=(0,ks.Dt)(),s=e.subscribe,a=e.unsubscribe,x=Fs(r),K=kt(x,r),le=()=>In(r.getFlatTree),he=En(e.send,x,r),{_edit:ue,_editAction:be,_editBatch:ye,_editActionBatch:t,...l}=he;return{subscribe:s,unsubscribe:a,...K,createRoCmtStore:le,...l}},Fs=r=>e=>{const s=r.getFlatTree().get(e);if(s===void 0)return;const a=r.getOCI(s);return a.hotItem===void 0&&(a.hotItem={key:s.key,sup:s.sup,sub:s.sub,hotAttr:ps(s.attr)}),a.hotItem},In=r=>{const e=(0,Zt.$H)(r(),(0,St.LQ)({})),s=()=>e.getFlatTree()!==r(),a=()=>e.sync(r()),x=Fs(e),K=kt(x,e);return{hasUpdate:s,syncUpdate:a,...K}};var Bs=i(20100);if(i.j!=485)var Mn=i(30388);var Nt=i(58161),Us=i(82940);const On=r=>{const[e,s,a]=r,x=()=>(0,qe.Z0)((0,Us.rm)(e.tre)),K=function(ye){ye===void 0&&(ye=-1);const t=[];for(const{pbx:l,t10s:d}of s){if(d<ye)continue;const p=(0,Us.rm)(l);for(const v of(0,Nt.sd)(p))t.push(v)}for(const{pch:l,t10s:d}of a)d<ye||t.push(l);return t},le=function(ye){ye===void 0&&(ye=-1);const t=[];for(const l of K(ye))t.push((0,rt.G8)(l));return t},he=function(ye){ye===void 0&&(ye=-1);const t=[];for(const l of K(ye)){const{clock:d,diffList:p}=(0,rt.G8)(l);t.push([(0,St.I_)(d).slice(5),p,l])}return t};return{getParsedTre:x,getPchList:K,getPatchList:le,getReadablePatchList:he,filterReadablePatchList:function(ye,t){return t===void 0&&(t=-1),he(t).filter(l=>{let[,d,p]=l;return p.includes(ye)})},getMergedReadablePatchList:function(ye,t){ye===void 0&&(ye=-1),t===void 0&&(t=16);const l=[];let d={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const p=v=>{d.timePrefix!==v&&(d.timePrefix!==""&&l.push(d.timePrefix.slice(5)+"..Z I*"+(d.countDI||"-")+" A*"+(d.countDA||"-")+" ["+[...d.userIdSet].join(",")+"]"),d={timePrefix:v,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[v,y],diffList:b}of le(ye)){const j=new Date(v).toISOString().slice(0,t);p(j),d.userIdSet.add(y);for(const{type:E}of b)E===rt.P6?d.countDI++:d.countDA++}return p(""),l},flpak:r}},hs=r=>Math.floor(r/10/1e3),ms=r=>{const[e]=(0,rt.$i)(r);return hs(e)},An=r=>{let[e,s,a]=r;return a.length!==0?a[a.length-1].t10s:s.length!==0?s[s.length-1].t10s:e.t10s};if(i.j!=485)var Pt=i(35398);var gs=i(67833),fs=i(71902);const ys=(r,e)=>{let s=!1,a=0,x=0;const K=new Map;let le=[],he,ue,be,ye;const t=()=>{ue===void 0&&console.log("sync|onSocketConnect")},l=P=>{let[U,,G]=P;if(U!==r)return!1;const W=(0,Nt.Ue)(G);for(const ie of W)le.push([ie,ms(ie),!1]);return be!==void 0&&be(W.map(ie=>(0,rt.G8)(ie))),!0},d=async(P,U)=>{if(ue!==void 0)throw new Error("no re-init flatStore");he=P,ye=U;const G=await ye(r);{const pe="INSP-INIT-FLPAK";location.hash.includes(pe)&&Object.assign(globalThis,{[pe+"/"+r]:{...On(G),__flpakKey:r,__name:e}})}a=An(G);const W=(0,Zt.XD)(),ie=await(0,gs.Ys)(fs.V,G,W.mutateTFAAFNB);let ge=qe.DO;{const pe="BYPASS-FLPAK";location.hash.includes(pe)&&(ge=z=>console.warn("["+pe+"|vFT]",z))}for(const[pe,z,fe]of le)!fe&&a>=z||(0,Nt.kA)(ie,pe,W.mutateTFAAFNB);ue=(0,Zt.$H)(ie,P,(pe,z,fe)=>{if(s&&console.log("flat|onPatch",{diffList:pe,clock:z,isLocal:fe}),le.push([(0,rt.ZC)({diffList:pe,clock:z}),hs(z[0]),fe]),fe)return;const[Ce,Me,ke,Oe]=z;x=Math.max(x,Ce);const Pe=(0,St.kY)(Me,ke);if(he.selfCCK===Pe)throw new Error("unexpected selfCck: "+Pe);const Te=K.get(Pe)||-1;if(Te>Oe)throw new Error("bad editId for cck: "+Pe+", last: "+Te+", new: "+Oe);K.set(Pe,Oe)},(pe,z)=>{console.warn("flat|requestResync",{error:pe,message:z})}),be=pe=>{for(const z of pe)ue.applyDiffRemote(z.diffList,z.clock)};const se=W.getFixDiffList(ie);se.length&&(ue.applyDiff(se),ue.resetUndo()),ge(ie)},p=P=>{be=P},v=()=>he,y=()=>ue,b=async function(P){P===void 0&&(P="");try{if(!ue||!a||!M())return;const U=ue.getFlatTree(),[G,W]=await(0,gs.TC)(fs.V,U);await(0,Pt.au)("//FSS/"+e+"/"+r,new Blob([W],{type:"application/octet-stream"}),{message:P,treRawSize:G,treSize:W.byteLength})}catch(U){console.warn("saveSOS",P,U)}},j=async()=>{try{const P=await(0,Pt.IF)("//FSS/"+e+"/"+r);if(P.length){console.warn("[loadSOS] found "+P.length+" record");const{data:U,extra:G}=P[0];console.warn("[loadSOS] load record from "+new Date(G.time).toISOString());const W=await(0,Mn.H)(U),ie=await(0,gs.$U)(fs.V,W);return console.warn("[loadSOS] record tree: "+ie.size),{tree:ie,...G}}}catch(P){console.warn("loadSOS",P)}},E=async()=>{try{return await(0,Pt.Af)("//FSS/"+e+"/"+r)}catch(P){console.warn("freeSOS",P)}},M=()=>{for(const[,,P]of le)if(P)return!0;return!1};return{flpakKey:r,name:e,__setIsDev:P=>{s=P},onSocketConnect:t,onRemotePayloadSave:l,bind:d,useExtORPL:p,getClockStore:v,getFlatStore:y,saveSOS:b,loadSOS:j,freeSOS:E,hasPatch:M,preSettlePatch:()=>{const P=[];for(const[U,,G]of le)G&&P.push(U);return P},postSettlePatch:P=>{le=le.filter(U=>{let[G,W,ie]=U;return!ie||!P.includes(G)})}}},zs=(r,e)=>{let s,a;return{flpakKey:r,name:"[DUMMY]"+e,__setIsDev:x=>{},onSocketConnect:()=>{},onRemotePayloadSave:x=>{let[K,,le]=x;return!1},bind:async(x,K)=>{if(a!==void 0)throw new Error("no re-init flatStore");s=x,a=(0,Zt.$H)((0,qe.ZR)(),x)},useExtORPL:x=>{},getClockStore:()=>s,getFlatStore:()=>a,saveSOS:async x=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:x=>{}}};if(i.j!=485)var Tn=i(91458);const Ln=i.j!=485?Ge.jq:null,Zs=i.j!=485?Ge.dn:null,Dn=r=>{const e=new Map;let s=!1,a=!1,x,K=()=>"";const le=()=>{e.clear(),be()};let he=0;const ue=R=>{const L={socketId:R,index:he++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return e.set(R,L),s=!0,L},be=(0,f.My)(async()=>{if(await(0,A.Kb)(2*1e3),x===void 0)return;const R=[];for(const{socketId:P,lastStatAt:U}of e.values())U!==0&&R.push(P);const L=await x([r,R]);for(const[P,U,G]of L){const W=e.get(P)||ue(P);W.lastStatAt=Date.now(),W.stat=[U,G]}d=3,await(0,A.Kb)(8*1e3)},R=>{console.warn("_tPS",R)}).trigger,ye=R=>{let[L,P,U]=R;const[G,W]=Zs(U),ie=[G,W,P],ge=e.get(L)||ue(L);ge.lastCurAt=Date.now(),ge.cur=ie,ge.lastStatAt===0?be():a=!0},t=R=>{let[L,P]=R;const U=e.has(P);L===0&&U?(e.delete(P),s=!0):L===1&&!U&&(ue(P),be())};let l=["",NaN,NaN],d=0;const p=function(R){R===void 0&&(R=l[0]);const L=K();if(L==="")return!1;for(const{socketId:P,cur:U}of e.values())if(U&&U[2]===R&&P!==L)return!0;return!1},v=function(R,L,P){if(L===void 0&&(L=Ge.nl),P===void 0&&(P=Ge.nl),!(e.size<2)){if(l[0]!==R)d=3;else if(!d&&l[0]===R&&l[1]===L&&l[2]===P)return;if(l=[R,L,P],!(!p(R)&&!d))return d&&d--,[r,R,Ln(L,P)]}},y=async(R,L)=>{if(x!==void 0)throw new Error("no re-init flatStore");x=R,K=L,be()},b=()=>{const R=K(),L=[];if(R==="")return L;for(const{socketId:P,stat:U}of e.values()){if(U===void 0)continue;const[G,W]=U;R===P?L.unshift([P,G,W]):L.push([P,G,W])}return L},j=R=>{const L=K(),P=[];if(L==="")return P;for(const{socketId:U,index:G,cur:W,stat:ie}of e.values()){if(L===U||W===void 0||ie===void 0)continue;const[ge,se,pe]=W;if(pe!==R||ge===Ge.nl)continue;const[z,fe]=ie;P.push([G,ge,se,z,fe])}return P},E=()=>s?(s=!1,!0):!1,M=()=>a?(a=!1,!0):!1;return{flpakKey:r,__curStatMap:e,onSocketConnect:le,onRemoteCur:ye,onRemoteSocket:t,hasOtherUser:p,tryPackCur:v,bind:y,getRoomStat:b,getSocketStat:b,getCurStat:j,pollRoomChg:E,pollCurChg:M,pollChange:M}},Rn=r=>{const e=()=>{},s=ye=>{let[t,l,d]=ye},a=ye=>{let[t,l]=ye},x=ye=>!1,K=(ye,t,l)=>{},le=async(ye,t)=>{},he=()=>[],ue=ye=>[],be=()=>!1;return{flpakKey:r,onSocketConnect:e,onRemoteCur:s,onRemoteSocket:a,hasOtherUser:x,tryPackCur:K,bind:le,getRoomStat:he,getSocketStat:he,getCurStat:ue,pollRoomChg:be,pollCurChg:be,pollChange:be}},Vs=function(r,e){e===void 0&&(e=250);let s=null,a=null;return function(){for(var x=arguments.length,K=new Array(x),le=0;le<x;le++)K[le]=arguments[le];a=K,!s&&(s=(0,A.Q3)(()=>{s=null,r.apply(null,a),a=null},e))}},bs=()=>{};let It=!1;const Ks=r=>{It=r},Hs="dat",Fn="cmt",Bn="mkt:dat",Un=async r=>{let{flpakKey:e,userId:s,uTag:a,token:x,passwd:K,isDummyCmt:le=!1,isAllowDat:he=!1,isAllowCmt:ue=!1,isAllowCur:be=!1,afterStoreCreate:ye=bs,__fetchFlpakAsync:t=Bs.WD,onTransferError:l=bs,onReadOnlyError:d=function(z,fe){return fe===void 0&&(fe=""),console.warn(z,fe)}}=r;const p=ys(e,Hs),v=(le?zs:ys)((0,Tn.a6)(e),Fn),y=(be?Dn:Rn)(e);await ye({fssDat:p});const b=async(z,fe)=>{await p.saveSOS("OTE|"+z+"|"+fe),await l(z,fe)},j=s?Bt({query:{uId:String(s),uTag:a},usePolling:It,lossyListenerMap:{[We.GF]:z=>{const{payload:fe}=z;y.onRemoteCur(fe)}},queueListenerMap:{[We.E$]:z=>{const{error:fe}=z;console.log("flat-ws drop-client",fe),b("4XX",fe)},[We.Rm]:z=>{const{error:fe}=z;console.log("flat-ws error",fe),b("5XX",fe)},[We.FC]:()=>{console.log("flat-ws (re)connected"),p.onSocketConnect(),v.onSocketConnect(),y.onSocketConnect()},[We.nB]:z=>{const{payload:fe}=z;p.onRemotePayloadSave(fe)||v.onRemotePayloadSave(fe)||console.warn("drop save payload:",fe)},[We.FK]:z=>{const{payload:fe}=z;console.log("flat-ws room cursor:",fe),y.onRemoteSocket(fe)}}}):ns();await Promise.all([(async()=>{await j.getReadyPromise()})(),(async()=>{await j.reqRoomAsync([he?[e]:[],ue?[e]:[],be?[e]:[]])})()]);const E=async(z,fe,Ce)=>{try{return await t(z,{token:x,passwd:K,skipTTre:String(fe||""),skipTPbxList:(Ce||[]).join("")})}catch(Me){const ke=xs(Me);throw(0,tt.Q)("fFS "+ke,Me),await b(ke,Me),Me}};await Promise.all([p.bind((0,St.LQ)({userId:s,mtimeOffset:j.getOffsetMsec()}),E).catch(z=>{throw(0,tt.Q)("bindDat",z),z}),v.bind((0,St.LQ)({userId:s,mtimeOffset:j.getOffsetMsec()}),E).catch(z=>{throw(0,tt.Q)("bindCmt",z),z}),y.bind(async z=>{try{if(j.getIsConnected())return await j.emitAsync(We.tE,z)}catch(fe){await(0,A.Kb)(42*1e3)}return[]},j.getSocketId).catch(z=>{throw(0,tt.Q)("bindCur",z),z})]);const M=new Error("[tracked-error]"),R=async(z,fe)=>{if(!z.hasPatch())return;const Ce=z.preSettlePatch(),Me=(0,Nt.S0)((0,Nt.Mg)(Ce));fe!==!0&&(d(z.name===Hs?"Dat":"Cmt","RO|"+z.name+"|"+z.flpakKey+" #"+Ce.length),Me.length=0);for(let ke=0,Oe=Me.length;ke<Oe;ke++){const Pe=Me[ke];try{await j.emitAsync(We.Tm,[z.flpakKey,Pe.length,(0,Nt.Cd)(Pe)])}catch(Te){const Re=xs(Te);throw(0,tt.Q)("saveFss "+Re,Te,z.name,z.flpakKey,ke+1+"/"+Oe,Pe),await b(Re,Te),M}}z.postSettlePatch(Ce)},L=(0,f.My)(async()=>(0,f.n7)(async()=>{await R(p,he),await R(v,ue),await p.freeSOS()},42*1e3),z=>{if(z===M)return;const fe=xs(z);fe!=="Tot"&&(0,tt.Q)("lFFss "+fe,z),Promise.resolve(b(fe,z)).catch(Ce=>{(0,tt.Q)("lFFss "+fe+" Err",Ce)})}),P=(0,f.My)(async()=>{!y.hasOtherUser()&&await(0,A.Kb)(3*1e3),!y.hasOtherUser()&&await(0,A.Kb)(3*1e3),L.trigger(),await L.getRunningPromise(),!y.hasOtherUser()&&await(0,A.Kb)(3*1e3),!y.hasOtherUser()&&await(0,A.Kb)(3*1e3)});setInterval(P.trigger,2*1e3),be&&setInterval(()=>y.onSocketConnect(),20*60*1e3);const U=p.getFlatStore(),G=(0,rs.p)(p.getFlatStore());p.useExtORPL(G.onRemotePatchList);const W=Pn(v.getFlatStore());v.useExtORPL(W.onRemotePatchList);const ie=()=>p.hasPatch()||v.hasPatch(),ge=(0,f.zH)(async()=>(0,f.rP)(async()=>{let z=0;for(;ie();)await(0,A.Kb)(Math.min(z,5)*1e3),L.trigger(),await L.getRunningPromise(),z++})),se=()=>globalThis.MB.getSelectionItems()[0].key,pe=Vs((z,fe,Ce)=>{const Me=y.tryPackCur(z,fe,Ce);Me&&j.getIsConnected()&&j.emitLossy(We.sv,Me)},125);return{fssDat:p,fssCmt:v,cssCur:y,flatSocket:j,flatStore:U,sdkStore:G,cmtStore:W,sendCur:(z,fe,Ce)=>{be===!0?pe(z,fe,Ce):be==="RO"&&d("Cur","")},hasSave:ie,saveAsync:ge,triggerSave:z=>{L.trigger(),z&&ge().then(z)},triggerFlushLocalPatch:L.trigger,theTree:function(z){return z===void 0&&(z=qe.$3),console.log((0,qe.im)(U.getFlatTree(),z))},hotTree:function(z){return z===void 0&&(z=qe.$3),console.log(G.__devHotTree(z))},slctTree:function(z){return z===void 0&&(z=se()),console.log(G.__devHotTree(z))},upTree:function(z,fe){return z===void 0&&(z=se()),fe===void 0&&(fe=qe.$3),console.log(G.findUpHotItemList(z,fe))},cmtTree:function(z){return z===void 0&&(z=qe.$3),console.log(W.__devHotTree(z))}}},xs=r=>{const e=r&&r.status;return e>=400&&e<500?"4XX":String(r).toLowerCase().includes("timeout")?"Tot":"5XX"},zn=async r=>{let{flpakKey:e,token:s,passwd:a}=r;const x=ys(e,Bn),K=async(ue,be,ye)=>(0,Bs.WD)(ue,{token:s,passwd:a,skipTTre:String(be||""),skipTPbxList:(ye||[]).join("")});await x.bind((0,St.LQ)({}),K);const le=x.getFlatStore(),he=(0,rs.p)(x.getFlatStore());return{fssDat:x,flatStore:le,sdkStore:he}}},99990:(Se,te,i)=>{"use strict";i.d(te,{$B:()=>J,BG:()=>T,BS:()=>nt,F7:()=>N,H3:()=>ot,HP:()=>de,IS:()=>Mt,Im:()=>o.Im,J5:()=>u,KI:()=>Z,KQ:()=>ne,MT:()=>Kt,My:()=>ut,NK:()=>Ke,Ok:()=>F,P3:()=>V,Qs:()=>Q,RI:()=>Y,RO:()=>et,Tz:()=>st,Vp:()=>Le,W:()=>X,X6:()=>H,Xr:()=>ce,_5:()=>At,a$:()=>re,be:()=>m,bt:()=>O,cD:()=>we,iq:()=>Je,kk:()=>Ot,qr:()=>xe,rM:()=>B,rw:()=>_,sE:()=>He,tr:()=>ct,uB:()=>Ne,uo:()=>D,ur:()=>C,vL:()=>I});var o=i(7776),f=i(6966),A=i(76985);if(i.j!="undefined")var h=i(35517);if(i.j!=485)var S=i(11230);const ee=($,n)=>{const me=new Error("[NO SENTRY] "+$);return Object.assign(me,n),me},F=($,n)=>(0,f.EE)("/api/upper/web_v1/design/readonly_initial?access_token="+$+"&password="+n),I=async($,n)=>{const me="/api/flat/web_v1/preview/initial?access_token="+$+"&view_mode="+n,je=await fetch(me,{credentials:"same-origin"}),Be=await je.json();if(je.status!==200)throw ee("[fetchGetHead] failed with "+je.status+": "+me,{status:je.status,error_type:Be==null?void 0:Be.error_type});return Be},T=($,n)=>(0,f.IP)("/api/upper/web_v1/basics/"+$,{...n}),re=async()=>{let $=[];try{const n=await(0,f.EE)("/api/library/v4/recent_keywords");n!=null&&n.keywords&&($=n==null?void 0:n.keywords)}catch(n){await(0,h.Vz)(n)}return $},ce=()=>(0,f._E)("/api/library/v4/recent_keywords"),Y=$=>(0,f.Mn)("/api/library/v4/recent_keywords",{keyword:$}),ne=async()=>{if((0,S.p)())return oe();{var $;let n;try{n=await(0,f.EE)("/api/library/v3/project_upper/user_combo_groups")}catch(me){return await(0,h.Vz)(me),{}}return{userComboGroupList:($=n)==null?void 0:$.user_combo_groups}}},oe=async()=>{var $;let n;try{n=await(0,f.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(me){return await(0,h.Vz)(me),{}}return{userComboGroupList:($=n)==null?void 0:$.org_combo_groups}},X=async $=>{var n;let{orgCid:me}=$,je;try{je=await(0,f.EE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+me)}catch(Be){return await(0,h.Vz)(Be),{}}return{orgComboGroupList:(n=je)==null?void 0:n.org_combo_groups}},D=async $=>{const{icon_group:n,market_template:me}=await(0,o.Mv)($.cid),{source:je,title:Be}=n||{},Ve=await(0,f.EE)(je),Tt=A.em[Be]||"svg",{iconGroupData:yt}=(0,A._7)(Ve,Tt);return{iconGroupData:yt,marketTemplate:me}},O=async()=>{if((0,S.p)())return w();try{const{asset_groups:$}=await(0,f.sE)("/api/library/v3/asset_data/me/asset_groups");return{userAssetGroupList:$}}catch($){await(0,h.Vz)($)}},w=async()=>{const $=MB.user.solo_org.cid;try{const{asset_groups:n}=await(0,f.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+$);return{userAssetGroupList:n}}catch(n){await(0,h.Vz)(n)}},m=async $=>{let{orgCid:n}=$;try{const{asset_groups:me}=await(0,f.sE)("/api/library/v3/asset_data/org/asset_groups?org_cid="+n);return{orgAssetGroupList:me}}catch(me){await(0,h.Vz)(me)}},u=async $=>{if((0,S.p)())return g($);try{const{asset:n,user_asset:me}=await(0,f.NS)("/api/library/v3/asset_data/me/search_by_url",{image_url:$});return{asset:n,user_asset:me}}catch(n){await(0,h.Vz)(n)}},g=async $=>{const n=MB.user.solo_org.cid;try{const{asset:me,org_asset:je}=await(0,f.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:$,org_cid:n});return{asset:me,user_asset:je}}catch(me){await(0,h.Vz)(me)}},C=async($,n)=>{try{const{asset:me,org_asset:je}=await(0,f.NS)("/api/library/v3/asset_data/org/search_by_url",{image_url:$,org_cid:n});return{asset:me,org_asset:je}}catch(me){await(0,h.Vz)(me)}},V=async $=>{if((0,S.p)())return k($);try{const{user_asset_group:n}=await(0,f.bX)("/api/library/v4/users/asset_groups/"+$.cid,{...$});return{user_asset_group:n}}catch(n){await(0,h.Vz)(n)}},k=async $=>{const n=MB.user.solo_org.cid;try{const{org_asset_group:me}=await(0,f.bX)("/api/library/v4/orgs/asset_groups/"+$.cid,{...$,org_cid:n});return{user_asset_group:me}}catch(me){await(0,h.Vz)(me)}},B=async $=>{try{const{org_asset_group:n}=await(0,f.bX)("/api/library/v4/orgs/asset_groups/"+$.cid,{...$});return{org_asset_group:n}}catch(n){await(0,h.Vz)(n)}},N=async $=>{if((0,S.p)())return c($);try{return await(0,f.bX)("/api/library/v3/asset_data/me/assets/"+$.asset_cid,{...$})}catch(n){await(0,h.Vz)(n)}},c=async $=>{try{return await(0,f.bX)("/api/library/v3/orgs/assets/"+$.cid+"?org_cid="+$.org_cid,{...$})}catch(n){await(0,h.Vz)(n)}},H=async $=>{try{return await(0,f.bX)("/api/library/v3/orgs/assets/"+$.cid+"?org_cid="+$.org_cid,{...$})}catch(n){await(0,h.Vz)(n)}},Q=async $=>{let{cid:n,name:me,groupCid:je}=$;if((0,S.p)())return ae({cid:n,name:me,groupCid:je});try{await(0,f.NS)("/api/library/v3/asset_data/me/assets",{cid:n,name:me,group_cid:je})}catch(Be){await(0,h.Vz)(Be)}},ae=async $=>{let{cid:n,name:me,groupCid:je}=$;const Be=MB.user.solo_org.cid;try{await(0,f.NS)("/api/library/v3/orgs/assets?org_cid="+Be,{cid:n,name:me,group_cid:je})}catch(Ve){await(0,h.Vz)(Ve)}},_=async $=>{let{orgCid:n,cid:me,name:je,groupCid:Be}=$;try{const Ve=await(0,f.NS)("/api/library/v3/orgs/assets",{cid:me,org_cid:n,name:je,group_cid:Be});return Ve==null?void 0:Ve.cid}catch(Ve){await(0,h.Vz)(Ve)}},Z=async $=>{let{user_asset_group_cid:n,org_cid:me,org_asset_group_cid:je}=$;if((0,S.p)())return ve({user_asset_group_cid:n,org_cid:me,org_asset_group_cid:je});try{return(0,f.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:n,org_cid:me,org_asset_group_cid:je})}catch(Be){await(0,h.Vz)(Be)}},ve=async $=>{let{user_asset_group_cid:n,org_cid:me,org_asset_group_cid:je}=$;try{return(0,f.NS)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid:n,org_cid:me,org_asset_group_cid:je})}catch(Be){await(0,h.Vz)(Be)}},de=async $=>{if((0,S.p)())return q($);try{const{user_asset_group:n,user_assets:me}=await(0,f.sE)("/api/library/v3/asset_data/me/asset_groups/"+$);return{user_asset_group:n,userAssets:me}}catch(n){await(0,h.Vz)(n)}},q=async $=>{try{const{org_asset_group:n,org_assets:me}=await(0,f.sE)("/api/library/v3/orgs/asset_groups/"+$);return{user_asset_group:n,userAssets:me}}catch(n){await(0,h.Vz)(n)}},J=async $=>{try{const{org_asset_group:n,org_assets:me}=await(0,f.sE)("/api/library/v3/orgs/asset_groups/"+$);return{org_asset_group:n,orgAssets:me}}catch(n){await(0,h.Vz)(n)}},xe=async $=>{(0,S.p)()?await Ee($):await(0,f._E)("/api/library/v3/asset_data/me/assets/"+$.cid)},Ee=async $=>{await(0,f._E)("/api/library/v3/orgs/assets/"+$.cid+"?org_cid="+$.org_cid)},Ne=async $=>{await(0,f._E)("/api/library/v3/orgs/assets/"+$.cid+"?org_cid="+$.org_cid)},we=async $=>{(0,S.p)()?await _e($):await(0,f._E)("/api/library/v3/asset_data/me/asset_groups/"+$)},_e=async $=>{await(0,f._E)("/api/library/v3/orgs/asset_groups/"+$)},Le=async $=>{await(0,f._E)("/api/library/v3/orgs/asset_groups/"+$)},Je=$=>(0,f._Z)("/preferences/update",{...$}),st=async($,n)=>{if((0,S.p)())return Xe($,n);try{return await(0,f.bX)("/api/library/v4/users/asset_groups/"+$,{...n})}catch(me){await(0,h.Vz)(me)}},Xe=async($,n)=>{const me=MB.user.solo_org.cid;try{return await(0,f.bX)("/api/library/v4/orgs/asset_groups/"+$,{...n,org_cid:me})}catch(je){await(0,h.Vz)(je)}},et=$=>async(n,me)=>{try{const je={...me,org_cid:$};return await(0,f.bX)("/api/library/v4/orgs/asset_groups/"+n,{...je})}catch(je){await(0,h.Vz)(je)}},ot=async($,n)=>{let me=null;try{const je=await(0,f.sE)("/api/community/v1/workspace?category="+$+"&plabel="+n);je!=null&&je.market_templates&&(me=je==null?void 0:je.market_templates)}catch(je){await(0,h.Vz)(je)}return me},nt=async function($,n,me){me===void 0&&(me=null);let je=null;try{const Be=await(0,f.sE)("/api/community/v1/workspace/v8_combos?category="+$+"&"+(me?"scene_tag="+me:"plabel="+n));Be!=null&&Be.market_templates&&(je=Be==null?void 0:Be.market_templates)}catch(Be){await(0,h.Vz)(Be)}return je},ut=async $=>{let n=null;try{const me=await(0,f.EE)("/flpak/w-p2wsearch?"+$);me!=null&&me.data&&(n=me)}catch(me){await(0,h.Vz)(me)}return n},Ke=async $=>{let n=null;try{const me=await(0,f.EE)("/flpak/w-p2meta/"+$);me!=null&&me.length&&(n=me)}catch(me){await(0,h.Vz)(me)}return n},He=async $=>{let{currentComboPanel:n,projectMetaCid:me}=$;try{await(0,f.Gf)("/flpak/w-migrate-"+n+"-combo-group/"+me+"?mode=normal")}catch(je){await(0,h.Vz)(je)}},ct=async $=>{let{projectBasicCid:n}=$;try{const{userId:me,flatKey:je}=await(0,f.EE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+n);return{userId:me,flatKey:je}}catch(me){await(0,h.Vz)(me)}},Kt=async $=>{let{projectBasicCid:n,accessToken:me,password:je}=$;try{const{userId:Be,flatKey:Ve}=await(0,f.EE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+n+"&access_token="+me+"&password="+je);return{userId:Be,flatKey:Ve}}catch(Be){await(0,h.Vz)(Be)}},Mt=$=>(0,f.EE)("/api/dashboard/v5/orgs/"+$),Ot=async $=>{const{project:n}=await(0,f.EE)("/api/dashboard/v5/projects/"+$);return n},At=async $=>(0,f.EE)("/api/upper/web_v1/basics/statstics/"+$)},7776:(Se,te,i)=>{"use strict";if(i.d(te,{AY:()=>T,Im:()=>oe,Mv:()=>I,Q0:()=>X,Wk:()=>S,Xl:()=>w,Y0:()=>O,ZW:()=>F,bs:()=>D,kU:()=>ee,pS:()=>re,w3:()=>ce}),i.j!=485)var o=i(6966);if(i.j!=485)var f=i(35517);var A=i(80966);const h=300,S=async function(m){m===void 0&&(m="");const u=1;let g=[];try{const C=await(0,o.sE)("/api/community/v1/workspace/my_star?page="+u+(m&&"&category="+m)+"&page_size="+h);C&&(g=C==null?void 0:C.market_templates.filter(V=>(V==null?void 0:V.version)!=="v1"))}catch(C){await(0,f.Vz)(C)}return g.map(C=>({...C,is_star:!0}))},ee=async m=>{try{await(0,o.Mn)("/api/community/v1/market_template/star/"+m)}catch(u){await(0,f.Vz)(u)}},F=async m=>{try{await(0,o.$I)("/api/community/v1/market_template/star/"+m)}catch(u){await(0,f.Vz)(u)}},I=async function(m,u){u===void 0&&(u=!0);let g;try{g=await(0,o.EE)("/api/community/v1/market_template/"+m)}catch(C){u&&(0,f.KT)(C)}return g},T=function(m){return m===void 0&&(m=""),(0,o.xi)("/api/community/v1/market_template?is_from_workspace=true&page="+1+m+"&page_size="+h)},re=async()=>{let m;try{m=await(0,o.EE)("/flpak/w-p2recent")}catch(u){return await(0,f.Vz)(u),u}return m},ce=()=>(0,o.EE)("/api/community/v1/hot_icons"),Y=m=>{let{category:u="combo_group",keyword:g=""}=m;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+u+"?q="+encodeURIComponent(g))},ne={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo"},oe=m=>{let{projectUpperType:u="",projectUpperCid:g="",itemCid:C=""}=m;return(0,o.Mn)("/api/community/v1/recent_template",{project_upper_type:ne[u]||u,project_upper_cid:g,item_cid:C})},X=async m=>{const{sdkStore:u}=await(0,A.Qb)({flpakKey:m});return u},D=async function(m){m===void 0&&(m="mobile");try{return(await(0,o.EE)("/api/market_template/v4/workspace/new_page_types?platform="+m)).types}catch(u){return await(0,f.Vz)(u),[]}},O=async function(m){m===void 0&&(m="mobile");try{return await(0,o.EE)("/api/community/v1/workspace/recommend_page?platform="+m)}catch(u){return await(0,f.Vz)(u),{}}},w=async m=>{let{platform:u,firstTypeCid:g,secondTypeCid:C=null}=m;const V={first_type_cid:g,second_type_cid:C,platform:u};let k=new URLSearchParams;k=Object.assign(k,V);for(const[B,N]of Object.entries(k))N?N==="default"?k.delete(B):k.set(B,N):k.delete(B);try{return(0,o.EE)("/flpak/w-p2pagemkt?"+k.toString())}catch(B){return await(0,f.Vz)(B),{}}}},19635:(Se,te,i)=>{"use strict";i.d(te,{E9:()=>Y,KM:()=>F,O3:()=>T,bQ:()=>ee,eG:()=>S,fl:()=>X,kq:()=>I});var o=i(7485),f=i(67163),A=i(24397),h=i(35269);const S=(0,o.memo)(D=>{let{type:O="linear",className:w,disabled:m=!1,size:u="common",corner:g="smooth",forceTheme:C,children:V,onClick:k}=D;return(0,h.jsx)(f.Ls,{type:O,className:w,disabled:m,size:u,corner:g,forceTheme:C,onClick:k,children:V})}),ee=i.j!=485?(0,o.memo)(D=>{let{type:O="linear",className:w,disabled:m=!1,size:u="common",corner:g="smooth",icon:C,children:V,forceTheme:k,onClick:B}=D;return(0,h.jsx)(f.TB,{type:O,className:w,disabled:m,size:u,corner:g,icon:C,forceTheme:k,onClick:B,children:V})}):null,F=(0,o.memo)(D=>{let{className:O,children:w,disabled:m=!1,onClick:u}=D;return(0,h.jsx)(f.Ls,{type:"primary",size:"common",className:O,disabled:m,onClick:u,children:w})}),I=D=>{let{className:O,children:w,disabled:m=!1,onClick:u}=D;return(0,h.jsx)(f.Ls,{type:"secondary",size:"common",className:O,disabled:m,onClick:u,children:w})},T=(0,o.memo)(D=>{let{className:O,children:w,disabled:m=!1,onClick:u}=D;return(0,h.jsx)(f.Ls,{type:"danger",size:"common",className:O,disabled:m,onClick:u,children:w})}),re=null,ce=null,Y=i.j==33?(0,o.memo)(D=>{let{className:O,children:w,disabled:m=!1,onClick:u}=D;return(0,h.jsx)(f.Ls,{type:"primary",size:"tiny",corner:"soft",className:O,disabled:m,onClick:u,children:w})}):null,ne=null,oe=null,X=i.j!=485?(0,o.memo)(D=>{let{className:O,isLoading:w=!1,children:m,disabled:u=!1,onClick:g}=D;return(0,h.jsx)(f.TB,{type:"secondary",size:"tiny",corner:"soft",className:O,icon:w?(0,h.jsx)(A.q,{name:"general/loading",className:"btn-loading"}):null,disabled:u,onClick:g,children:m})}):null},67163:(Se,te,i)=>{"use strict";i.d(te,{Ls:()=>F,TB:()=>I,ZJ:()=>ee});var o=i(45090),f=i(48641),A=i(54957),h=i(22795);const S=(T,re)=>{const ce=T.forceTheme;return ce?h.c[re]["value_"+ce]:T.theme[re]},ee=(0,o.iv)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],T=>S(T,"color_text_btn"),T=>S(T,"color_btn_primary_normal"),T=>S(T,"color_btn_primary_hover"),T=>S(T,"color_btn_primary_clicked"),T=>S(T,"color_text_disabled02"),T=>S(T,"color_btn_primary_disabled"),T=>S(T,"color_text_L1"),T=>S(T,"color_bg_white"),T=>S(T,"color_bg_line"),T=>S(T,"color_btn_secondary_hover"),T=>S(T,"color_bg_line"),T=>S(T,"color_btn_secondary_active"),T=>S(T,"color_bg_line"),T=>S(T,"color_text_disabled01"),T=>S(T,"color_bg_white"),T=>S(T,"color_bg_line"),T=>S(T,"color_text_btn"),T=>S(T,"color_btn_danger_normal"),T=>S(T,"color_btn_danger_hover"),T=>S(T,"color_btn_danger_clicked"),T=>S(T,"color_text_disabled02"),T=>S(T,"color_btn_danger_disabled"),T=>S(T,"color_text_L1"),T=>S(T,"color_btn_secondary_hover"),T=>S(T,"color_btn_secondary_active"),T=>S(T,"color_text_disabled01")),F=(0,o.ZP)(f.Z).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1w5kpr3-0"})(["",";"],ee),I=(0,o.ZP)(A.Z).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1w5kpr3-1"})(["",";"],ee)},68435:(Se,te,i)=>{"use strict";i.d(te,{G:()=>re,Z:()=>ce});var o=i(7485),f=i(34595),A=i.n(f),h=i(24397),S=i(13666),ee=i(45090);const F=ee.ZP.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-1a6p3ca-0"})(["display:flex;height:100%;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:1;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:",";}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}"],Y=>Y.theme.color_text_L2,Y=>Y.theme.color_text_L1,Y=>Y.theme.color_text_L1,Y=>Y.theme.color_bg_card,Y=>Y.theme.color_text_L1,Y=>Y.theme.color_text_disabled01);var I=i(35269);const T=(0,o.memo)(Y=>{let{activeIndex:ne=0,className:oe,children:X,onTabChange:D}=Y;return(0,I.jsx)(F,{className:A()(oe),children:o.Children.map(X,(O,w)=>{const m={index:w,active:w===ne,onClick:D};return o.cloneElement(O,m)})})}),re=(0,o.memo)(Y=>{let{className:ne,index:oe,active:X,onClick:D,label:O,tooltip:w,isNew:m,disabled:u,tempDisabled:g}=Y;const C=()=>{if(u)return g&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;D(oe)},V=(0,I.jsxs)("li",{className:A()("nav-item",{active:X},{disabled:u},ne),onClick:C,children:[O&&(0,I.jsxs)("span",{className:"nav-label",children:[O,w&&w]}),m&&(0,I.jsx)(h.q,{name:"design/tab/new",className:"tabNewIcon"})]});return u?(0,I.jsx)(S.Z,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:V}):V}),ce=T},33360:(Se,te,i)=>{"use strict";i.d(te,{DB:()=>A,PR:()=>o,Tt:()=>h,p$:()=>ee,qf:()=>S,tr:()=>f,zv:()=>F});const o={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},f={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},A={org_owner:o.OWNER,org_manager:o.SUPERMANAGER,org_admin:o.MANAGER,org_member:o.MEMBER,org_viewer:o.VIEWER},h={space_owner:o.MANAGER,space_manager:o.MANAGER,space_member:o.MEMBER,space_viewer:o.VIEWER,space_limiter:o.LIMITER},S={team_owner:o.MANAGER,team_manager:o.MANAGER,team_member:o.MEMBER,team_viewer:o.VIEWER,team_none:o.VIEWER,team_ban_viewer:o.BANNED},ee=Object.assign({project_owner:o.MANAGER,project_team_owner:o.MANAGER,project_manager:o.MANAGER,project_member:o.MEMBER,project_viewer:o.VIEWER,project_none:o.VIEWER,project_ban_viewer:o.BANNED},S),F={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},I={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},18827:(Se,te,i)=>{"use strict";i.d(te,{M:()=>ce});var o=i(6966);const f=async(Y,ne)=>{const{project:oe}=await(0,o.Gf)("/api/dashboard/v5/projects/"+Y+"/invite",ne);return oe},A=async(Y,ne)=>(0,o.IP)("/api/dashboard/v5/permissions/projects/"+Y,ne),h=async(Y,ne)=>{await(0,o.G)("/api/dashboard/v5/permissions/projects/"+Y,ne)};var S=i(74223),ee=i(78451),F=i(45312);const I=async(Y,ne)=>await(0,o.EE)("/api/dashboard/v5/spaces/"+Y+"?org_cid="+ne),T={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let re=function(Y){return Y.Org="org",Y.OrgSpace="space",Y.Folder="folder",Y.Project="project",Y}({});const ce={"entry:projectAccess:initProjectData":async(Y,ne)=>{let{getState:oe,dispatch:X}=Y,{payload:D}=ne;try{const{initData:O,members:w}=D,m=O==null?void 0:O.org,{user:u,space:g,project:C,team:V,top_parent_team:k,lang:B}=O||{},N=new Map,c=new Map;return N.set(V==null?void 0:V.cid,V),N.set(k==null?void 0:k.cid,k),V!=null&&V.parent_cid&&(V==null?void 0:V.parent_cid)!==k.cid&&N.set(V==null?void 0:V.parent_cid,k),c.set(C==null?void 0:C.cid,C),X({type:F.Us.UpdateState,payload:{user:u,org:{...m,members:w},space:g,folderListMap:N,projectListMap:c,lang:B}}),!0}catch(O){return console.error(O.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(Y,ne)=>{let{getState:oe,dispatch:X}=Y,{payload:D}=ne;const{projectCid:O,userCid:w,roleName:m,userName:u}=D;if(!O||!w)return;const g=oe(),C=(0,ee.Kx)(g),V=(0,ee.N4)(g),k=(0,ee.b)(g);try{const B=await f(O,{user_cid:w,role:m}),{space:N}=await I(V,C);k.set(B.cid,B),await X({type:F.Us.UpdateProjectListMap,payload:new Map(k)}),await X({type:F.Us.UpdateSpace,payload:N}),window.top.postMessage({type:"updateApp",data:{newApp:(0,S.I2)(B)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:u,other:T[m]}}},"*")}catch(B){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(Y,ne)=>{let{getState:oe,dispatch:X}=Y,{payload:D}=ne;const{projectCid:O,userId:w,roleName:m,userName:u}=D,g=oe();try{const{permission:C}=await A(O,{target_role:m,target_user_id:w}),V=(0,ee.b)(g),k=V.get(O),B=(k==null?void 0:k.permissions)||[],N=B.find(Q=>Number(Q.user_id)===Number(w));let c=[];N?c=B.map(Q=>Number(Q.user_id)===Number(w)?C:Q):c=[...B,C];const H={...k,permissions:c};V.set(O,H),await X({type:F.Us.UpdateProjectListMap,payload:new Map(V)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,S.I2)(H)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:u,other:T[m]}}},"*")}catch(C){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(Y,ne)=>{let{getState:oe,dispatch:X}=Y,{payload:D}=ne;const{projectCid:O,userId:w,roleName:m,userName:u}=D,g=oe();try{await h(O,{target_role:m,target_user_id:w});const C=(0,ee.b)(g),V=C.get(O),k=(V==null?void 0:V.permissions)||[];if(k.find(N=>Number(N.user_id)===Number(w))){const N=k.filter(H=>Number(H.user_id)!==Number(w)),c={...V,permissions:N};C.set(O,c),await X({type:F.Us.UpdateProjectListMap,payload:new Map(C)}),window.top.postMessage({type:"successMsg",data:{msg:{name:u,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,S.I2)(c)}},"*")}}catch(C){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},45312:(Se,te,i)=>{"use strict";i.d(te,{Us:()=>f,ZP:()=>h});const o={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",is_free_org:!1,trial_end_on:null,next_billing_on:"",total_seats:0,seats_taken:0,total_viewer_seats:0,viewer_seats_taken:0,wechat_qrcode_url:null,is_show_wechat_qrcode:!1,settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let f=function(S){return S.UpdateState="reducer:update:user",S.UpdateUser="reducer:update:user",S.UpdateOrg="reducer:update:org",S.UpdateSpace="reducer:update:space",S.UpdateFolderListMap="reducer:update:folderListMap",S.UpdateProjectListMap="reducer:update:projectListMap",S}({});const h=function(S,ee){S===void 0&&(S=o);const{type:F,payload:I}=ee;switch(F){case f.UpdateState:return{...S,...I};case f.UpdateUser:return{...S,user:{...S.user,...I}};case f.UpdateOrg:return{...S,org:{...S.org,...I}};case f.UpdateSpace:return{...S,space:{...S.space,...I}};case f.UpdateFolderListMap:return{...S,folderListMap:I};case f.UpdateProjectListMap:return{...S,projectListMap:I};default:return S}}},78451:(Se,te,i)=>{"use strict";i.d(te,{Kx:()=>ee,Mo:()=>X,N4:()=>re,NT:()=>ce,Q3:()=>T,_H:()=>S,b:()=>ne,is:()=>oe,mK:()=>Y,rc:()=>h,x4:()=>m,z2:()=>I,zG:()=>O});var o=i(77646),f=i(44907),A=i(11182);const h=u=>{var g;return(g=u.projectAccess.user)==null?void 0:g.user_id},S=u=>u.projectAccess.org,ee=u=>{var g;return((g=u.projectAccess.org)==null?void 0:g.cid)||""},F=u=>{var g;return((g=u.projectAccess.org)==null?void 0:g.members)||[]},I=u=>{var g;return((g=u.projectAccess.org)==null?void 0:g.permissions)||[]},T=u=>u.projectAccess.space,re=u=>u.projectAccess.space.cid,ce=u=>u.projectAccess.space.permissions||[],Y=u=>u.projectAccess.folderListMap||new Map,ne=u=>u.projectAccess.projectListMap||new Map,oe=(0,o.P1)(h,I,(u,g)=>(0,f.Uy)({userId:u,orgPermissions:g})),X=(0,o.P1)(h,ce,(u,g)=>(0,f.FK)({userId:u,spacePermissions:g})),D=(0,o.P1)(ce,u=>{const g=(0,f.Hn)(u);return u.reduce((C,V)=>{const{user_id:k}=V,B=(0,f.Ow)({userId:k,permissionsMap:g,permissionScope:A.n.OrgSpace});return C.set(Number(k),B)},new Map)}),O=(0,o.P1)(ce,u=>u.filter(C=>C.role==="space_limiter").reduce((C,V)=>{const{user_id:k}=V;return C.set(Number(k),V)},new Map)),w=(0,o.P1)(F,u=>u.reduce((g,C)=>{const{user_id:V,user_cid:k,email:B,mobile:N}=C;return V&&k?g.set(Number(V)||V,{...C}):(B&&g.set(B,{...C}),N&&g.set(N,{...C}),g)},new Map)),m=(0,o.P1)(I,w,(u,g)=>u.reduce((C,V)=>{const{user_id:k,unsign_remark:B}=V,N=k||B,c=g.get(N)||{},H=(0,f.Vj)(V);return C.set(N,{...c,permission:H})},new Map))},11182:(Se,te,i)=>{"use strict";i.d(te,{n:()=>o,q:()=>f});let o=function(A){return A.Org="org",A.OrgSpace="space",A.Folder="folder",A.Project="project",A}({}),f=function(A){return A.OrgSpace="orgspace-permission-tip",A.OrgSpaceLimiter="orgspace-limiter-permission-tip",A.RootFolder="root-folder-permission-tip",A.SubFolder="sub-folder-permission-tip",A.Project="project-permission-tip",A}({})},74223:(Se,te,i)=>{"use strict";i.d(te,{I2:()=>S,MI:()=>ee,f1:()=>h});var o=i(1074),f=i.n(o),A=i(68543);const h=(F,I)=>{if(!(F!=null&&F.cid))return-1;let T=0,re="",ce=F;for(;ce&&!ce.root_project&&(T=T+1,re=ce.parent_cid,!!re);)ce=I.get(re);return T};function S(F){return F&&Object.entries(F).reduce((I,T)=>{let[re,ce]=T;return Object.assign(I,{[f()(re)]:ce})},{})}const ee=(F,I,T)=>{const re=(0,A.Rv)()?"_self":I;return window.open(F,re,T)}},44907:(Se,te,i)=>{"use strict";i.d(te,{FK:()=>Y,Hn:()=>D,JY:()=>X,Ow:()=>O,Qx:()=>re,Uy:()=>ce,Vj:()=>F,Yj:()=>ee,dp:()=>h});var o=i(33360),f=i(11182);const A=function(w,m,u){return u===void 0&&(u=!1),{level:w,roleName:m,isInherited:u,isOwner:w>=o.PR.OWNER,isSuperManager:w>=o.PR.SUPERMANAGER,isManager:w>=o.PR.MANAGER,isMember:w>=o.PR.MEMBER,isViewer:w>=o.PR.VIEWER,isLimiter:w===o.PR.LIMITER,isBanned:w===o.PR.BANNED,isUnknown:w===o.PR.UNKNOWN}},h=A(o.PR.UNKNOWN),S=A(o.PR.UNJOINED),ee=(w,m)=>{if(!m||m.length<=0)return null;const u=m.find(g=>{let{user_id:C,unsign_remark:V}=g;return Number(C)===Number(w)||V===w});return u||null},F=w=>w?A(o.DB[w.role],w.role):A(o.PR.UNKNOWN),I=(w,m)=>{if(!w)return[];let u=[],g=w,C=m.get(g);for(;C&&!C.root_project;)u=u.concat(C.permissions),g=C.parent_cid,C=m.get(g);return u},T=(w,m,u)=>{let g=I(w,m);return g=g.concat(u).reverse(),g=g.filter(C=>C.role!=="space_limiter"),g.map(C=>{const V=folderInheritePermissionRoleFixMap[C.role];return V?{...C,role:V,inherited:!0}:{...C,inherited:!0}})},re=(w,m,u)=>{let g=I(w,m);return g=g.concat(u).reverse(),g=g.filter(C=>C.role!=="space_limiter"),g.map(C=>{const V=o.zv[C.role];return V?{...C,role:V,inherited:!0}:{...C,inherited:!0}})},ce=w=>{const{orgPermissions:m,userId:u}=w;if(!u||!m||m.length<1)return A(o.PR.UNKNOWN);const g=ee(u,m);return g?A(o.DB[g.role],g.role):A(o.PR.UNKNOWN)},Y=w=>{const{spacePermissions:m,userId:u}=w;if(!u||!m||m.length<1)return A(o.PR.UNKNOWN);const g=ee(u,m);return g?A(o.Tt[g.role],g.role):A(o.PR.UNKNOWN)},ne=w=>{const{userId:m,orgPermissions:u,spacePermissions:g,currentFolder:C,folderListMap:V}=w;if(!m||!C)return A(permissionLevels.UNKNOWN);const{org_cid:k,space_cid:B}=C;if(!k&&!B)return A(permissionLevels.OWNER,"team_owner");if(!g||g.length<1)return A(permissionLevels.UNKNOWN);const{isRoot:N,root_project:c}=C;if(N||c){const Z=Y({spacePermissions:g,userId:m});return Z.roleName==="space_limiter"?{...ce({orgPermissions:u,userId:m}),isLimiter:!0}:Z}const H=C.permissions||[],Q=T(C.parent_cid,V,g),ae=Object.values(Object.fromEntries([...Q,...H].map(Z=>[Z.user_id,Z]))),_=ee(m,ae);return _?A(folderPermissionLevelsMap[_.role],_.role,_.inherited):A(permissionLevels.UNKNOWN)},oe=w=>{const{userId:m,spacePermissions:u,currentProject:g,folderListMap:C}=w;if(!m||!g)return A(permissionLevels.UNKNOWN);const{space_cid:V}=g;if(!V)return A(permissionLevels.OWNER,"project_owner");if(!u||u.length<1)return A(permissionLevels.UNKNOWN);const k=g.permissions||[],B=re(g.team_cid,C,u),N=Object.values(Object.fromEntries([...B,...k].map(H=>[H.user_id,H]))),c=ee(m,N);return c?A(projectPermissionLevelsMap[c.role],c.role,c.inherited):A(permissionLevels.UNKNOWN)},X=function(w,m,u){return u===void 0&&(u=!1),m?typeof m[w]<"u"?A(m[w],w,u):A(o.PR.UNJOINED):A(o.PR.UNKNOWN)},D=w=>!w||w.length<1?new Map:w.reduce((m,u)=>m.set(Number(u.user_id),u),new Map),O=w=>{const{permissionsMap:m,userId:u,permissionScope:g}=w;if(!u||!m||m.size<1)return A(o.PR.UNKNOWN);const{role:C,inherited:V}=m.get(Number(u))||{};if(!C)return A(o.PR.UNKNOWN);let k=null;switch(g){case f.n.Org:k=o.DB;break;case f.n.OrgSpace:k=o.Tt;break;case f.n.Folder:k=o.qf;break;case f.n.Project:k=o.p$;break;default:break}return X(C,k,V)}},94811:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>w});var o=i(7485),f=i(45090),A=i(7627),h=i.n(A),S=i(18890),ee=i.n(S),F=i(44476);const I=f.ZP.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1kbzuk3-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),T=(0,f.ZP)(I).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1kbzuk3-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),re=f.ZP.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1kbzuk3-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var ce=i(35269);function Y(m,u,g){return u=ne(u),u in m?Object.defineProperty(m,u,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[u]=g,m}function ne(m){var u=oe(m,"string");return typeof u=="symbol"?u:String(u)}function oe(m,u){if(typeof m!="object"||!m)return m;var g=m[Symbol.toPrimitive];if(g!==void 0){var C=g.call(m,u||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(m)}class X extends o.PureComponent{constructor(){super(...arguments),Y(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),Y(this,"onToggle",()=>{const{name:u,value:g,label:C,onToggle:V,onChange:k}=this.props,{isChecked:B}=this.state,{canToggle:N}=this,c=N?!0:B;this.setState({isChecked:c}),V(c,u,g||C),k(u,g||C,c)})}static getDerivedStateFromProps(u,g){let{prevProps:C,isChecked:V}=g;return ee()(C,u)?null:{prevProps:u,isChecked:u.isChecked}}get isDisabled(){const{isDisabled:u,disabled:g}=this.props;return u||g}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:u,readOnly:g}=this;return!u&&!g}render(){const{size:u,theme:g,className:C,label:V,name:k}=this.props,{isChecked:B}=this.state,{isDisabled:N,readOnly:c}=this;return(0,ce.jsxs)(T,{className:(0,F.A1)([g==="core"?"CoreRadio":"Radio",u,C,B&&"is-checked",N&&"is-disabled",c&&"readonly"]),children:[(0,ce.jsx)("input",{type:"radio",defaultChecked:B,disabled:N,name:k,onClick:this.onToggle}),(0,ce.jsx)("span",{className:"Check-state"}),(0,ce.jsx)("span",{className:"Check-label",children:V})]})}}Y(X,"propTypes",{size:h().oneOf(["regular","small"]),theme:h().oneOf(["core","plain"]),className:h().string,label:h().any,name:h().string,value:h().any,isChecked:h().bool,isDisabled:h().bool,disabled:h().bool,readOnly:h().bool,onChange:h().func.isRequired,onToggle:h().func.isRequired}),Y(X,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class D extends o.PureComponent{constructor(){super(...arguments),Y(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),Y(this,"state",{prevProps:this.props,value:this.props.value}),Y(this,"createOnChangeHandler",(u,g,C)=>()=>{const{onToggle:V,onChange:k}=this.props,{value:B}=this.state,{canToggle:N}=this,c=N?g:B;this.setState({value:c}),V(c,u),k({name:u,value:c,idx:C})})}static getDerivedStateFromProps(u,g){let{prevProps:C,value:V}=g;return ee()(C,u)?null:{prevProps:u,value:u.value}}get isDisabled(){const{isDisabled:u,disabled:g}=this.props;return u||g}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:u,readOnly:g}=this;return!u&&!g}render(){const{size:u,theme:g,className:C,optionList:V}=this.props,{value:k}=this.state,{name:B,isDisabled:N,readOnly:c}=this,H=(0,F.A1)([g==="core"?"CoreRadioGroup":"RadioGroup",u,C,N&&"is-disabled",c&&"readonly"]);return(0,ce.jsx)(re,{className:H,children:V.map((Q,ae)=>Q&&(0,ce.jsx)(X,{name:B,size:u,theme:g,label:(0,F.Jn)(Q),type:"radio",isChecked:(0,F.Lc)(Q,k),isDisabled:N||Q.isDisabled,readOnly:c,onChange:N||Q.isDisabled?void 0:this.createOnChangeHandler(B,(0,F.l_)(Q),ae)},ae))})}}Y(D,"propTypes",{size:h().oneOf(["regular","small"]),theme:h().oneOf(["core","plain"]),className:h().string,name:h().string,optionList:h().arrayOf(h().oneOfType([h().string,h().number,h().shape({label:h().any,value:h().any,isDisabled:h().bool})])).isRequired,value:h().oneOfType([h().number,h().string]),isDisabled:h().bool,disabled:h().bool,readOnly:h().bool,onChange:h().func.isRequired,onToggle:h().func.isRequired}),Y(D,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const O=(0,f.ZP)(D).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1mmciik-0"})([".Radio{color:",";&.is-checked{color:",";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],m=>m.theme.color_text_L2,m=>m.theme.color_text_L1,m=>m.theme.color_proto,m=>m.theme.color_bg_white,m=>m.theme.color_text_disabled01,m=>m.theme.color_bg_white,m=>m.theme.color_bg_white);class w extends o.PureComponent{render(){return(0,ce.jsx)(O,{...this.props})}}},10238:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>X});var o=i(7485),f=i(45090),A=i(7627),h=i.n(A),S=i(18890),ee=i.n(S),F=i(44476);const I=f.ZP.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-du1ivp-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var T=i(35269);function re(D,O,w){return O=ce(O),O in D?Object.defineProperty(D,O,{value:w,enumerable:!0,configurable:!0,writable:!0}):D[O]=w,D}function ce(D){var O=Y(D,"string");return typeof O=="symbol"?O:String(O)}function Y(D,O){if(typeof D!="object"||!D)return D;var w=D[Symbol.toPrimitive];if(w!==void 0){var m=w.call(D,O||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(D)}class ne extends o.PureComponent{constructor(){super(...arguments),re(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),re(this,"toggle",O=>{let{target:w}=O;const{onChange:m}=this.props,{isChecked:u}=this.state,{isDisabled:g,canToggle:C}=this,V=C?!u:u;return w.blur(),this.setState({isChecked:V}),!g&&m(V)})}static getDerivedStateFromProps(O,w){let{prevProps:m}=w;return ee()(m,O)?null:{prevProps:O,isChecked:O.isChecked}}get isDisabled(){const{isDisabled:O,disabled:w}=this.props;return O||w}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:O,readOnly:w}=this;return!O&&!w}render(){const{size:O,readOnly:w,className:m,children:u,isIOS:g,isIOSReverse:C}=this.props,{isChecked:V}=this.state,{isDisabled:k}=this;return(0,T.jsxs)(I,{className:(0,F.A1)(["Switch",g&&"Switch-IOS",C&&"Switch-IOS-NoTransform",O,V?"is-checked":"isnt-checked",k&&"is-disabled",w&&"readonly",m]),children:[(0,T.jsx)("button",{type:"button",disabled:k,onClick:this.toggle}),u]})}}re(ne,"propTypes",{className:h().string,size:h().oneOf(["regular","small"]),isChecked:h().bool,isDisabled:h().bool,disabled:h().bool,readOnly:h().bool,isIOS:h().bool,isIOSReverse:h().bool,onChange:h().func,children:h().any}),re(ne,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const oe=(0,f.ZP)(ne).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-14ktgxw-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.is-checked{&.small{background:",";button{background:",";}}}}"],D=>D.theme.color_text_disabled01,D=>D.theme.color_text_btn,D=>D.theme.color_proto,D=>D.theme.color_text_btn);class X extends o.PureComponent{render(){return(0,T.jsx)(oe,{...this.props})}}},89719:(Se,te,i)=>{"use strict";i.d(te,{$0:()=>w,Ei:()=>re,NZ:()=>oe,X4:()=>I,ec:()=>Y,ew:()=>m,hm:()=>T,j_:()=>ne,kI:()=>D,o6:()=>u,oX:()=>F});var o=i(46198),f=i(35262),A=i(35517),h=i(6966),S=i(29184),ee=i(35269);const F=async g=>{let{projectCid:C}=g;return(0,h.EE)("/api/upper/web_v1/sharing/initial?cid="+C)},I=async g=>{let{projectCid:C,sharing:V}=g;return(await(0,h.Gf)("/api/flat/web_v1/project_share/"+C,{...V})).project_share},T=async g=>{let{projectCid:C,sharingCid:V}=g;try{return await(0,h.Bh)("/api/flat/web_v1/project_share/"+V+"?project_cid="+C)}catch(k){await(0,A.Vz)(k)}},re=async g=>{let{sharing:C}=g;try{return await(0,h.IP)("/api/flat/web_v1/project_share/"+C.cid,{project_share:C})}catch(V){await(0,A.Vz)(V)}},ce=()=>{const g=document.getElementById("workspace");o.render((0,ee.jsx)(f.Z,{locale:(0,S.F)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}),g)},Y=async g=>{try{if(!g.accessToken||g.project.access_token===g.accessToken)return ne(g.project);{const{project:C,accessToken:V}=g,{project_share:k}=await(0,h.EE)("/api/flat/web_v1/project_share/"+C.cid+"?access_token="+V);return{sharing:{...k,type:"advanced",view_mode:k.device_model}}}}catch(C){await ce()}},ne=g=>{const{cid:C,access_token:V,access:k,building:B,comment_permission:N,password:c,visibility:H,wechat:Q}=g,ae=new URLSearchParams(location.search),_=ae.get("screen"),Z=ae.get("canvasId"),ve=ae.get("view_mode")||"read_only",de=!!ae.get("selection"),q=de?ae.get("selection").split(","):[];return{sharing:{type:"default",project_cid:C,access_token:V,view_access:k,view_sticky:B,comment_permission:N,password:c,visibility:H,wechat:Q,view_mode:ve,screen_visible_switch:de,screen_visible_list:q,page_begin:_,canvas_begin:Z}}},oe=async g=>{let{projectCid:C}=g;try{const{project_shares:V}=await(0,h.EE)("/api/flat/web_v1/project_share/"+C+"/all");return V.sort((k,B)=>new Date(B.created_at).getTime()-new Date(k.created_at).getTime())}catch(V){await(0,A.Vz)(V)}},X=async g=>{try{const{result:C}=await fetchGetJSON("/api/accesses/v4/project/"+g+"/permission_check?permission=P:update");return C}catch(C){await apiErrorModals(C)}},D=async g=>{let C=null;try{C=await(0,h.EE)("/flpak/w-p2meta/"+g)}catch(V){await(0,A.Vz)(V)}return C},O={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1},w=()=>({sharing:O}),m=async g=>{let C,V;try{C=await(0,h.EE)("/api/upper/web_v1/basics/"+g+"/get_details"),C&&JSON.stringify(C)!=="{}"&&(V=!0)}catch(k){C=k,V=!1}return{result:C,statusOk:V}},u=async g=>{let C,V;try{C=await(0,h.EE)("/api/accesses/v4/project/"+g+"/permission_check?permission=P:update"),C&&JSON.stringify(C)!=="{}"&&(V=!0)}catch(k){C=k,V=!1}return{result:C,statusOk:V}}},17626:(Se,te,i)=>{"use strict";i.d(te,{E2:()=>o,Zy:()=>f,v5:()=>A});const o="local_sharing_copy_url_v8",f=50,A={public:"share_anyone_view",restricted:"org_members_only"}},9516:(Se,te,i)=>{"use strict";i.d(te,{j:()=>ye});var o=i(7485),f=i(6056),A=i(18827),h=i(24978),S=i(45312),ee=i(57351);const F={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only"},I=null,T="123",re={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},ce={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},Y={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var ne=i(89719),oe=i(99990),X=i(20702),D=i(38483),O=i(44907);let w=function(t){return t.acces="access",t.viewAccess="viewAccess",t.copy="copy",t.qrCode="qrCode",t.embed="Embed",t.setting="Setting",t.pwdProtection="PwdProtection",t.password="password",t.sticky="sticky",t.comment="comment",t.mobile="mobile",t}({});var m=function(t){return t.Edit="\u53EF\u7F16\u8F91",t.onlyView="\u4EC5\u67E5\u770B",t}(m||{}),u=function(t){return t.NoLogin="\u672A\u767B\u5F55\u7528\u6237",t.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",t.ProjectMember="\u534F\u4F5C\u6210\u5458",t.TeamMember="\u56E2\u961F\u6210\u5458",t}(u||{}),g=function(t){return t.EditMode="\u7F16\u8F91\u6A21\u5F0F",t.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",t.DeviceMode="\u771F\u673A\u6A21\u5F0F",t}(g||{});const C=t=>{let{userId:l,orgPermissions:d,spacePermissions:p,projectPermissions:v}=t;if(!l)return u.NoLogin;const y=(0,O.Yj)(l,d),b=(0,O.Yj)(l,p),j=(0,O.Yj)(l,v);if(!y)return u.LoginButNotOrgMember;if(b||j)return u.ProjectMember;if(y)return u.TeamMember},V=t=>{let{userCanEdit:l,userId:d,orgPermissions:p,spacePermissions:v,projectPermissions:y,isEditMode:b,view_mode:j,isIframe:E}=t;const M=l?m.Edit:m.onlyView,R=C({userId:d,orgPermissions:p,spacePermissions:v,projectPermissions:y}),L=E?"\u5DE5\u4F5C\u53F0":b?g.EditMode:j==="read_only"?g.ReadOnlyMode:g.DeviceMode;return{user_rights:M,user_type:R,operation_from:L}},k=t=>{let{optionType:l,userCanEdit:d,userId:p,orgPermissions:v,spacePermissions:y,projectPermissions:b,isEditMode:j,view_mode:E,share_type:M,isIframe:R,project_name:L,project_cid:P}=t;const{user_rights:U,user_type:G,operation_from:W}=V({userCanEdit:d,userId:p,orgPermissions:v,spacePermissions:y,projectPermissions:b,isEditMode:j,view_mode:E,isIframe:R});(0,D.U1)("share_function_click_V8",{operation_type:l,user_rights:U,user_type:G,operation_from:W,project_name:L,project_cid:P,share_type:M})},B=t=>{(0,D.U1)("advanced_sharing_click",t)},c=(()=>{const t={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:F,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0},l=function(y,b){y===void 0&&(y=t);let{type:j="sharing:state:update",payload:E=t}=b;switch(j){case"sharing:state:update":return{...y,...E};case"sharing:state:clear":return{...t};default:return y}},d={"sharing:init":(y,b)=>{let{dispatch:j}=y,{payload:E}=b;j({type:"sharing:state:update",payload:E})},"sharing:currentSharing:update":(y,b)=>{let{getState:j,dispatch:E}=y,{payload:{updatedKV:M}}=b;const R=j(),P={...p.getCurrentSharing(R),...M};E({type:"sharing:state:update",payload:{currentSharing:P}})},"sharing:remote:sharing:update":async(y,b)=>{let{getState:j,dispatch:E}=y,{payload:{sharingData:M,updatedKV:R}}=b;const L=j(),P=p.getOrg(L),U=p.getProject(L);let G;if(M.type==="default"){var W,ie;G=async()=>(0,oe.BG)(U.cid,{...R}),await(0,X.lI)({updateType:"update",updateFn:G,org:P});const ge={...U,...R};E({type:"sharing:state:update",payload:{project:ge}}),(W=MB)!=null&&W.action&&((ie=MB)==null||ie.action("current:update:state",{currentProject:ge}))}else{const ge=p.getAdvancedSharingList(L),se={...M,...R};G=async()=>(0,ne.Ei)({sharing:se}),await(0,X.lI)({updateType:"update",updateFn:G,org:P});const pe=ge.map(z=>z.cid===se.cid?se:z);E({type:v["sharing:advancedSharingList:update"],payload:{sharingList:pe}})}},"sharing:remote:sharing:delete":async(y,b)=>{let{getState:j,dispatch:E}=y,{payload:{sharingCid:M}}=b;const R=j(),L=p.getProject(R),P=p.getAdvancedSharingList(R);await(0,ne.hm)({projectCid:L.cid,sharingCid:M});const U=P.filter(G=>G.cid!==M);E({type:v["sharing:advancedSharingList:update"],payload:{sharingList:U}})},"sharing:settingPage:advanced:confirm":async y=>{let{getState:b,dispatch:j}=y;const E=b(),M=p.getSettingPageType(E),R=p.getCurrentSharing(E),L=p.getOrg(E),P=p.getProject(E);if(M==="create"){const U=async()=>(0,ne.X4)({projectCid:P.cid,sharing:R});await(0,X.lI)({updateType:"create",updateFn:U,org:L}),j({type:v["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const U=async()=>(0,ne.Ei)({sharing:R});await(0,X.lI)({updateType:"update",updateFn:U,org:L})}j({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async y=>{var b,j;let{getState:E,dispatch:M}=y;const R=E(),L=p.getCurrentSharing(R),P=p.getProject(R),U=p.getOrg(R),G=async()=>(0,oe.BG)(P.cid,Object.assign({},L,{building:L.view_sticky}));await(0,X.lI)({updateType:"update",updateFn:G,org:U});const W=Object.assign({},P,L,{building:L.view_sticky});M({type:"sharing:state:update",payload:{project:W}}),(b=MB)!=null&&b.action&&((j=MB)==null||j.action("current:update:state",{currentProject:W}))},"sharing:go-settingPage":(y,b)=>{let{dispatch:j}=y,{payload:{currentSharing:E,settingPageType:M,subSettingPageType:R=t.subSettingPageType}}=b;j({type:"sharing:state:update",payload:{currentSharing:E,settingPageType:M,topPageIndex:"setting",subSettingPageType:R}})},"sharing:topPageIndex:jump":(y,b)=>{let{dispatch:j}=y,{payload:{topPageIndex:E=t.topPageIndex}}=b;j({type:"sharing:state:update",payload:{topPageIndex:E}})},"sharing:advancedSharingList:update":(y,b)=>{let{dispatch:j}=y,{payload:{sharingList:E}}=b;j({type:"sharing:state:update",payload:{advancedSharingList:E}})},"sharing:projectAccess:init":async y=>{let{dispatch:b,getState:j}=y;const E=j(),M=p.getMembers(E),R=p.getProject(E),L=R==null?void 0:R.cid,P=R==null?void 0:R.is_org_project;if(!L||!P){setTimeout(()=>{b({type:c.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:U,statusOk:G}=await(0,ne.ew)(L);if(b({type:c.entryKey["sharing:init"],payload:{loading:!1}}),!!G&&U){var W,ie;const{project:ge,org:se}=U;await b({type:"entry:projectAccess:initProjectData",payload:{initData:U,members:M}}),b({type:c.entryKey["sharing:init"],payload:{project:ge,org:se,initData:U}}),(W=MB)!=null&&W.action&&((ie=MB)==null||ie.action("current:update:state",{currentProject:ge}))}},"sharing:function:track":(y,b)=>{let{getState:j}=y,{payload:{operation:E,viewMode:M,isDefault:R}}=b;const L=j(),P=p.getProject(L)||{},U=p.getCanEditByUser(L),G=p.getOrg(L)||{},W=p.getUser(L),ie=p.getInitData(L)||{},ge=(ie==null?void 0:ie.space)||{},se=p.getIsEditMode(L),pe=p.getHostType(L),{cid:z,name:fe}=P,Ce={userCanEdit:U,userId:W==null?void 0:W.id,orgPermissions:G==null?void 0:G.permissions,spacePermissions:ge==null?void 0:ge.permissions,projectPermissions:P==null?void 0:P.permissions,isEditMode:se,view_mode:M,optionType:E,share_type:R?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:pe==="iframe",project_name:fe,project_cid:z};k(Ce)},"sharing:advance:click:track":(y,b)=>{let{getState:j}=y,{}=b;const E=j(),M=p.getSettingPageType(E),R=p.getCurrentSharing(E),L=p.getProject(E),P=p.getAdvancedSharingList(E)||[],U=p.getScreenMetaList(E),G=p.getHostType(E),W=(0,X.VN)(U.pageAttrMap),ie=(0,X.SG)(!R.screen_visible_switch,R.screen_visible_list,W);let ge="\u5168\u90E8";R.screen_visible_switch&&(ge=""+ie);const se=P.length;B({link_name:R.link_name,links_number:M==="create"?se+1:se,share_type:R.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:ge,operation_type:M==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:G==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:L.name,project_cid:L.cid})}},p=ee.g.genQuery(t,{getStateFn:y=>y.sharing}),v=ee.g.genEntryKey(d);return{__initialState:t,__reducer:l,__entry:d,entryKey:v,query:p}})(),H=(0,f.UY)({sharing:c.__reducer,projectAccess:S.ZP}),Q={...c.__entry,...A.M},ae=()=>{const t=(0,h.gk)(),l=(0,f.MT)(H,(0,f.md)(t.middleware));return t.setEntryMap(Q),l};var _=i(79552),Z=i(45090),ve=i(24011),de=i(30258),q=i(34595),J=i.n(q),xe=i(17626);const Ee=Z.ZP.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1ergmj0-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#333;top:36px;right:0;width:292px;padding:16px 12px;border-radius:4px;border:1px solid #4f5052;&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:8px solid transparent;border-bottom:8px solid #4f5052;}&::after{content:'';position:absolute;top:0px;right:32px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #333;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],xe.Zy,t=>t.theme.color_bg_line,t=>t.theme.color_text_L1,t=>t.theme.color_background_AI_head_tag,t=>t.theme.color_background_AI_head_tag_hover,t=>t.theme.color_AI_switch_gradient_start,t=>t.theme.color_AI_switch_gradient_end,t=>t.theme.color_text_btn,t=>t.theme.color_text_link_normal,t=>t.theme.color_text_link_hover),Ne=Z.ZP.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-v93i5v-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],t=>t.theme.color_grid_line,t=>t.theme.color_share_member__border_color,t=>t.theme.color_bg_line,t=>t.theme.color_share_member__border_color);var we=i(11182),_e=i(24397);const Le="__mb_delete_permission",Je=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],st=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],Xe=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],et=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],ot={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},nt={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},ut=Object.fromEntries([...Je,...st,...Xe,...et].map(t=>[t.value,t.label]));var Ke=i(33360),He=i(78451),ct=i(74223);const Kt=t=>{const l=(0,_.v9)(He.mK),d=l.get(t);return(0,ct.f1)(d,l)},Mt=(t,l)=>{const d=(0,_.v9)(He.mK),p=(0,_.v9)(He.b),v=(0,_.v9)(He.z2),y=(0,_.v9)(He.NT),b=(0,_.v9)(He.Mo),E=(0,_.v9)(He.Q3).is_disable_banned_viewer||!1;let M=null,R=null;const L=t;let P=[],U=[],G=[];M=p.get(l),U=M.permissions,G=(0,O.Qx)(M.team_cid,d,y),R=we.n.Org,P=v,G=Object.values(Object.fromEntries(G.map(pe=>[pe.user_id,pe])));const W=Object.values(Object.fromEntries([...G,...U].map(pe=>[pe.user_id,pe]))),ie=(0,o.useMemo)(()=>{const pe=(0,O.Hn)(P);return P.reduce((z,fe)=>{const{user_id:Ce}=fe,Me=(0,O.Ow)({userId:Ce,permissionsMap:pe,permissionScope:R});return z.set(Number(Ce),Me)},new Map)},[P]),ge=(0,o.useMemo)(()=>{const pe=(0,O.Hn)(W);return P.reduce((z,fe)=>{const{user_id:Ce}=fe,Me=(0,O.Ow)({userId:Ce,permissionsMap:pe,permissionScope:L});return z.set(Number(Ce),Me)},new Map)},[W,P]),se=(0,o.useMemo)(()=>{const pe=(0,O.Hn)(G);return G.reduce((z,fe)=>{const{user_id:Ce}=fe,Me=(0,O.Ow)({userId:Ce,permissionsMap:pe,permissionScope:L});return z.set(Number(Ce),Me)},new Map)},[G]);return{userCurrentSpacePermission:b,membersTopScopePermissonMap:ie,membersCurrentScopePermissonMap:ge,membersInheritedCurrentScopePermissonMap:se,topScopePermissionMembers:P,currentScopePermissionMembers:U,inheritedPermissionMembers:G,combinedCurrentPermissionMembers:W,isDisableBannedViewer:E}},Ot=(t,l,d)=>{const p=(0,_.I0)();return(0,o.useCallback)(async(y,b)=>{const{name:j,email:E,mobile:M,permissionMap:R}=y,{memberCurrentScopePermisson:L,currentScopeRoleName:P}=R;if(!L)return;const U=j||E||M;let G=!1;b===Le&&(G=!0),L.isUnknown?await p({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:l,userCid:y.user_cid,roleName:b,userName:U}}):G?await p({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:l,userId:y.user_id,roleName:P,userName:U}}):await p({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:l,userId:y.user_id,roleName:b,userName:U}})},[l,p])},At=(t,l)=>{const d=(0,_.v9)(He.rc),p=(0,_.v9)(He.x4),v=(0,_.v9)(He.zG),{userCurrentSpacePermission:y,membersTopScopePermissonMap:b,membersCurrentScopePermissonMap:j,membersInheritedCurrentScopePermissonMap:E,topScopePermissionMembers:M,inheritedPermissionMembers:R,currentScopePermissionMembers:L,combinedCurrentPermissionMembers:P,isDisableBannedViewer:U}=Mt(t,l),G=j.get(Number(d))||O.dp,W=!!v.get(Number(d)),ie=(0,o.useMemo)(()=>{const ke=new Map;return M.forEach(Oe=>{let{user_id:Pe,role:Te}=Oe;const Re=b.get(Number(Pe))||O.dp,Ze=j.get(Number(Pe))||O.dp,gt=E.get(Number(Pe))||O.dp,xt=!!v.get(Number(Pe)),at=p.get(Number(Pe));if(!at)return;const Ie=at.permission,Ae=Ze.isUnknown?Te:Ze.roleName;ke.set(Number(Pe),{...at,permissionMap:{currentScopeRoleName:Ae,userCurrentSpacePermission:y,userCurrentScopePermisson:G,memberTopScopePermisson:Re,memberCurrentScopePermisson:Ze,memberInheritedPermisson:gt,memberOrgPermisson:Ie,isSelf:Number(Pe)===Number(d),isDisableBannedViewer:U,userIsSpaceLimiter:W,memberIsSpaceLimiter:xt}})}),ke},[M,b,j,E,v]),ge=(0,o.useMemo)(()=>L.sort((ke,Oe)=>Ke.tr[Oe.role]-Ke.tr[ke.role]).map(ke=>ie.get(Number(ke.user_id))).filter(ke=>ke),[L,ie]),se=(0,o.useMemo)(()=>R.sort((ke,Oe)=>Ke.tr[Oe.role]-Ke.tr[ke.role]).map(ke=>{const{user_id:Oe,role:Pe}=ke,Te=E.get(Number(Oe))||O.dp,Re=ie.get(Number(ke.user_id));return Re?{...Re,permissionMap:{...Re.permissionMap,currentScopeRoleName:Pe,memberCurrentScopePermisson:Te}}:null}).filter(ke=>ke),[R,ie,E]),pe=(0,o.useMemo)(()=>P.sort((ke,Oe)=>Ke.tr[Oe.role]-Ke.tr[ke.role]).map(ke=>ie.get(Number(ke.user_id))).filter(ke=>ke),[P,ie]),z=(0,o.useMemo)(()=>{const ke=pe.map(Pe=>Number(Pe.user_id)),Oe=[];for(const[Pe,Te]of ie.entries())ke.includes(Number(Pe))||Te&&Oe.push(Te);return Oe},[ie,pe]),fe=(0,o.useMemo)(()=>{const ke=se.filter(Pe=>{var Te;return(Te=Pe.permissionMap)==null||(Te=Te.memberCurrentScopePermisson)==null?void 0:Te.isManager});return Object.values(Object.fromEntries([...ke,...ge].map(Pe=>[Pe.user_id,Pe])))},[se,ge]),Ce=(0,o.useMemo)(()=>{const ke=fe.map(Pe=>Number(Pe.user_id)),Oe=[];for(const[Pe,Te]of ie.entries())ke.includes(Number(Pe))||Te&&Oe.push(Te);return Oe},[ie,fe]);return{isOnlyOneManager:(0,o.useMemo)(()=>pe.filter(ke=>{var Oe;return(Oe=ke.permissionMap)==null||(Oe=Oe.memberCurrentScopePermisson)==null?void 0:Oe.isManager}).length===1,[pe]),userCurrentScopePermisson:G,userCurrentSpacePermission:y,currentMembers:ge,inheritedMembers:se,joinedMembers:pe,unjoinedMembers:z,assignedMembers:fe,unassignedMembers:Ce,currentOrgMembersMap:p}};var $=i(13666),n=i(35269);const me=()=>{var t;const l=(0,_.v9)(c.query.getUser),d=(0,_.v9)(c.query.getProject),p=(0,_.v9)(c.query.getInitData),v=Kt(d==null?void 0:d.team_cid),y=d==null?void 0:d.cid,b=(0,_.I0)(),j=(0,o.useCallback)(W=>{W.stopPropagation(),b({type:c.entryKey["sharing:init"],payload:{mainPage:"access"}})},[b]),{currentMembers:E,inheritedMembers:M,joinedMembers:R}=At(we.n.Project,y);let L=E;v>=1?M.forEach(W=>{L.find(ge=>ge.id===W.id)||L.push(W)}):L=R;const U=(t=L)==null?void 0:t.filter(W=>Number(W.user_id)!==Number(l==null?void 0:l.id));U&&(L=U.slice(0,2));const G=(0,o.useCallback)(W=>{var ie;const{avatar:ge,name:se,id:pe}=W;return ge&&!ge.includes("/images/avatar.png")?(0,n.jsx)("img",{className:"avatar",src:W.avatar,alt:W.name},pe):(0,n.jsx)("div",{className:"avatar avater-name",children:se==null||(ie=se.slice(0,1))==null?void 0:ie.toUpperCase()},pe)},[]);return!p||JSON.stringify(p)==="{}"?null:(0,n.jsx)($.Z,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,n.jsxs)(Ne,{onClick:j,children:[G(l),L.length>0&&L.map(W=>G(W)),(0,n.jsx)("div",{className:"remaining",children:(0,n.jsx)(_e.q,{name:"sharing/add_member",isColorPure:!0})}),(0,n.jsx)(_e.q,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},je=(0,o.memo)(me),Be=Z.ZP.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1u48ud6-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],t=>t.theme.color_share_switch_sel_color,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1),Ve=t=>{let{tabs:l,handleChangeTabIndex:d,tabIndex:p,className:v}=t;return(0,n.jsx)(Be,{className:v,children:l.map((y,b)=>(0,n.jsx)("div",{className:J()("tab-item",p===b&&"tab-sel"),id:"tab-item-"+b,onClick:()=>d(b),children:y},b))})},Tt=(0,o.memo)(Ve);var yt=i(95023),vt=i(12298);const Ht=()=>{let t=null;const l=(0,_.I0)(),d=(0,_.v9)(c.query.getProject),p=(0,_.v9)(c.query.getCanEditByUser),v=(0,_.v9)(c.query.getHostType),y=(0,_.v9)(c.query.getIsEditMode),b=(0,_.v9)(c.query.getInitData),j=(0,_.v9)(c.query.getTabIndex),[E,M]=(0,o.useState)(!1),R=(d==null?void 0:d.is_org_project)||!1,L=v==="iframe"||y,U=new URLSearchParams(location.search).get("view_mode")||"read_only",G=L&&R&&b&&JSON.stringify(b)!=="{}",W=p&&!R,ie=(0,o.useCallback)(()=>{const z=v==="iframe",fe=(z?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",Ce=(z?"dashboard":"workspace")+"-v8_solo_share_upgrade",Me={payEntrance:fe,checkoutPlace:Ce,checkoutArea:z?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(z){const ke="/workspace/''?payment_param="+(0,vt.N)(Me);(0,yt.gn)(ke,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(Me)},[]),ge=()=>{t=setTimeout(()=>{M(!0)},500)},se=()=>{t&&clearTimeout(t),M(!1)},pe=(0,o.useCallback)(z=>{l({type:c.entryKey["sharing:init"],payload:{tabIndex:z}})},[l]);return(0,n.jsx)(Ee,{className:J()(W&&"tool-upgrade"),children:L?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Tt,{tabIndex:j,tabs:ENV.IS_ON_PREMISES?[I18N.imockSharing.default_share]:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:pe}),W&&(0,n.jsxs)("div",{className:"upgrade-team-business",onClick:ie,onMouseEnter:ge,onMouseLeave:se,children:[(0,n.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),E&&(0,n.jsxs)("div",{className:"content",onClick:z=>z.stopPropagation(),children:[(0,n.jsx)("div",{className:"top-bar"}),(0,n.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,n.jsx)("a",{href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),G&&(0,n.jsx)(je,{})]}):(0,n.jsx)("div",{className:"sharing-title",children:U==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},Gs=(0,o.memo)(Ht),ws=Z.ZP.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-2ovkcx-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],xe.Zy,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_btn_secondary_hover,t=>t.theme.color_btn_secondary_active),Ws=Z.ZP.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-2ovkcx-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],xe.Zy);var wt=i(19635),Gt=i(84952);const $s=Z.ZP.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-15116kg-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],t=>t.theme.color_background_sharing_item),Wt=Z.ZP.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-15116kg-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],t=>t.theme.color_share_access__button_disable,t=>t.theme.color_share_copy__button_disable_bg,t=>t.theme.color_bg_line,t=>t.theme.color_share_copy__button_disable,t=>t.isViewActiveDropdown?t.theme.color_btn_secondary_hover:t.theme.color_bg_white,t=>t.theme.color_bg_line,t=>t.theme.color_btn_secondary_hover,t=>t.theme.color_text_L3,t=>t.theme.color_text_L1,t=>t.theme.color_text_L3,t=>t.theme.color_text_L1,t=>t.isViewActiveDropdown?"rotate(-180deg)":"",t=>t.theme.color_text_L1),Lt=(0,Z.ZP)(Gt.ZP).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-15116kg-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"]),$t=Z.ZP.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-15116kg-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],t=>t.theme.color_btn_primary_normal,t=>t.theme.color_btn_primary_hover,t=>t.theme.color_btn_primary_clicked,t=>t.theme.color_text_btn),Js=Z.ZP.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-g4yrew-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-name{width:240px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;align-items:center;}.view-mode-icon{width:16px;height:16px;margin-right:6px;}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_proto,t=>t.theme.color_text_L1,t=>t.theme.color_proto);function lt(t){const{fBlur:l,name:d}=t,[p,v]=(0,o.useState)(!1),[y,b]=(0,o.useState)(d),j=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(p){var P;(P=j.current)==null||P.focus()}},[p]);const E=()=>{l(),v(!1)};return{inputRef:j,isRenaming:p,setIsRenaming:v,inputName:y,setInputName:b,handleFocus:()=>{var P;(P=j.current)==null||P.select()},handleBlur:E,handleKeyDown:P=>{P.key==="Enter"&&E()},handleInput:P=>{let U=P.target.value;U.length>200&&(U=U.substring(0,200)),b(U)}}}const Ye={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},Ys=Z.ZP.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1gzmiv1-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],t=>t.theme.color_text_L2,t=>t.theme.color_bg_line,t=>t.theme.color_text_disabled01,t=>t.theme.color_btn_secondary_hover,t=>t.theme.color_btn_secondary_active);function jt(t){const{className:l,size:d=20,name:p,onClick:v,onMouseEnter:y,onMouseLeave:b,children:j,tempDisabled:E,direction:M,toolTipName:R,type:L,isColorPure:P,isBorder:U}=t,G=W=>{E||v(W,L)};return(0,n.jsx)(Ys,{className:J()(l,E&&"tempDisabled",U&&"isBorder"),onClick:G,onMouseEnter:y,onMouseLeave:b,children:(0,n.jsxs)($.Z,{content:R,direction:M||"up",distance:5,enterHoverTime:500,children:[(0,n.jsx)(_e.q,{size:d,name:p,isColorPure:P}),j]})})}const Qs=t=>{let{sharingData:l,handleItemAction:d}=t;const{link_name:p}=l,v=(0,_.I0)(),y=l.device_model,[b,j]=(0,o.useState)(p),E=(0,_.v9)(c.query.getCanEditByUser),M=(0,_.v9)(c.query.getIsEditMode),R=(0,_.v9)(c.query.getHostType),L=(0,_.v9)(c.query.getScreenMetaList),P=(0,_.v9)(c.query.getAdvancedSharingList),U=R==="iframe"||M,G=U&&E,W=U&&E,ie=()=>{const Re=Me.current.value;if(Re==="")Oe(b),v({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,X.x2)({value:Re,currentSharing:l,sharingList:P}))Oe(b),v({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{j(Re);const Ze={link_name:Re};v({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:Ze}})}},ge=(0,o.useMemo)(()=>l.type==="advanced"?(0,X.F2)(L,l):null,[l,L]),{isRenaming:se,setIsRenaming:pe,handleKeyDown:z,handleBlur:fe,handleFocus:Ce,inputRef:Me,handleInput:ke,setInputName:Oe,inputName:Pe}=lt({name:b||"",fBlur:ie}),Te=(0,o.useCallback)(()=>{pe(!0)},[pe]);return(0,n.jsxs)(Js,{className:J()(!W&&"canNotEdit"),children:[(0,n.jsxs)("div",{className:"head-left",children:[(0,n.jsx)(_e.q,{className:"view-mode-icon",name:y==="device"?"sharing/mode_device":"sharing/mode_canvas"}),se?(0,n.jsx)("form",{children:(0,n.jsx)("input",{value:Pe,onFocus:Ce,onChange:ke,ref:Me,onBlur:fe,onKeyPress:z})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:J()("link-name",!G&&"link-name-not-edit"),onClick:Te,children:b})})]}),(0,n.jsxs)("div",{className:"head-right",children:[(0,n.jsx)("div",{children:ge}),(0,n.jsx)(jt,{className:"share-icon",name:"sharing/page_visible",toolTipName:I18N.imockSharing.tab_screen,tempDisabled:!G,size:20,onClick:Re=>d(Re,Ye.showPage)})]})]})},_s=(0,o.memo)(Qs),Xs=Z.ZP.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-11jw1u-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.foot-right{display:flex;align-items:center;}"],t=>t.theme.color_text_L2),qs=t=>{let{handleItemAction:l}=t;const d="open",p=(0,_.v9)(c.query.getCanEditByUser),v=(0,_.v9)(c.query.getIsEditMode),j=((0,_.v9)(c.query.getHostType)==="iframe"||v)&&p&&d==="open",E=(0,o.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Ye.embed,tempDisabled:!1},{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Ye.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:Ye.setting,tempDisabled:!j}],[j]);return(0,n.jsxs)(Xs,{children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{className:"foot-right",children:E.map((M,R)=>(0,n.jsx)(jt,{className:J()("share-icon",M.className),name:M.name,type:M.className,toolTipName:M.toolTipName,onClick:l,tempDisabled:M.tempDisabled,isColorPure:M.isColorPure,size:20},R))})]})},Jt=(0,o.memo)(qs);var ht=i(9733),en=i(53375),Yt=i.n(en);const Qt=t=>{const{project:l,sharing:d,user:p}=t,[v,y]=(0,o.useState)(!1),[b,j]=(0,o.useState)(void 0);return{isURLCopied:v,handleCopyURL:()=>{(0,X.dL)({project:l,action:d.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:d.link_name}),y(!0),clearTimeout(b);const M=setTimeout(()=>y(!1),3e3);j(M);const R=Yt()().format("YYYY-MM-DD HH:mm:ss"),L=(0,X.jH)(p)&&!(0,ht.GQ)(xe.E2);(0,ht.A6)(xe.E2,R),L&&(0,D.tv)({prototype_activation_time:R})}}};var bt=i(79329);function Xt(t){const{password:l}=t;return{isHavePassword:(0,o.useMemo)(()=>l!==null&&l!=="",[l])}}const tn=t=>{var l;let{sharingData:d,setShowDelConfirmModal:p,fromDefault:v}=t;const y=(0,_.I0)(),b=(0,o.useRef)(null),j=d.view_access,E=d.device_model,M=(0,_.v9)(c.query.getProject),R=(0,_.v9)(c.query.getCanEditByUser),L=(0,_.v9)(c.query.getIsEditMode),P=(0,_.v9)(c.query.getHostType),U=(0,_.v9)(c.query.getUser),G=(M==null?void 0:M.is_org_project)||!1,ie=(P==="iframe"||L)&&R,[ge,se]=(0,o.useState)({top:0,left:0}),[pe,z]=(0,o.useState)(!1),{isURLCopied:fe,handleCopyURL:Ce}=Qt({project:M,sharing:d,user:U}),{isHavePassword:Me}=Xt(d),ke=(0,o.useCallback)(()=>{const Ae=(0,X.UE)(M,d);(0,bt.l)(Ae),Ce(),y({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:E,isDefault:!1}})},[y,d,Ce,M,E]),Oe=(0,o.useCallback)(Ae=>{const $e={view_access:Ae};y({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:d,updatedKV:$e}}),y({type:c.entryKey["sharing:function:track"],payload:{operation:Ae==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:E,isDefault:!1}})},[d,y,E]),Pe=(0,o.useCallback)(()=>{p({isOpened:!0,item:d})},[p,d]),Te=(0,o.useCallback)(()=>{y({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:d,settingPageType:"edit"}}),y({type:c.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:E,isDefault:!1}})},[y,d,E]),[Re,Ze]=(0,o.useState)(void 0),gt=(0,o.useMemo)(()=>{if(Re==="viewAccess"){const Ae=(0,n.jsx)(_e.q,{name:"toolbar/selected",className:"selected-icon"});if(G){const $e=j==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Oe("public"),icon:$e?Ae:(0,n.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Oe("restricted"),icon:$e?(0,n.jsx)("div",{style:{width:0}}):Ae}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:Te},{label:I18N.imockSharing.delete,onclick:Pe}]},[Re,Oe,Pe,Te,j,G]),xt=(0,o.useCallback)(Ae=>{if(!G||!ie)return;Ze("viewAccess");const $e=Ae.currentTarget.getBoundingClientRect();se({top:$e.y+$e.height+3,left:$e.x-1}),z(!pe)},[G,ie,pe,Ze,se]),at=(0,o.useCallback)((Ae,$e)=>{if(Ae!=null&&Ae.currentTarget)switch($e){case Ye.QRcode:Ae.stopPropagation(),y({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:d}}),y({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:E,isDefault:!1}});break;case Ye.embed:y({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:d}}),y({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:E,isDefault:!1}});break;case Ye.mkt:(0,yt.gn)("/community/upload?project_cid="+(M==null?void 0:M.cid),"_blank","noreferrer");break;case Ye.setting:{Ze("misc");const ft=Ae.currentTarget.getBoundingClientRect(),Vt=document.getElementById("v8-share-page").getBoundingClientRect().bottom-ft.bottom<120?ft.y-75:ft.bottom+5;se({top:Vt,left:P==="iframe"?ft.x+20:ft.x-60}),z(!pe)}break;case Ye.showPage:y({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:d,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[pe,Ze,se,z,y,M,d,E,P]),Ie=(0,o.useCallback)(()=>{var Ae;se({...ge,left:((Ae=b.current)==null?void 0:Ae.getBoundingClientRect().x)-1})},[ge]);return(0,o.useEffect)(()=>(window.addEventListener("resize",Ie),()=>window.removeEventListener("resize",Ie))),(0,n.jsxs)($s,{className:J()(v&&"from-default"),children:[(0,n.jsx)(_s,{sharingData:d,handleItemAction:at}),(0,n.jsxs)(Wt,{className:J()("item-center",!ie&&"userNoEdit","advance-item"),isViewActiveDropdown:pe&&Re==="viewAccess",children:[(0,n.jsx)("div",{ref:b,className:J()("left","sharingV2-click-visible",{"normal-hover":!0},!G&&"can-not-edit"),onClick:xt,children:(0,n.jsxs)("div",{className:"view-access-select",children:[(0,n.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,n.jsx)("div",{className:"access-name",children:(l=I18N.imockSharing[xe.v5[j]])!=null?l:"missing data"}),G&&(0,n.jsx)(_e.q,{size:24,name:"sharing/dropdown_24"})]})}),(0,n.jsxs)($t,{type:"button",className:J()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(fe)),onClick:ke,children:[(0,n.jsx)("span",{className:"state state-0",children:Me?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,n.jsx)("span",{className:"state state-1",children:(0,n.jsx)(_e.q,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,n.jsx)(Jt,{handleItemAction:at}),pe&&(0,n.jsx)(Lt,{className:J()("design-avoid",Re,"advance_menu"),position:ge,onClose:()=>{z(!1)},children:gt.map((Ae,$e)=>(0,n.jsx)(Gt.sN,{text:Ae.label,onClick:Ae.onclick,icon:Ae.icon,disabled:Ae.disabled,canClick:Ae.tempDisabled},$e))})]})},Fe=(0,o.memo)(tn),sn=Z.ZP.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1kiue1c-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],t=>t.theme.color_bg_white,t=>t.theme.color_text_L1,t=>t.theme.color_share_del_confirm_border_color,xe.Zy,t=>t.theme.color_bg_line);function Ss(t){let{handleConfirmAction:l}=t;return(0,n.jsx)(sn,{children:(0,n.jsxs)("div",{className:"confirm-content",children:[(0,n.jsxs)("div",{className:"top",children:[(0,n.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,n.jsx)(jt,{name:"sharing/close",onClick:()=>l(!1),className:"close"})]}),(0,n.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,n.jsxs)("div",{className:"bottom",children:[(0,n.jsx)(wt.kq,{onClick:()=>l(!1),children:I18N.imockSharing.cancel}),(0,n.jsx)(wt.O3,{className:"delete",onClick:()=>l(!0),children:I18N.imockSharing.delete})]})]})})}const qt=o.memo(Ss),nn=()=>{const t=(0,_.v9)(c.query.getUser),l=(0,_.v9)(c.query.getOrg),{cid:d,name:p}=(0,_.v9)(c.query.getProject),v=(0,_.v9)(c.query.getHostType),y=(0,_.v9)(c.query.getAdvancedSharingList),b=(0,_.v9)(c.query.getCanEditByUser),j=(0,_.v9)(c.query.getTheme),[E,M]=(0,o.useState)({isOpened:!1,item:null}),[R,L]=(0,o.useState)(!1),P=(0,_.I0)(),U=y.length===0,G=(0,o.useCallback)(async ie=>{ie&&P({type:c.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:E.item.cid}}),M({isOpened:!1,item:null})},[E.item,M,P]);(0,o.useEffect)(()=>{(async()=>{const se=(await(0,ne.NZ)({projectCid:d})).map(pe=>({...pe,type:"advanced"})).sort((pe,z)=>new Date(z.created_at).getTime()-new Date(pe.created_at).getTime());P({type:c.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:se}}),L(!0)})()},[d,P]);const W=async()=>{const ie=(0,X.yN)(t,l),ge=()=>{(0,D.U1)("create_advanced_sharing_click",{project_name:p,project_cid:d,source:v==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(y.length>=ie){const pe=(l==null?void 0:l.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:pe}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:pe}}),"*"),ge();return}const se=(0,X.FB)(d,y);P({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:se,settingPageType:"create"}}),ge()};return R?U?(0,n.jsxs)(Ws,{children:[(0,n.jsx)(_e.q,{name:j==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,n.jsx)(wt.KM,{onClick:W,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,n.jsxs)(ws,{children:[(0,n.jsxs)("div",{className:"create-item "+(b?"":"no-edit"),onClick:W,children:[(0,n.jsx)(_e.q,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),y.map((ie,ge)=>(0,n.jsx)(Fe,{setShowDelConfirmModal:M,sharingData:ie},ie.cid+"-"+ge)),E.isOpened&&(0,n.jsx)(qt,{handleConfirmAction:G})]}):null},it=(0,o.memo)(nn),Cs=Z.ZP.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-1mfcda2-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;span{margin-right:10px;}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],xe.Zy,xe.Zy,t=>t.theme.color_text_L1,xe.Zy,t=>t.theme.color_text_L1,t=>t.theme.color_sharing_default_bottom_bg,t=>t.theme.color_btn_secondary_active,t=>t.theme.color_btn_secondary_active);var dt=i(10238);const _t=t=>{var l;let{defaultShare:d}=t;const p=(0,_.I0)(),v=(0,o.useRef)(null),y=(0,_.v9)(c.query.getProject),b=d;y&&(b.visibility=y.visibility);const j=(0,_.v9)(c.query.getHostType),E=(0,_.v9)(c.query.getIsEditMode),M=(0,_.v9)(c.query.getUser),R=j==="iframe"||E,L=(0,_.v9)(c.query.getCanEditByUser),P=(y==null?void 0:y.is_org_project)||!1,U=!P&&L,[G,W]=(0,o.useState)({top:0,left:0}),[ie,ge]=(0,o.useState)(!1),[se,pe]=(0,o.useState)(b==null?void 0:b.visibility),z=R&&L&&se==="open",fe=R&&L,{isURLCopied:Ce,handleCopyURL:Me}=Qt({project:y,sharing:b,user:M}),ke=(0,o.useCallback)(Ie=>{const Ae={access:Ie};p({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:b,updatedKV:Ae}}),p({type:c.entryKey["sharing:function:track"],payload:{operation:Ie==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:b.view_mode,isDefault:!0}})},[b,p]),Oe=(0,o.useMemo)(()=>{const Ie=(0,n.jsx)(_e.q,{name:"toolbar/selected",className:"selected-icon"});if(P){const Ae=(b==null?void 0:b.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>ke("public"),icon:Ae?Ie:(0,n.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>ke("restricted"),icon:Ae?(0,n.jsx)("div",{style:{width:0}}):Ie}]}else return[]},[ke,P,b]),Pe=(0,o.useMemo)(()=>{const Ie=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Ye.embed,tempDisabled:se==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||Ie.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Ye.QRcode,tempDisabled:se==="close",isBorder:!0}),U&&Ie.push({name:"sharing/mkt_icon",toolTipName:I18N.imockSharing.publish_to_community,className:Ye.mkt,tempDisabled:se==="close",isColorPure:!0,isBorder:!0}),Ie},[se,U]),Te=(0,o.useCallback)(()=>{const Ie=se==="close"?"open":"close",Ae={visibility:Ie};pe(Ie),p({type:c.entryKey["sharing:remote:sharing:update"],payload:{sharingData:b,updatedKV:Ae}}),p({type:c.entryKey["sharing:function:track"],payload:{operation:Ie==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:b.view_mode,isDefault:!0}})},[se,p,b,pe]),Re=(0,o.useCallback)(Ie=>{if(!P||!z)return;const Ae=Ie.currentTarget.getBoundingClientRect();let $e=Ae.y+Ae.height+3;j==="iframe"&&($e=$e+56),W({top:$e,left:Ae.x-1}),ge(!ie)},[P,z,ie,W,j]),Ze=(0,o.useCallback)(()=>{const Ie=(0,X.UE)(y,b);(0,bt.l)(Ie),Me(),p({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:b.view_mode,isDefault:!0}})},[p,b,Me,y]),gt=(0,o.useCallback)(()=>{const Ie=b,{view_mode:Ae}=b;p({type:c.entryKey["sharing:go-settingPage"],payload:{currentSharing:Ie,settingPageType:"edit"}}),p({type:c.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:Ae,isDefault:!0}})},[b,p]),xt=(0,o.useCallback)((Ie,Ae)=>{if(!(Ie!=null&&Ie.currentTarget))return;const $e=b,{view_mode:ft}=b;switch(Ae){case Ye.QRcode:Ie.stopPropagation(),p({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:$e}}),p({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:ft,isDefault:!1}});break;case Ye.embed:p({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:$e}}),p({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:ft,isDefault:!1}});break;case Ye.mkt:(0,yt.gn)("/community/upload?project_cid="+(y==null?void 0:y.cid),"_blank","noreferrer");break;default:break}},[p,y,b]),at=(0,o.useCallback)(()=>{var Ie;W({...G,left:((Ie=v.current)==null?void 0:Ie.getBoundingClientRect().x)-1})},[G]);return(0,o.useEffect)(()=>(window.addEventListener("resize",at),()=>window.removeEventListener("resize",at))),b?(0,n.jsxs)(Cs,{className:J()(!fe&&"canNotEdit"),children:[(0,n.jsxs)("div",{className:"default-top",children:[R?(0,n.jsxs)("div",{className:"switch-content",children:[(0,n.jsx)("span",{children:I18N.imockSharing.public_access}),(0,n.jsx)(dt.Z,{size:"small",readOnly:!0,isIOS:!0,isChecked:se==="open",onChange:Te})]}):(0,n.jsx)("div",{className:"switch-content",children:I18N.imockSharing.default_share}),(0,n.jsxs)(Wt,{className:J()("item-center","default-link",se==="close"&&"notView",!z&&"userNoEdit"),isViewActiveDropdown:ie,children:[(0,n.jsx)("div",{ref:v,className:J()("left","sharingV2-click-visible",{"normal-hover":!0},!P&&"can-not-edit"),onClick:Re,children:(0,n.jsxs)("div",{className:"view-access-select",children:[(0,n.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,n.jsx)("div",{className:"access-name",children:(l=I18N.imockSharing[xe.v5[b.view_access]])!=null?l:"missing data"}),P&&(0,n.jsx)(_e.q,{size:24,name:"sharing/dropdown_24"})]})}),(0,n.jsxs)($t,{type:"button",className:J()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(Ce)),onClick:Ze,children:[(0,n.jsx)("span",{className:"state state-0",children:b.password&&b.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,n.jsx)("span",{className:"state state-1",children:(0,n.jsx)(_e.q,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,n.jsxs)("div",{className:"default-bottom",children:[(0,n.jsxs)("div",{className:"bottom-left",children:[(0,n.jsx)("div",{children:I18N.imockSharing.share_mode}),Pe.map((Ie,Ae)=>(0,n.jsx)(jt,{className:J()("share-icon",Ie.className),name:Ie.name,type:Ie.className,toolTipName:Ie.toolTipName,onClick:xt,tempDisabled:Ie.tempDisabled,isColorPure:Ie.isColorPure,isBorder:Ie.isBorder,size:24},Ae))]}),R&&(0,n.jsxs)("div",{className:J()("default-setting",!z&&"no-edit"),onClick:gt,children:[(0,n.jsx)(_e.q,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),ie&&(0,n.jsx)(Lt,{className:J()("design-avoid","viewAccess"),position:G,onClose:()=>{ge(!1)},children:Oe.map((Ie,Ae)=>(0,n.jsx)(Gt.sN,{text:Ie.label,onClick:Ie.onclick,icon:Ie.icon,disabled:Ie.disabled,canClick:Ie.tempDisabled},Ae))})]}):null},Dt=(0,o.memo)(_t),Et=Z.ZP.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-1sz39j-0"})(["width:100%;position:relative;height:100%;"]),es=Z.ZP.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-13xenhf-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],t=>t.theme.color_text_L1,t=>t.theme.color_grid_line,t=>t.theme.color_text_L2,t=>t.theme.color_bg_card,t=>t.theme.color_grid_line,t=>t.theme.color_text_L1,t=>t.theme.color_btn_secondary_active,t=>t.theme.color_text_L3);var ks=i(41768);const We=Z.ZP.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-8g3rhq-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],xe.Zy,t=>t.theme.color_border_state,t=>t.theme.color_text_L1),tt=t=>{let{title:l,handleClick:d}=t;return(0,n.jsx)(We,{children:(0,n.jsxs)("div",{className:"title",onClick:d,children:[(0,n.jsx)(_e.q,{name:"sharing/nav_back"}),l]})})},rn=()=>{let t="read_only";const l=(0,_.I0)(),d=(0,_.v9)(c.query.getCurrentSelectSharing),p=(0,_.v9)(c.query.getProject),v=(0,_.v9)(c.query.getTheme),{screen_visible_list:y,access_token:b}=d||{};if(d.type==="default"){const{view_mode:U}=d;t=U}else{const{device_model:U}=d;t=U}let j="";const E=(0,X.wr)(b);y&&y.length!==0?j='<iframe src="'+E+"/embed/v2/sharing?view_mode="+t+"&selection="+y[0]+'" allowTransparency="true" frameborder="0"></iframe>':j='<iframe src="'+E+"/embed/v2/sharing?view_mode="+t+'" allowTransparency="true" frameborder="0"></iframe>';let M=null;const R=(0,o.useCallback)(U=>{const G=U.currentTarget;G.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(M),M=setTimeout(()=>{G.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,X.dL)({action:"\u590D\u5236\u4EE3\u7801",project:p||{},linkName:d.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(W){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[d,M,p]),L=(0,o.useCallback)(U=>{(0,bt.l)(j),R(U)},[R,j]),P=(0,o.useCallback)(()=>{l({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[l]);return(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(tt,{title:I18N.imockSharing.insert,handleClick:P}),(0,n.jsxs)(es,{children:[(0,n.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,n.jsxs)("div",{className:"copy-wrapper",children:[(0,n.jsx)("img",{src:v===ks.Q2.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,n.jsxs)("div",{className:"copy-box",children:[(0,n.jsx)("p",{className:"sharing-embedded-url",children:j}),(0,n.jsx)("button",{className:"copy-button copy","data-clipboard-text":j,onClick:L,children:I18N.imockSharing.copy_code})]})]})]})]})},ts=(0,o.memo)(rn),Rt=Z.ZP.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-q78fwd-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);flex-direction:column;justify-content:center;display:flex;}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:0 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:40px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],t=>t.theme.color_bg_white,xe.Zy,xe.Zy,t=>t.theme.color_bg_line,t=>t.theme.color_text_L1,t=>t.theme.color_text_L2,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_background_icon_hover2,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_text_L3,t=>t.theme.color_text_L2,t=>t.theme.color_text_L1),ss=Z.ZP.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-q78fwd-1"})(["overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.mt{margin-top:4px;}.last{margin-bottom:-8px;}"],t=>t.theme.color_text_L1,t=>t.isActiveContextMenu&&t.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",t=>t.isActiveContextMenu&&t.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)"),Ft=Z.ZP.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-q78fwd-2"})(["height:298px;.visible-check{height:32px;}"]),on=Z.ZP.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-1w4pkti-0"})(["display:flex;background-color:",";height:32px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:108px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;transition:all 0.2s ease-out;color:",";border:1px solid ",";border-radius:4px;height:100%;&:focus{border-color:",";border-right:1px solid ",";}}.reset-pwd{width:16px;height:16px;position:absolute;border-radius:2px;right:6px;color:#999;&:hover{background-color:",";}&:active{background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],t=>t.theme.color_bg_white,t=>t.theme.color_grid_line,t=>t.theme.color_text_L1,t=>t.theme.color_bg_line,t=>t.theme.color_proto,t=>t.theme.color_proto,t=>t.theme.color_grid_line,t=>t.theme.color_grid_line,t=>t.theme.color_text_L1,t=>t.theme.color_bg_line,t=>t.theme.color_bg_canvas,t=>t.theme.color_bg_canvas);function ns(t){return Math.random().toString(36).slice(-t)}function Ns(t){const{onSubmit:l,value:d}=t,[p,v]=(0,o.useState)(t.value),y=(0,o.useRef)(null),b=R=>{v(R.target.value)},j=()=>{const R=ns(6);v(R),l(R)},E=()=>{if(!l(p)){v(d);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch(L){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},M=R=>{R.key==="Enter"&&(E(),y.current.blur())};return(0,n.jsx)(on,{children:(0,n.jsxs)("div",{className:"password-input-wrapper",children:[(0,n.jsx)("input",{ref:y,type:"text",className:"password-input",value:p,onChange:b,onBlur:E,onKeyPress:M}),(0,n.jsx)($.Z,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,n.jsx)(_e.q,{className:"reset-pwd",name:"common/spinner",onClick:j})})]})})}const Bt=()=>(0,n.jsx)(js,{}),js=Z.ZP.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-178sehp-0"})(["height:1px;background:",";margin:8px 24px;"],t=>t.theme.color_background_icon_hover2);function St(t){const{sharingData:l,updateSharing:d}=t,p=l.view_mode,{isHavePassword:v}=Xt(l),y=(0,_.I0)(),{comment_permission:b,wechat:j,view_sticky:E}=l,M=()=>{if(v)d({password:""}),y({type:c.entryKey["sharing:settingPage:default:confirm"]});else{const W=ns(6);R(W)}y({type:c.entryKey["sharing:function:track"],payload:{operation:v?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:p}})},R=W=>/^\s*$/.test(W)||!/^\w+$/.test(W)?!1:(d({password:W}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:p}}),!0),L=()=>{d({wechat:!j}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:j?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:p}})},P=(0,o.useMemo)(()=>b==="org_member",[b]),U=()=>{d({view_sticky:E==="view_sticky"?"no_sticky":"view_sticky"}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:E?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:p}})},G=()=>{d({comment_permission:b==="org_member"?"off":"org_member"}),y({type:c.entryKey["sharing:settingPage:default:confirm"]}),y({type:c.entryKey["sharing:function:track"],payload:{operation:P?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:p}})};return(0,n.jsxs)(ss,{children:[(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,n.jsxs)("div",{className:"password-input-item",children:[v&&(0,n.jsx)(Ns,{value:l.password,onSubmit:R}),(0,n.jsx)(dt.Z,{size:"small",isIOS:!0,isChecked:v,onChange:M})]})]}),(0,n.jsx)(Bt,{}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,n.jsx)(dt.Z,{size:"small",isIOS:!0,isChecked:E==="view_sticky",onChange:U})]}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,n.jsx)(dt.Z,{size:"small",isIOS:!0,isChecked:P,onChange:G})]}),(0,n.jsx)(Bt,{}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,n.jsx)(dt.Z,{size:"small",isIOS:!0,isChecked:j,onChange:L})]})]})}function qe(){const t=(0,_.v9)(c.query.getCurrentSharing),l=(0,_.I0)(),d=(0,o.useCallback)(v=>{l({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:v}})},[l]),p=()=>{l({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,n.jsxs)(Rt,{children:[(0,n.jsx)(tt,{title:I18N.imockSharing.sharing_setting_title,handleClick:p}),(0,n.jsx)("div",{className:"basic-content",children:(0,n.jsx)(St,{sharingData:t,updateSharing:d,isOrgProject:!1})})]})}var rs=i(68435),Ge=i(94811);function Ue(t){const{isOrgProject:l,sharingData:d,updateSharing:p}=t,v=d.device_model,y=(0,o.useMemo)(()=>(0,X.VV)(l),[l]),{isHavePassword:b}=Xt(d),j=(0,_.I0)(),{view_sticky:E,comment_permission:M,wechat:R}=d,L=se=>{let{value:pe}=se;p({view_access:pe})},P=()=>{if(b)p({password:""});else{const se=ns(6);U(se)}j({type:c.entryKey["sharing:function:track"],payload:{operation:b?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:v,isDefault:!0}})},U=se=>/^\s*$/.test(se)||!/^\w+$/.test(se)?!1:(p({password:se}),j({type:c.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:v,isDefault:!0}}),!0),G=()=>{p({wechat:!R}),j({type:c.entryKey["sharing:function:track"],payload:{operation:R?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:v,isDefault:!0}})},W=(0,o.useMemo)(()=>M==="org_member",[M]),ie=()=>{p({view_sticky:!E,sticky:!E}),j({type:c.entryKey["sharing:function:track"],payload:{operation:E?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:v,isDefault:!0}})},ge=()=>{p({comment_permission:M==="org_member"?"off":"org_member"}),j({type:c.entryKey["sharing:function:track"],payload:{operation:W?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:v,isDefault:!0}})};return(0,n.jsxs)(ss,{children:[d.type==="advanced"&&l&&(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,n.jsx)(Ge.Z,{name:"access",optionList:y,value:d.view_access,onChange:L})]}),(0,n.jsxs)("div",{className:"line-item "+(l?"mt":""),children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,n.jsxs)("div",{className:"password-input-item",children:[b&&(0,n.jsx)(Ns,{value:d.password,onSubmit:U}),(0,n.jsx)(dt.Z,{size:"small",isIOS:!0,isChecked:b,onChange:P})]})]}),(0,n.jsx)(Bt,{}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,n.jsx)(dt.Z,{size:"small",isIOS:!0,isChecked:E,onChange:ie})]}),(0,n.jsxs)("div",{className:"line-item mt",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,n.jsx)(dt.Z,{size:"small",isIOS:!0,isChecked:W,onChange:ge})]}),(0,n.jsx)(Bt,{}),(0,n.jsxs)("div",{className:"line-item",children:[(0,n.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,n.jsx)(dt.Z,{size:"small",isIOS:!0,isChecked:R,onChange:G})]})]})}var ze=i(49650),Ct=i(7627),De=i.n(Ct);const an=Z.ZP.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-ysqvb2-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],t=>t.theme.color_text_L2,t=>t.theme.color_text_disabled01,t=>t.isCircle?"50%":"2px",t=>t.theme.color_bg_white,t=>t.theme.color_text_L2,t=>t.theme.color_text_L3,t=>t.theme.color_text_L2);class mt extends o.PureComponent{constructor(){super(...arguments),(0,ze.Z)(this,"onToggle",l=>{const{onChange:d}=this.props;d(l)})}render(){const{className:l,isDisabled:d,readOnly:p,isChecked:v,isCircle:y}=this.props,b=J()(l,{"is-checked":v,"is-disabled":d,readonly:p});return(0,n.jsx)(an,{className:b,onClick:this.onToggle,isCircle:y,children:(0,n.jsx)("span",{className:"Check-state",children:(0,n.jsx)(_e.q,{name:"new_replace/box_check"})})})}}(0,ze.Z)(mt,"propTypes",{isChecked:De().bool,isDisabled:De().bool,readOnly:De().bool,onChange:De().func,label:De().any,name:De().string,value:De().any,className:De().string,isCircle:De().bool}),(0,ze.Z)(mt,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var Es=i(86381),Ps=i(45567),os=i(18166);const Zn=Z.ZP.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1qgvr8z-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:180px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],t=>t.theme.color_text_L1,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_L1,t=>t.theme.color_grid_line,t=>t.theme.color_grid_line,t=>t.theme.color_text_disabled01,t=>t.theme.color_grid_line,t=>t.theme.color_grid_line,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_L2,t=>t.theme.color_text_L2,t=>t.theme.color_bg_card,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_disabled01,t=>t.theme.color_text_L2,t=>t.theme.color_text_L1);class cn extends o.PureComponent{constructor(l){super(l),(0,ze.Z)(this,"handleCheck",b=>{const{onUpdateScreenVisibleList:j,screenVisibleList:E}=this.props,M=new Set(E),R=(0,os.qv)(b),L=M.has(b.cid);R.forEach(U=>{let{cid:G}=U;L?M.delete(G):M.add(G)});const P=[];for(const U of M){const G=this.screenDataMap[U];G&&!(0,os.Vx)(G)&&P.push(G)}j(Array.from(M))}),(0,ze.Z)(this,"onSelectAll",b=>{const{onUpdateScreenVisibleList:j}=this.props;j(b?this.pageKeyList:[])});const{screenMetaList:d}=l,{treeData:p,pageAttrMap:v,pageKeyList:y}=d;this.screenDataMap=v,this.screenTreeData=p,this.pageKeyList=y,this.pageExceptFolderList=(0,X.VN)(v)}componentDidMount(){const l=(0,ht.RD)("currentJumpingSharingScreenMetaCid",void 0,ht.cM.String);(0,ht.q)("currentJumpingSharingScreenMetaCid"),l!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+l+'"]').scrollIntoView(),300)}render(){const{theme:l,screenVisibleList:d,isDisplayScreenAll:p}=this.props,v=(d==null?void 0:d.length)===this.pageKeyList.length,y=(0,X.SG)(p,d,this.pageExceptFolderList);return(0,n.jsxs)(Zn,{children:[(0,n.jsxs)("div",{className:J()("screen-config-header",{"is-disabled":p}),children:[(0,n.jsx)(Es.Z,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:p,isChecked:v}),(0,n.jsxs)("div",{className:"content-wrapper",children:[(0,n.jsx)("span",{className:"divider",children:"|"}),(0,n.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",y).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,n.jsx)("div",{className:J()("screen-list-content",{"is-disabled":p,dark:l==="dark"}),children:(0,n.jsx)("div",{className:"sm-list",children:(0,n.jsx)(is,{theme:l,isDisplayScreenAll:p,screenTreeData:this.screenTreeData,screenVisibleList:d,onCheck:this.handleCheck})})})]})}}(0,ze.Z)(cn,"propTypes",{theme:De().string,screenMetaList:De().object,screenVisibleList:De().array,onUpdateScreenVisibleList:De().func,isDisplayScreenAll:De().bool});const is=t=>{let{theme:l,isDisplayScreenAll:d,screenTreeData:p,screenVisibleList:v,onCheck:y}=t;return(0,n.jsx)(n.Fragment,{children:p.children.map(b=>(0,n.jsx)(Ut,{theme:l,treeNode:b,root:!0,depth:0,screenVisibleList:v,isDisplayScreenAll:d,onCheck:y},b.cid))})};is.propTypes={theme:De().string,isDisplayScreenAll:De().bool,screenTreeData:De().object,screenVisibleList:De().array,onCheck:De().func};class Ut extends o.PureComponent{constructor(l){super(l),(0,ze.Z)(this,"handleCheck",d=>{d.stopPropagation();const{isDisplayScreenAll:p}=this.props;if(p)return;const{treeNode:v,onCheck:y}=this.props;y(v)}),(0,ze.Z)(this,"handleExpand",d=>{const{isDisplayScreenAll:p}=this.props;p||(d.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:l,treeNode:d,root:p,depth:v,screenVisibleList:y,onCheck:b,theme:j}=this.props,{children:E,data:M}=d,R=E.length!==0,{expand:L}=this.state,P=y&&y.includes(d.cid);return(0,n.jsxs)("li",{className:J()("content-item"),"data-cid":d.cid,children:[(0,n.jsxs)("div",{className:J()("sm-box",{"is-display":P,"is-disabled":l}),children:[(0,n.jsx)(mt,{isDisabled:l,className:"sm-check",isChecked:P,onChange:this.handleCheck}),(0,n.jsx)(as,{isDisabled:l,theme:j,root:p,depth:v,showExpander:R,data:M,expand:L,onClick:this.handleCheck,onExpand:this.handleExpand})]}),E.length>0&&L&&(0,n.jsx)("ol",{className:"sm-child",children:E.map(U=>(0,n.jsx)(Ut,{theme:j,treeNode:U,depth:v+1,screenVisibleList:y,isDisplayScreenAll:l,onCheck:b},U.cid))})]})}}(0,ze.Z)(Ut,"propTypes",{theme:De().string,isDisplayScreenAll:De().bool,treeNode:De().object,screenVisibleList:De().array,depth:De().number,root:De().bool,onCheck:De().func});class as extends o.PureComponent{render(){const{depth:l,showExpander:d,data:p,expand:v,onExpand:y,onClick:b,theme:j,isDisabled:E}=this.props,M=19*(l+1);return(0,n.jsxs)("div",{className:J()("sm-item"),style:{paddingLeft:M},onClick:b,children:[d&&(0,n.jsx)("a",{className:"expander",onClick:y,children:(0,n.jsx)(_e.q,{className:J()("arrow-icon",{"is-expand":v}),name:"common/expand"})}),(0,n.jsx)(Ps.p,{icon:p.icon,theme:j,disabled:E,isExpand:v}),(0,n.jsx)("span",{className:"screen-name",children:p.name})]})}}(0,ze.Z)(as,"propTypes",{theme:De().string,isDisabled:De().bool,showExpander:De().bool,data:De().object,depth:De().number,expand:De().bool,onExpand:De().func,onClick:De().func});function ln(t){const l=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:d,updateSharing:p}=t,[v,y]=(0,o.useState)(d.screen_visible_switch?2:1),b=(0,_.v9)(c.query.getTheme),j=(0,_.v9)(c.query.getScreenMetaList),E=R=>{p({screen_visible_list:R})},M=R=>{let{value:L}=R;p({screen_visible_switch:L==="2",screen_visible_list:[]}),y(L)};return(0,n.jsxs)(Ft,{children:[(0,n.jsx)("div",{className:"line-item visible-check",children:(0,n.jsx)(Ge.Z,{name:"access",optionList:l,value:v,onChange:M})}),j&&(0,n.jsx)(cn,{theme:b,screenMetaList:j,screenVisibleList:d.screen_visible_list,isDisplayScreenAll:!d.screen_visible_switch,onUpdateScreenVisibleList:E})]})}var zt=i(50741);const dn=t=>{let{handleConfirm:l,handleCancel:d}=t;const p=(0,_.v9)(c.query.getCurrentSharing),v=(0,_.v9)(c.query.getTheme),y=(0,_.v9)(c.query.getScreenMetaList),b=p.type==="default"?!1:p.screen_visible_switch&&(0,X.ML)(y,p).selectedSize===0,j=()=>{b||l()};return(0,n.jsxs)(Is,{className:"confirm-bar",children:[(0,n.jsx)(wt.KM,{className:J()("confirm",{dark:v==="dark"}),disabled:b,onClick:j,children:I18N.SettingPanel.confirm}),(0,n.jsx)(wt.kq,{className:"cancel",onClick:d,children:I18N.imockSharing.cancel})]})},Is=Z.ZP.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-fh6wtb-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:12px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),pn=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"}],Ms=t=>{let{sharingData:l,updateSharing:d}=t;const p=M=>()=>{d({device_model:M})},[v,y]=(0,o.useState)(!1),b=(0,_.v9)(c.query.getTheme),j=()=>{y(!0)},E=()=>{y(!1)};return(0,n.jsx)(un,{className:J()({dark:b==="dark"}),children:(0,n.jsxs)("div",{className:"device-model",children:[(0,n.jsxs)("div",{className:"device-model-header",children:[(0,n.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.sharing_type}),(0,n.jsxs)("div",{className:"modal-container",children:[(0,n.jsx)(_e.q,{onMouseEnter:j,onMouseLeave:E,className:"tipsIcon",name:"sharing/question",size:14}),v&&(0,n.jsxs)("div",{className:J()("device-model-modal",{light:b==="light",dark:b==="dark"}),children:[(0,n.jsx)("div",{className:"icon-triangle"}),(0,n.jsxs)("div",{className:J()("modal-content"),children:[(0,n.jsxs)("div",{className:"read_only",children:[(0,n.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+b+".png"}),(0,n.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,n.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]}),(0,n.jsxs)("div",{className:"device",children:[(0,n.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+b+".png"}),(0,n.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,n.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]})]})]})]}),(0,n.jsx)("div",{className:"device-model-type-container",children:pn().map((M,R)=>{let{key:L,label:P,icon:U}=M;const G="device-model-"+L+"   ";return(0,n.jsxs)("div",{className:J()(G,{"is-active":L===l.device_model,dark:b==="dark"}),onClick:p(L),children:[(0,n.jsx)(_e.q,{name:U,size:16}),(0,n.jsx)("span",{children:P})]},R)})})]})})},un=Z.ZP.div.withConfig({displayName:"ViewModeModel__StyledDevcieModel",componentId:"sc-1tq5cfg-0"})(["position:relative;margin-bottom:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}.device-model-modal{z-index:100;position:absolute;left:20px;top:24px;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;justify-content:space-evenly;padding:24px 0px;width:374px;height:230px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.device,.read_only{width:160px;height:180px;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin:6px 0;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-read_only,.device-model-device{width:177px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);&.dark{border:1px solid #4f5052;}border-radius:6px;color:",";span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],t=>t.theme.color_text_L2,t=>t.theme.color_text_L3,t=>t.theme.color_text_L2,t=>t.theme.color_bg_line,t=>t.theme.color_bg_white,t=>t.theme.color_bg_line,t=>t.theme.color_bg_line,t=>t.theme.color_bg_white,t=>t.theme.color_text_L1,t=>t.theme.color_text_L2,t=>t.theme.color_text_L1,t=>t.theme.color_text_link_normal,t=>t.theme.color_text_link_normal,t=>t.theme.color_text_link_normal,t=>t.theme.color_text_link_normal),Os=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function hn(){const t=(0,_.v9)(c.query.getProject),l=(0,_.v9)(c.query.getSettingPageType),d=(0,_.v9)(c.query.getSubSettingPageType),p=(0,_.v9)(c.query.getCurrentSharing),v=(0,_.v9)(c.query.getAdvancedSharingList),y=(0,_.I0)(),[b,j]=(0,o.useState)(d==="basic"?0:1),[E,M]=(0,o.useState)(p.link_name),[R,L]=(0,o.useState)(!1),P=Te=>{j(Te)},U=(0,o.useCallback)(async()=>{y({type:c.entryKey["sharing:settingPage:advanced:confirm"]})},[y]),G=(0,o.useCallback)(()=>{y({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),l==="edit"&&R&&y({type:"sharing:advance:click:track"})},[y,l,R]),W=(0,o.useCallback)(Te=>{y({type:c.entryKey["sharing:currentSharing:update"],payload:{updatedKV:Te}}),l==="edit"&&(L(!0),U())},[y,l,U,L]),ie=()=>{const Te=Ce.current.value;Te===""?(y({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),Oe(E)):(0,X.x2)({value:Te,currentSharing:p,sharingList:v})?(Oe(E),y({type:c.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(M(Te),W({link_name:Te}))},{isRenaming:ge,setIsRenaming:se,handleKeyDown:pe,handleBlur:z,handleFocus:fe,inputRef:Ce,handleInput:Me,inputName:ke,setInputName:Oe}=lt({name:p.link_name,fBlur:ie}),Pe=()=>{se(!0)};return(0,n.jsxs)(Rt,{children:[l==="create"?(0,n.jsx)("div",{className:"header",children:(0,n.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,n.jsx)(tt,{title:I18N.imockSharing.sharing_setting_title,handleClick:G}),(0,n.jsxs)("div",{className:"share-link-title",children:[(0,n.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,n.jsx)("div",{className:J()("name-input",{"is-renaming":ge}),children:ge?(0,n.jsx)("form",{children:(0,n.jsx)("input",{value:ke,onFocus:fe,onChange:Me,ref:Ce,onBlur:z,onKeyPress:pe})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{onClick:Pe,children:E}),(0,n.jsx)(zt.Z,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:Pe})]})})]}),(0,n.jsx)(Ms,{sharingData:p,updateSharing:W}),(0,n.jsxs)("div",{className:"tabs",children:[(0,n.jsx)(rs.Z,{className:"sharing-nav",activeIndex:b,onTabChange:P,children:Os().map(Te=>{let{key:Re,name:Ze,...gt}=Te;return(0,n.jsx)(rs.G,{...gt,active:b===Re,className:J()({visible:Ze==="visible",basic:Ze==="basic"})},Re)})}),(0,n.jsx)("div",{})]}),b===0?(0,n.jsx)(Ue,{isOrgProject:t.is_org_project,sharingData:p,updateSharing:W}):(0,n.jsx)(ln,{sharingData:p,updateSharing:W}),l==="create"&&(0,n.jsx)(dn,{handleConfirm:U,handleCancel:G})]})}function mn(){return(0,_.v9)(c.query.getCurrentSharing).type==="default"?(0,n.jsx)(qe,{}):(0,n.jsx)(hn,{})}const gn=Z.ZP.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-1konos2-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),fn=(0,o.memo)(function(){const l=(0,_.v9)(c.query.getSharingToast),d=(0,_.I0)();return(0,o.useEffect)(()=>{setTimeout(()=>{d({type:c.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[d]),l?(0,n.jsxs)(gn,{children:[(0,n.jsx)(_e.q,{name:"sharing/toast_waring",isColorPure:!0}),l]}):null}),yn=Z.ZP.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-qtrrh-0"})(["display:flex;align-items:center;justify-content:center;height:calc(100% - ","px);"],xe.Zy);var bn=i(46007);const xn=Z.ZP.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-ft5f1y-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:130px;height:130px;filter:",";border:1px solid ",";.qrcode{width:110px;height:110px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],t=>t.theme.color_sharing_qrcode_bg,t=>t.theme.color_sharing_qrcode_filter,t=>t.theme.color_share_del_confirm_border_color);function vn(t){const{isQRcodePanel:l,text:d,project:p}=t,v=p.icon||null;return l?(0,n.jsxs)(xn,{className:"qrcode-and-icon",children:[(0,n.jsx)(bn.Z,{className:"qrcode",text:d,width:110,height:110}),v&&(0,n.jsx)("div",{className:"p-icon-box",children:(0,n.jsx)("img",{src:v})})]}):null}const As=()=>{const t=(0,_.I0)(),l=(0,_.v9)(c.query.getCurrentSelectSharing),d=(0,_.v9)(c.query.getProject),p=(0,o.useMemo)(()=>(0,X.UE)(d,l),[l,d]),v=(0,o.useCallback)(()=>{t({type:c.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[t]);return(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(tt,{title:I18N.imockSharing.qr_code,handleClick:v}),(0,n.jsx)(yn,{children:(0,n.jsx)(vn,{isQRcodePanel:!0,project:d,text:p})})]})},Ts=(0,o.memo)(As),cs=()=>{var t;const l=(0,_.I0)(),d=(0,_.v9)(c.query.getHostSharingData),p=(0,_.v9)(c.query.getProject),v=p==null?void 0:p.is_org_project,{link_name:y,view_access:b}=d,j=(0,_.v9)(c.query.getUser),E=(0,_.v9)(c.query.getHostType),M=(0,_.v9)(c.query.getIsEditMode),R=E==="iframe"||M,L=(0,_.v9)(c.query.getCanEditByUser),{isURLCopied:P,handleCopyURL:U}=Qt({project:p,sharing:d,user:j}),G=R&&L,W=(0,o.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Ye.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Ye.embed,tempDisabled:!1,isBorder:!0}],[]),ie=(0,o.useCallback)(()=>{const se=(0,X.UE)(p,d);(0,bt.l)(se),U(),l({type:c.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:d.device_model,isDefault:!1}})},[l,d,U,p]),ge=(0,o.useCallback)((se,pe)=>{if(!(se!=null&&se.currentTarget))return;const z=d,{device_model:fe}=d;switch(pe){case Ye.QRcode:se.stopPropagation(),l({type:c.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:z}}),l({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:fe,isDefault:!1}});break;case Ye.embed:l({type:c.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:z}}),l({type:c.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:fe,isDefault:!1}});break;default:break}},[l,d]);return(0,n.jsxs)(Cs,{children:[(0,n.jsxs)("div",{className:"default-top",children:[(0,n.jsx)("div",{className:"switch-content",children:y}),(0,n.jsxs)(Wt,{className:J()("item-center","default-link",!G&&"userNoEdit"),children:[(0,n.jsx)("div",{className:J()("left","sharingV2-click-visible",{"normal-hover":!0},!v&&"can-not-edit"),children:(0,n.jsxs)("div",{className:"view-access-select",children:[(0,n.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,n.jsx)("div",{className:"access-name",children:(t=I18N.imockSharing[xe.v5[b]])!=null?t:"missing data"}),v&&(0,n.jsx)(_e.q,{size:24,name:"sharing/dropdown_24"})]})}),(0,n.jsxs)($t,{type:"button",className:J()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(P)),onClick:ie,children:[(0,n.jsx)("span",{className:"state state-0",children:d.password&&d.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,n.jsx)("span",{className:"state state-1",children:(0,n.jsx)(_e.q,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,n.jsx)("div",{className:"default-bottom",children:(0,n.jsxs)("div",{className:"bottom-left",children:[(0,n.jsx)("div",{children:I18N.imockSharing.share_mode}),W.map((se,pe)=>(0,n.jsx)(jt,{className:J()("share-icon",se.className),name:se.name,type:se.className,toolTipName:se.toolTipName,onClick:ge,tempDisabled:se.tempDisabled,isColorPure:se.isColorPure,isBorder:se.isBorder,size:24},pe))]})})]})},ls=(0,o.memo)(cs),wn=()=>{const t=(0,_.v9)(c.query.getTopPageIndex),l=(0,_.v9)(c.query.getTabIndex),d=(0,_.v9)(c.query.getSharingToast),p=(0,_.v9)(c.query.getHostSharingData),v=!p||p.type==="default",y=(0,_.v9)(c.query.getProject),b=(0,_.v9)(c.query.getIsEditMode),E=(0,_.v9)(c.query.getHostType)==="iframe"||b,[M,R]=(0,o.useState)(p);return(0,o.useEffect)(()=>{const{sharing:L}=(0,ne.j_)(y);R(L)},[p,y]),(0,n.jsxs)(Et,{children:[t==="edit"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Gs,{}),l===0?!E&&!v?(0,n.jsx)(ls,{}):M?(0,n.jsx)(Dt,{defaultShare:M}):(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(it,{})]}),t==="embed"&&(0,n.jsx)(ts,{}),t==="setting"&&(0,n.jsx)(mn,{}),t==="qrCode"&&(0,n.jsx)(Ts,{}),d&&(0,n.jsx)(fn,{})]})},_n=(0,o.memo)(wn),Sn=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,Cn=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var ds=i(6966);const Ls=async(t,l)=>{try{let p=null;return t?p=await(0,ds.EE)("/api/dashboard/v4/users/search?email="+t):l&&(p=await(0,ds.EE)("/api/dashboard/v4/users/search?mobile="+l)),p}catch(p){var d;return p!=null&&(d=p.message)!=null&&d.includes("failed with 404")?{}:null}};var ps=i(27149);const Ds=(0,Z.ZP)(ps.Z).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1wqmy1b-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],t=>t.theme.color_project_access_tip_hover),kn=(0,Z.vJ)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:100px;margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:102px;margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}']);let kt=function(t){return t.OrgSpace="orgspace-permission-tip",t.OrgSpaceLimiter="orgspace-limiter-permission-tip",t.RootFolder="root-folder-permission-tip",t.SubFolder="sub-folder-permission-tip",t.Project="project-permission-tip",t}({});const us=t=>{const{tipType:l,position:d="center",className:p}=t,[v,y]=(0,o.useState)({}),b=(0,_.v9)(He.Q3);(0,o.useEffect)(()=>{const E=document.querySelector(".sharingBoxV2 ");if(E){const{left:M,top:R}=E.getBoundingClientRect();y({left:Number(M)+13,top:Number(R)+29})}},[]);const j=()=>{switch(l){case kt.Project:return(0,n.jsxs)("section",{className:"multi-line",children:[(0,n.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,n.jsxs)("li",{children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,n.jsxs)("li",{children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),!(b!=null&&b.is_disable_banned_viewer)&&(0,n.jsxs)("li",{children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,n.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case kt.SubFolder:return(0,n.jsxs)("section",{className:"multi-line",children:[(0,n.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,n.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,n.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case kt.RootFolder:return(0,n.jsxs)("section",{className:"multi-line",children:[(0,n.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case kt.OrgSpace:return(0,n.jsxs)("section",{className:"multi-line",children:[(0,n.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,n.jsxs)("li",{className:"desc",children:[(0,n.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case kt.OrgSpaceLimiter:return(0,n.jsx)("section",{className:"single-line",children:(0,n.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,n.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ds,{opener:(0,n.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:d,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:J()("permission-tip",p&&p),menu:j(),menuBaseStyle:v}),(0,n.jsx)(kn,{})]})};var jn=i(64792);const rt=Z.ZP.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-se9dlz-0"})(["width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),Rs=(0,Z.ZP)(jn.ZP).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-se9dlz-1"})(["width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),En=(0,Z.vJ)([".permission-select.CheckSelectMenu{padding:8px 0;background-color:#333;border-radius:4px;box-shadow:none;&:lang(en){min-width:120px;}.SelectOption{height:24px;flex-direction:row-reverse;margin-bottom:2px;padding:0;color:#fff;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:#444;color:#fff;}&:hover{color:#fff;}> span.Ellipsis{min-width:80px;padding:0 10px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{margin:0 0 0 10px;path{fill:#fff;}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"]);var Zt=i(10217);const Pn=t=>{let l=[],d={};switch(t){case we.n.OrgSpace:l=st,d=Ke.Tt;break;case we.n.Folder:l=Xe,d=Ke.qf;break;case we.n.Project:l=et,d=Ke.p$;break;default:break}return l.map(p=>({...p,permission:(0,O.JY)(p.value,d)}))},Fs=(t,l)=>{let d={};switch(t){case we.n.OrgSpace:return l;case we.n.Folder:d=nt;break;case we.n.Project:d=ot;break;default:return l}return d[l]||l},In=t=>{switch(t){case we.n.OrgSpace:return I18N.imockSharing.permission_no_right_project;case we.n.Folder:return I18N.imockSharing.permission_no_right_folder;case we.n.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},Bs=t=>{const{value:l,optionList:d,handleChange:p}=t,v=(0,o.useRef)(null),[y,b]=(0,o.useState)(!0),j=d.filter(M=>M.value===l),E=(0,o.useCallback)(()=>{v.current&&v.current.close()},[]);return(0,o.useEffect)(()=>(document.body.addEventListener("wheel",E),()=>{document.body.removeEventListener("wheel",E)}),[E]),(0,o.useEffect)(()=>{const M=setTimeout(()=>{b(!1)},1e3);return()=>{clearTimeout(M)}},[]),y?(0,n.jsx)(Rs,{unstyled:!0,ref:v,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:l,menuX:"right",onChange:p,optionList:j,menuClassName:"permission-select"}):(0,n.jsx)(Rs,{unstyled:!0,ref:v,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:l,menuX:"right",onChange:p,optionList:d,menuClassName:"permission-select"})},Mn=(0,o.memo)(Bs),Nt=(t,l)=>{const{isSelf:d,userCurrentSpacePermission:p,userCurrentScopePermisson:v,memberCurrentScopePermisson:y,memberTopScopePermisson:b,memberOrgPermisson:j}=l;return t.map(M=>{let{value:R,label:L,permission:P}=M,U=!1;return p.isManager&&d||(v.isMember?(v.level<y.level||v.level<P.level||!b.isMember&&b.isViewer&&!j.isMember&&P.isMember)&&(U=!0):U=!0),Object.assign({},{value:R,label:I18N.imockSharing[L]||L},{isDisabled:U})})},Us=t=>{const{readOnlyTooltip:l,isReset:d=!1,member:p,isOnlyOneManager:v,permissionScope:y,onPermissionChange:b}=t;let{readOnly:j}=t,E=j,M=l;const R=Pn(y),{permissionMap:L}=p,{memberCurrentScopePermisson:P,userCurrentScopePermisson:U,userCurrentSpacePermission:G,currentScopeRoleName:W,isSelf:ie,isDisableBannedViewer:ge,userIsSpaceLimiter:se,memberIsSpaceLimiter:pe}=L;let z=Nt(R,L);ge&&(z=z.filter(Me=>!Me.value.includes("ban_viewer"))),y===we.n.OrgSpace&&!pe&&(z=z.filter(Me=>Me.value!=="space_limiter")),(y===we.n.OrgSpace||pe)&&!P.isUnknown&&!P.isInherited&&!d&&(ie&&!P.isUnknown||U.isManager&&z.push({value:Le,label:I18N.imockSharing.remove,isDisabled:!1})),!E&&se&&!d&&(j=!0,E=!0),!E&&P.isViewer&&!d&&(U.isMember?U.level<P.level?(E=!0,M="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):P.isManager&&v&&(E=!0,M=In(y)):G!=null&&G.isManager&&ie||(E=!0));let fe=Fs(y,W);d&&(fe="");const Ce=Me=>{E||b(p,Me)};if(E||j){const Me=z.find(ke=>ke.value===fe);return(0,n.jsx)(rt,{className:J()("read-only-option",!j&&E&&"disabled"),children:(0,n.jsx)(Zt.Z,{content:M,position:"bottom",children:(0,n.jsx)("span",{className:"label",children:Me.label})})})}return(0,n.jsx)(Mn,{value:fe,handleChange:Ce,optionList:z})},On=(0,o.memo)(Us),hs=(0,Z.vJ)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),ms=Z.ZP.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-12wxg8o-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:60px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_btn_secondary_hover,t=>t.theme.color_share_member__border_color,t=>t.theme.color_AI_Text_Auto_fill_path_hover),An=t=>{const{theme:l,caption:d,captionExtra:p,className:v,permissionScope:y,memberList:b,isOnlyOneManager:j,readOnly:E,readOnlyTooltip:M,expandable:R,defaultExpanded:L=!0,isResetPermission:P=!1,children:U,onPermissionChange:G,onChangeHeight:W,isMemberList:ie,onlyTitle:ge}=t,[se,pe]=(0,o.useState)(L),z=(0,o.useCallback)(()=>{pe(Ce=>!Ce),W&&W()},[W]),fe=(0,o.useCallback)(Ce=>{var Me;const{avatar:ke,name:Oe}=Ce;return ke&&!ke.includes("/images/avatar.png")?(0,n.jsx)("img",{className:"avatar",src:Ce.avatar,alt:Ce.name}):(0,n.jsx)("div",{className:"avatar avater-name",children:Oe==null||(Me=Oe.slice(0,1))==null?void 0:Me.toUpperCase()})},[]);return(0,n.jsxs)(ms,{className:J()("member-list",l,v&&v),"data-expanded":se,children:[R&&(0,n.jsxs)("h5",{className:"caption",children:[(0,n.jsx)("span",{children:d}),!ge&&R&&!ie&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:b.length>0&&"\xB7"+b.length}),(0,n.jsx)("span",{className:J()("btn-toggle-expand"),onClick:z,children:se?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),p]}),U,!!b.length&&(0,n.jsx)("div",{className:"members",children:b.map(Ce=>(0,n.jsxs)("div",{className:"item",children:[(0,n.jsxs)("span",{className:"title",children:[fe(Ce),(0,n.jsx)("span",{className:"name",children:Ce.name})]}),(0,n.jsx)("span",{className:"account",children:Ce.email||Ce.mobile}),(0,n.jsx)(On,{readOnly:E,readOnlyTooltip:M,member:Ce,isReset:P,isOnlyOneManager:j,permissionScope:y,onPermissionChange:G})]},Ce.user_cid))})]})},Pt=(0,o.memo)(An),gs=Z.ZP.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-xh4s6x-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],t=>t.theme.color_text_L1,t=>t.theme.color_bg_line),fs=t=>{const{value:l,onChange:d,onKeyPress:p}=t,v=b=>{d(b.currentTarget.value)},y=b=>{b.key==="Enter"&&p(b.currentTarget.value)};return(0,n.jsxs)(gs,{className:"search-box",children:[(0,n.jsx)("input",{type:"password",name:"password",className:"autoCompleteInput"}),(0,n.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:l,onChange:v,onKeyPress:y})]})},ys=(0,o.memo)(fs);var zs=i(47658);function Tn(t){const{theme:l,caption:d,outerMembers:p,canInvite:v,isSharing:y,handleClickInviteMember:b}=t,j=()=>{const R="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(p[0].mobile||p[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+d+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,bt.l)(R)},E=!p||p.length<1;return y?(0,n.jsxs)(ms,{className:"member-list sharing "+l,children:[(0,n.jsxs)("div",{className:"members invite",children:[!E&&p.map(M=>(0,n.jsxs)("div",{className:"item",children:[(0,n.jsxs)("span",{className:"title",children:[(0,n.jsx)("img",{className:"avatar",src:M.avatar,alt:M.name}),(0,n.jsxs)("span",{className:"name",children:[M.name,(0,n.jsx)("span",{className:"register",children:M.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,n.jsx)("span",{className:"account",children:M.email||M.mobile}),!i.g.ENV.IS_ON_PREMISES&&(v?(0,n.jsx)("span",{className:"inviteJoin",onClick:b,children:I18N.imockSharing.invite_h}):(0,n.jsxs)("div",{className:"addOuter",children:[(0,n.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,n.jsx)(ps.Z,{opener:(0,n.jsx)(zs.Z,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,n.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,n.jsx)("a",{className:"copy-text",onClick:j,children:I18N.imockSharing.copy})]})})]}))]},M.cid)),E&&(0,n.jsx)("div",{className:"enterTip",children:(0,n.jsx)("span",{children:i.g.ENV.IS_ON_PREMISES?(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,n.jsx)(hs,{})]}):(n.Fragment,(0,n.jsxs)(ms,{className:"member-list "+l,children:[(0,n.jsxs)("div",{className:"members invite",children:[!E&&p.map(M=>(0,n.jsxs)("div",{className:"item",children:[(0,n.jsxs)("span",{className:"title",children:[(0,n.jsx)("img",{className:"avatar",src:M.avatar,alt:M.name}),(0,n.jsxs)("span",{className:"name",children:[M.name,(0,n.jsx)("span",{className:"register",children:M.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,n.jsx)("span",{className:"account",children:M.email||M.mobile}),!i.g.ENV.IS_ON_PREMISES&&(v?(0,n.jsx)("span",{className:"inviteJoin",onClick:b,children:I18N.imockSharing.invite_h}):(0,n.jsxs)("div",{className:"addOuter",children:[(0,n.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,n.jsx)(ps.Z,{opener:(0,n.jsx)(zs.Z,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,n.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,n.jsx)("a",{className:"copy-text",onClick:j,children:I18N.imockSharing.copy})]})})]}))]},M.cid)),E&&(0,n.jsx)("div",{className:"enterTip",children:(0,n.jsx)("span",{children:i.g.ENV.IS_ON_PREMISES?(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,n.jsx)(hs,{})]}))}const Ln=(0,o.memo)(Tn),Zs=()=>!!Number(sessionStorage.getItem("inClowdz"));function Dn(t){let l="file_editarea-proto-v8-add",d="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return l=t?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",d=t?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:l,trackSource:d}}function Rn(t,l){l===void 0&&(l=!1);let d="file_editarea-proto-v8-invite",p="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return l?(d="file_editarea-proto-v8-input-inviteTA",p="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(d=t?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",p=t?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:d,trackSource:p}}function Vs(t){if(!t)return"";let l="";return t==="org_owner"?l="\u4F01\u4E1A\u6240\u6709\u8005":t==="org_manager"?l="\u8D85\u7EA7\u7BA1\u7406\u5458":t==="org_admin"||t!=null&&t.includes("manager")?l="\u7BA1\u7406\u5458":t!=null&&t.includes("member")?l="\u534F\u4F5C\u6210\u5458":t!=null&&t.includes("viewer")&&(l="\u5BA1\u9605\u6210\u5458"),l}const bs=(t,l,d)=>{try{const{source_id:p,source:v,step:y,option:b=null}=d;if(!l||!t||ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return;if((!b||(b==null?void 0:b.results)!==!1)&&p)try{(0,ds.Mn)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:t,org_cid:l,source:p,step:y}})}catch(j){console.log(j.message)}if(y===0)(0,D.U1)("invite_members_entrance",{source:v});else if(y===2&&b){const j=Vs(b==null?void 0:b.invitor_role),E=Vs(b==null?void 0:b.invitee_role);(0,D.U1)("invite_members_via_add",{source:v,join_space_num:1,has_department:!1,invitor_role:j,invitee_role:E,results:(b==null?void 0:b.results)||!0,error_type:(b==null?void 0:b.error_type)||""})}}catch(p){console.log(p.message)}},It=function(t,l,d,p,v){v===void 0&&(v=null);const{trackSourceId:y,trackSource:b}=Dn(d);bs(t,l,{source_id:y,source:b,step:p,option:v})},Ks=function(t,l,d,p){p===void 0&&(p=!1);const{trackSourceId:v,trackSource:y}=Rn(d,p),b={trackSourceId:v,trackSource:y},j="/workspace/"+l+"/member?openInviteByLinkModal=true&invite_track="+(0,vt.N)(b);if(bs(t,l,{source_id:v,source:y,step:0}),Zs()){location.pathname=j;return}(0,ct.MI)(j)},Hs=(t,l,d)=>{const[p]=(0,o.useState)(d),v=(0,o.useRef)(0);return(0,o.useEffect)(()=>{p&&v.current>=1||v.current>=2||(It(t,l,d,0),v.current+=1)},[!!d]),p||d},Fn=Z.ZP.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-5a6cx0-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],xe.Zy,xe.Zy,t=>t.theme.color_bg_line,t=>t.theme.color_text_L1),Bn=t=>{const{theme:l,keyword:d,source:p,caption:v,permissionScope:y,assignedMembers:b,unassignedMembers:j,outerMember:E,onPermissionChange:M,hostType:R,handleClose:L}=t,P=(0,_.v9)(He._H),U=(0,_.v9)(He.is),G=(0,_.v9)(He.rc),{settings:W,seats_taken:ie,total_seats:ge,cid:se}=P,pe=Hs(G,se,d);let z=!1;(W.invite_permission&&W.invite_permission[0]==="all"||U.isManager)&&(z=!0);const fe=()=>{const Re={mode:"org",orgCid:P.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if(R==="proto")MB.global.popupHelper.chargeAsync(Re),L&&L();else{const Ze="/workspace/"+P.cid+"?payment_param="+(0,vt.N)(Re);if(Zs()){location.pathname=Ze;return}(0,ct.MI)(Ze)}},Ce=(0,o.useMemo)(()=>j.filter(Re=>Re.name&&Re.name.includes(d)||Re.mobile&&Re.mobile.includes(d)||Re.email&&Re.email.includes(d)),[d,j]),Me=()=>{z&&Ks(G,se,pe)},ke=()=>{z&&Ks(G,se,pe,!0)},Oe=(Re,Ze)=>{M(Re,Ze),It(G,se,pe,1),E&&It(G,se,pe,2,{invitor_role:U==null?void 0:U.roleName,invitee_role:Ze}),It(G,se,pe,3)},Pe=!Ce||Ce.length<1,Te=E?[E]:[];return(0,n.jsxs)(Fn,{className:"overlay-adding-member sharing",children:[(0,n.jsxs)("div",{className:J()("overlay-content",!E&&Pe&&"no-members"),children:[!Pe&&(0,n.jsx)(Pt,{theme:l,caption:d?null:I18N.imockSharing.unjoined,expandable:!1,className:J()(d&&"invite"),permissionScope:y,memberList:Ce,isResetPermission:!0,onPermissionChange:Oe},"filtered-unassigned-members"),Pe&&(0,n.jsx)(Ln,{theme:l,caption:v,outerMembers:Te,canInvite:z,isSharing:!0,handleClickInviteMember:ke})]}),(0,n.jsxs)("footer",{className:"overlay-footer",children:[(0,n.jsxs)("span",{className:"seats",children:[I18N.imockSharing.members_account,I18N.imockSharing.common_colon,ie,"/",ge]}),!i.g.ENV.IS_ON_PREMISES&&(0,n.jsx)(wt.eG,{type:"primary",size:"tiny",corner:"soft",onClick:fe,children:I18N.imockSharing.add_team_seat})]})]})},Un=(0,o.memo)(Bn),xs=Z.ZP.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-dbcmx0-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.invite-item{display:flex;align-items:center;padding-right:8px;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;margin-right:20px;color:",";cursor:pointer;svg{width:32px;color:",";}&:hover{background:",";}&:active{background:",";}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_text_link_normal,t=>t.theme.color_text_link_hover,t=>t.theme.color_text_L1,xe.Zy,t=>t.theme.color_bg_line,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_text_L1,t=>t.theme.color_grid_line,t=>t.theme.color_grid_line,xe.Zy),zn=t=>{const{theme:l,from:d,caption:p,targetCid:v,permissionScope:y,captionTipType:b,isFolder:j=!1,isAllowSetCollaborators:E,isShowInheritedCollaborators:M=!1,handleBackSharingHandel:R,onChangeMembersAccess:L,handleClose:P,hostType:U}=t,[G,W]=(0,o.useState)(""),[ie,ge]=(0,o.useState)(null),[se,pe]=(0,o.useState)(!1),{currentMembers:z,inheritedMembers:fe,joinedMembers:Ce,unjoinedMembers:Me,assignedMembers:ke,unassignedMembers:Oe,userCurrentScopePermisson:Pe,isOnlyOneManager:Te}=At(y,v),Re=Ot(y,v,d),Ze=async(Qe,Vt)=>{await Re(Qe,Vt),L&&L(Qe,Vt)};let gt=z,xt=ke,at=Oe;const Ie=Pe.isMember,Ae=E&&Ie;E&&!M&&(gt=Ce,xt=Ce,at=Me);const $e=(0,o.useCallback)(()=>{pe(!1),W(""),ge(null)},[]),ft=(0,o.useCallback)(Qe=>{W(Qe),ge(null),Qe&&pe(!0)},[]),Vn=(0,o.useCallback)(async Qe=>{if(!i.g.ENV.IS_ON_PREMISES&&(W(Qe),Qe)){const Vt=at.find(pt=>pt.email===Qe.trim()||pt.mobile===Qe.trim()),Hn=xt.find(pt=>pt.email===Qe.trim()||pt.mobile===Qe.trim());if(Vt||Hn)return;const Gn=Sn.test(Qe.trim()),Wn=Cn.test(Qe.trim());let vs=null;if(Gn?vs=await Ls(Qe.trim()):Wn&&(vs=await Ls(null,Qe.trim())),vs){let pt=null;vs.user?(pt=vs.user,pt.name=I18N.imockSharing.to_be_invited,pt.cid="outer"):pt={avatar:"/images/avatar.png",cid:Qe,email:Qe,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},ge(pt)}}},[]),Kn=(0,o.useCallback)(()=>{if(W(""),ge(null),se){pe(!1);return}R()},[se,pe,R]);return(0,n.jsxs)(xs,{className:J()("ProjectCollaborators sharing",""+l,{isInviteOverlayOpen:!0}),children:[(0,n.jsxs)("div",{className:"nav-header",children:[(0,n.jsxs)("div",{className:"title-left",children:[(0,n.jsxs)("div",{className:"title-left-back",onClick:Kn,children:[(0,n.jsx)(_e.q,{name:"sharing/nav_back",size:32}),(0,n.jsx)("div",{className:"nav-title",children:se?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!se&&(0,n.jsx)(us,{tipType:b,position:"left"})]}),!se&&Ie&&(0,n.jsxs)("div",{className:"invite-item",onClick:()=>{pe(!0)},children:[(0,n.jsx)(_e.q,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]})]}),Ae&&(0,n.jsx)("div",{className:J()("search"),children:(0,n.jsx)(ys,{value:G,onChange:ft,onKeyPress:Vn})}),(0,n.jsx)("div",{className:J()("modal-content",Ae&&"modal-content-show-search"),children:se?(0,n.jsx)(Un,{theme:l,permissionScope:y,unassignedMembers:at,assignedMembers:xt,outerMember:ie,keyword:G,caption:p,onClose:$e,onPermissionChange:Ze,handleClose:P,hostType:U}):(0,n.jsxs)("div",{className:J()("collaborators",se&&"in-invite-overlay"),children:[E&&(0,n.jsx)(Pt,{theme:l,caption:I18N.imockSharing.project_collaborators,permissionScope:y,memberList:gt,isOnlyOneManager:Te,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:Ze},"current-collaborators"),M&&(0,n.jsx)(Pt,{theme:l,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:j,readOnly:!0,permissionScope:y,memberList:fe,onPermissionChange:Ze,className:"inherited-members"},"inherited-collaborators")]})}),(0,n.jsx)(En,{})]})},r=(0,o.memo)(zn);function e(t){const{theme:l,targetCid:d,isSharing:p,handleBackSharingHandel:v,onChangeMembersAccess:y,handleClose:b,hostType:j}=t,M=(0,_.v9)(He.b).get(d),R=Kt(M==null?void 0:M.team_cid);return!M||R<0?null:(0,n.jsx)(r,{theme:l,targetCid:d,caption:M.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:R>=1,captionTipType:we.q.Project,permissionScope:we.n.Project,isSharing:p,handleBackSharingHandel:v,onChangeMembersAccess:y,handleClose:b,hostType:j})}const s=(0,o.memo)(e);var a=i(77646);const x=t=>{const{user:l,initData:d,currentProject:p,members:v,dispatch:y}=t,b=p==null?void 0:p.cid;return(0,o.useEffect)(()=>{(async E=>{y({type:"entry:projectAccess:initProjectData",payload:{initData:d,members:v}})})(b)},[y,d,v,b,l]),l!=null&&l.id?(0,n.jsx)(s,{targetCid:b,isSharing:!0,...t}):null},K=(0,a.P1)([],()=>({})),le=(0,_.$j)(t=>K(t))(x);var he=i(57211),ue=i(30606);function be(t){const{getIframeContentHeight:l,handleChangeMembersAccess:d,handleClose:p}=t,v=(0,_.I0)(),y=(0,_.v9)(c.query.getProject),b=(0,_.v9)(c.query.getMembers),j=(0,_.v9)(c.query.getTheme),E=(0,_.v9)(c.query.getTopPageIndex),M=(0,_.v9)(c.query.getHostType),R=(0,_.v9)(c.query.getTabIndex),L=(0,_.v9)(c.query.getMainPage),P=(0,_.v9)(c.query.getLoading),U=(0,_.v9)(c.query.getInitData),G=(0,_.v9)(c.query.getUser),W=(0,_.v9)(c.query.getIsEditMode),[ie,ge]=(0,o.useState)(282);(0,o.useEffect)(()=>{let z=555;L!=="access"&&(R===0&&E==="edit"?z=212:(E==="embed"||E==="qrCode"||R===0&&E==="setting")&&(z=268)),ge(z),M!=="proto"&&l(z)},[M,R,E,L,l,W]);const se=(0,o.useCallback)(()=>{v({type:c.entryKey["sharing:init"],payload:{mainPage:"share"}})},[v]);(0,o.useEffect)(()=>{v({type:c.entryKey["sharing:projectAccess:init"]})},[L,v]);const pe=(0,o.useCallback)(async(z,fe)=>{d&&d(z,fe)},[d]);return P?(0,n.jsx)(ue.h,{className:J()("sharingBoxV2",""+j,"loading"),children:(0,n.jsx)(he.Z,{})}):(0,n.jsx)(ue.h,{className:J()("sharingBoxV2",""+j,M==="iframe"&&"in-iframe"),style:{height:ie+"px"},id:"v8-share-page",children:L==="share"?(0,n.jsx)(_n,{}):(0,n.jsx)(le,{theme:j,user:G,currentProject:y,members:b,initData:U,handleBackSharingHandel:se,onChangeMembersAccess:pe,hostType:M,handleClose:p})})}const ye=t=>{let{theme:l,org:d=null,user:p,project:v,flatKey:y,members:b=[],hostType:j="proto",screenMetaList:E,hostSharingData:M,handleClose:R}=t;const L=ae();let P=!0;j!=="iframe"&&(P=location.pathname.includes("/design/"));try{if(v&&j!=="iframe"){const ie=new URLSearchParams(location.search).get("view_mode")||"read_only",{cid:ge,name:se}=v;(0,D.U1)("share_project",{project_type:"\u539F\u578B V8",source:P?"\u7F16\u8F91\u533A":ie==="read_only"?"\u53EA\u8BFB\u6A21\u5F0F":"\u771F\u673A\u6F14\u793A",project_name:se,project_cid:ge})}}catch(W){console.error(W)}L.dispatch({type:c.entryKey["sharing:init"],payload:{project:v,theme:l,user:p,org:d,flatKey:y,hostType:j,members:b,screenMetaList:E,hostSharingData:M,isEditMode:P}});const U=(0,o.useCallback)(W=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:W}}),"*")},[]),G=(0,o.useCallback)((W,ie)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:W,value:ie}}),"*")},[]);return(0,o.useEffect)(()=>{if(j==="iframe"&&U(212),!v)return;const{cid:W}=v;(async()=>{if(!v)return;const{result:{result:ge},statusOk:se}=await(0,ne.o6)(W);se&&L.dispatch({type:c.entryKey["sharing:init"],payload:{canEditByUser:ge}})})()},[j,U,v,L]),(0,n.jsx)(_.zt,{store:L,children:(0,n.jsx)(Z.f6,{theme:de.Z[l],children:(0,n.jsx)(ve.Z,{children:(0,n.jsx)(be,{getIframeContentHeight:U,handleChangeMembersAccess:G,handleClose:R})})})})}},30606:(Se,te,i)=>{"use strict";i.d(te,{h:()=>f});var o=i(45090);const f=o.ZP.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-l3ttef-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],A=>A.theme.color_bg_white,A=>A.theme.color_text_L2)},20702:(Se,te,i)=>{"use strict";i.d(te,{F2:()=>w,FB:()=>g,ML:()=>m,SG:()=>O,UE:()=>k,VN:()=>D,VV:()=>I,dL:()=>oe,jH:()=>X,k0:()=>u,lI:()=>C,rD:()=>T,vS:()=>ce,wr:()=>Y,x2:()=>V,yN:()=>B,zE:()=>re});var o=i(51904),f=i(49373),A=i(53375),h=i.n(A),S=i(4091),ee=i(35517),F=i(49777);const I=N=>N?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],T=N=>{let{accessToken:c,targetKey:H,pageKey:Q,view_mode:ae,selection:_,page_begin:Z,canvas_begin:ve}=N;const de=(J,xe)=>xe?"&"+J+"="+xe:"";let q=""+location.origin+S.pX+"/"+c+"/sharing?view_mode="+(ae||"read_only");return ae==="read_only"?q=""+q+de("screen",Q)+de("canvasId",H)+de("selection",_):ae==="device"?q=""+q+de("screen",Z!=null?Z:Q)+de("canvasId",ve!=null?ve:H)+de("selection",_):q=""+q+de("screen",Q)+de("selection",_),q},re=N=>N&&N.length>0?N[0]:"",ce=(N,c,H,Q)=>{const ae=Q?"  \u5BC6\u7801\uFF1A"+Q:"";return N+" #"+(0,f.FQ)(c)+"-"+(0,f.FQ)(H||"\u5206\u4EAB")+ae},Y=N=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+S.pX+"/"+N,ne=N=>{const c=new RegExp(I18N.imockSharing.share+" \\d+","g");let H=0;return N.filter(Q=>{var ae;return(ae=Q.link_name)==null?void 0:ae.match(c)}).forEach(Q=>{const ae=Q.link_name,Z=ae.match(c)[0].length,ve=ae.indexOf(I18N.imockSharing.share);if(ve+Z===ae.length){const q=parseInt(ae.trim().slice(ve+I18N.imockSharing.share.length));q>H&&(H=q)}}),H},oe=N=>{const{project:c,action:H,linkName:Q,isFromScreenList:ae}=N;o.xd.trackShareProjectAction({project_type:"\u539F\u578B",source:ae?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,o.Wb)(),project_name:c.name,project_cid:c.cid,share_link_action:H,share_link_name:Q})},X=N=>{if(!N)return!1;const{created_at:c}=N;return h()(c).isBetween(h()().subtract(3,"days"),h()())},D=N=>Object.entries(N).filter(H=>{let[Q,ae]=H;return!ae.hotAttr.asFolder&&Q!==F.X3}).map(H=>H[0]),O=(N,c,H)=>{if(N)return H.length;let Q=0;return c==null||c.forEach(ae=>{H.find(Z=>Z===ae)&&(Q+=1)}),Q},w=(N,c)=>{if(c.screen_visible_switch){const{selectedSize:H,pageSize:Q}=m(N,c);return H+"/"+Q}else return I18N.imockSharing.all},m=(N,c)=>{const H=D(N.pageAttrMap),Q=O(!c.screen_visible_switch,c.screen_visible_list,H);return{pageSize:H.length,selectedSize:Q}},u=N=>{const c={},H=[],Q=new Map;for(const[Z,ve,de]of N)if(de.type==="rResBunch"){Z!==F.X3&&H.push(Z),c[Z]={hotAttr:de},Q.get(Z)||Q.set(Z,[]);const q=Q.get(ve);Array.isArray(q)&&Q.set(ve,[...q,Z])}const ae=Z=>{let ve=[];for(const q of Q.get(Z))ve.push(ae(q));ve=ve.sort((q,J)=>q.data.zIndex-J.data.zIndex);const{hotAttr:de}=c[Z];return{cid:Z,data:{cid:Z,...de},children:ve}},_=ae("B@main");return{pageAttrMap:c,pageKeyList:H,treeData:_}};function g(N,c,H){let Q=I18N.imockSharing.share;return c&&(Q=Q+(ENV.IS_WONDER_SHARE?" ":"")+(c.length+1)),{project_cid:N,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...H,link_name:Q,type:"advanced"}}const C=async N=>{let{updateType:c,org:H,updateFn:Q}=N;const ae=()=>{const Z=(H==null?void 0:H.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:Z}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:Z}}),"*")},_=()=>{if(c==="update")try{MB.notice({text:I18N.imockSharing.setting_valid})}catch(Z){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}}),"*")}};try{await Q()&&_()}catch(Z){await(0,ee.hW)(Z,ae)}},V=N=>{let{value:c,currentSharing:H,sharingList:Q}=N,ae=!1;for(const _ of Q)if(_.cid!==H.cid&&c===_.link_name){ae=!0;break}return ae},k=(N,c)=>{let H;if(c.type==="default"){const ae=new URLSearchParams(location.search),_=ae.get("view_mode")||"read_only",Z=ae.get("selection"),ve=ae.get("screen"),de=ae.get("canvasId");H=T({accessToken:c.access_token,view_mode:_,page_begin:ve,canvas_begin:de,selection:Z})}else H=T({accessToken:c.access_token,view_mode:c.device_model});return ce(H,N==null?void 0:N.name,c.link_name||"",c.password)},B=(N,c)=>{var H,Q;return(c==null||(H=c.limitation)==null?void 0:H.max_project_share_count)||(N==null||(Q=N.limitation)==null?void 0:Q.max_project_share_count)}},35517:(Se,te,i)=>{"use strict";i.d(te,{KT:()=>S,Vz:()=>A,av:()=>h,hW:()=>ee,v5:()=>F});var o=i(6966),f=i(94223);const A=async(I,T)=>{if(I.status===403||/403/.test(I.message)){var re;(re=MB)==null||(re=re.messageBucket)==null||re.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>T?T():MB.global.onBackButtonClick())}else if(I.status===401||/401/.test(I.message))F(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>T?T():h());else{var ce;const Y=String(I.status||I.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);(ce=MB)==null||(ce=ce.messageBucket)==null||ce.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,Y)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,Y),isHTML:!0})}},h=async()=>{try{await(0,o.EE)("/api/web/v3/initial"),location.reload()}catch(I){const T=location.origin+"/signin?next="+location.pathname;(0,f.l)(T)}},S=I=>{I.status===404&&I.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},ee=async(I,T)=>{I.status===403||/403/.test(I.message)?T():(I.status===401||/401/.test(I.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>h())},F=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")}},98388:(Se,te,i)=>{"use strict";i.d(te,{Fy:()=>Y,PX:()=>X,z:()=>ne});var o=i(53375),f=i.n(o),A=i(43827),h=i.n(A),S=i(57480),ee=i.n(S);if(i.j!=485)var F=i(29184);function I(D){return D<10?"0"+D:D}function T(D,O,w){const m=new Date(D),u=m.getFullYear(),g=I(m.getMonth()+1),C=I(m.getDate()),V=I(m.getHours()),k=I(m.getMinutes());return O==="time"?V+":"+k:O==="datetime"?""+g+w+C+" "+V+":"+k:""+u+w+g+w+C+" "+V+":"+k}const re=i.j!=485?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function ce(D,O){const w=new Date(D),m=w.getFullYear(),u=re[w.getMonth()],g=I(w.getDate()),C=I(w.getHours()),V=I(w.getMinutes());return O==="time"?C+":"+V:O==="datetime"?u+" "+g+" "+C+":"+V:u+" "+g+", "+m+" "+C+":"+V}function Y(D,O,w){if(O===void 0&&(O="datetime"),w===void 0&&(w="."),!D)return"";let m=D;typeof D!="number"&&(m=parseInt(D,10)),m.length===10&&(m=m*1e3);let u="";const g=(0,F.F)();return g==="zh-CN"?u=T(m,O,w):(g==="en-US"||g==="en")&&(u=ce(m,O,w)),u}function ne(D){const w=oe()-D;let m="";if(w<=3*1e3)m=I18N.Common.just_now||"\u521A\u521A";else if(w>3*1e3&&w<60*1e3)m=Math.floor(w/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(w>=60*1e3&&w<60*60*1e3)m=Math.floor(w/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{m=Y(D,"full");const u=new Date(new Date().setHours(0,0,0,0)).getTime(),g=new Date(new Date().getFullYear(),0,1).getTime();D>g&&(m=Y(D,"datetime")),D>u&&(m=Y(D,"time"))}return m}function oe(){return new Date().getTime()}const X=D=>{f().locale(D==="zh-CN"?"zh-cn":D),f().extend(h()),f().extend(ee())}},11230:(Se,te,i)=>{"use strict";i.d(te,{p:()=>o,t:()=>f});const o=function(A){let{flags:h}=A===void 0?MB.user:A;return!!(h&1<<21)},f=A=>{let{user:h,org:S}=A;const ee=(S==null?void 0:S.otype)==="personal"?null:S;return{currentUser:h,currentOrg:ee}}},12298:(Se,te,i)=>{"use strict";i.d(te,{N:()=>o});const o=A=>encodeURIComponent(JSON.stringify(A)),f=A=>JSON.parse(decodeURIComponent(A))},94223:(Se,te,i)=>{"use strict";i.d(te,{W:()=>A,l:()=>h});var o=i(95023);const f="jsid",A=()=>{try{const ee=new URLSearchParams(location.search).get(f);ee?window.localStorage.setItem(f,ee):window.localStorage.removeItem(f)}catch(S){window.localStorage.removeItem(f)}},h=S=>{const ee=(0,o.KN)(S);location.href=ee}},86381:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>ne});var o=i(49650),f=i(7485),A=i(7627),h=i.n(A),S=i(18890),ee=i.n(S),F=i(24397),I=i(34595),T=i.n(I),re=i(45090);const ce=re.ZP.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-mbtxfd-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}"],oe=>oe.theme.color_text_L2,oe=>oe.theme.color_text_disabled01,oe=>oe.theme.color_bg_white,oe=>oe.theme.color_text_L2,oe=>oe.theme.color_proto,oe=>oe.theme.color_proto,oe=>oe.theme.color_grid_line,oe=>oe.theme.color_grid_line,oe=>oe.theme.color_text_disabled01);var Y=i(35269);class ne extends f.PureComponent{constructor(){super(...arguments),(0,o.Z)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,o.Z)(this,"onToggle",X=>{const{name:D,value:O,label:w,onChange:m,onToggle:u,isDisabled:g,readOnly:C,attr:V}=this.props,{isChecked:k}=this.state,B=!g&&!C,N=B?k==="mixed"?!0:!k:k;this.setState({isChecked:N}),u(N,D,O||w,X),m(N,V,X)})}static getDerivedStateFromProps(X,D){let{prevProps:O}=D;return ee()(O,X)?null:{prevProps:X,isChecked:X.isChecked}}render(){const{className:X,label:D,name:O,isDisabled:w,readOnly:m}=this.props,{isChecked:u}=this.state,g=T()(X,{"is-checked":!!u,"is-disabled":w,readonly:m});return(0,Y.jsxs)(ce,{className:g,children:[(0,Y.jsx)("input",{type:"checkbox",defaultChecked:!!u,disabled:w,name:O,onChange:this.onToggle}),(0,Y.jsx)("span",{className:"Check-state",children:(0,Y.jsx)(F.q,{name:u==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),(0,Y.jsx)("span",{className:"Check-label",children:D})]})}}(0,o.Z)(ne,"propTypes",{isChecked:h().bool||"mixed",isDisabled:h().bool,readOnly:h().bool,onChange:h().func.isRequired,onToggle:h().func.isRequired,label:h().any,name:h().string,attr:h().string,value:h().any,className:h().string}),(0,o.Z)(ne,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},46007:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>I});var o=i(49650),f=i(7485),A=i(82957),h=i(7627),S=i.n(h),ee=i(35269);class F extends f.PureComponent{constructor(re){super(re),(0,o.Z)(this,"freshCanvas",()=>{const ce=this.canvasWrapperRef.current,{height:Y,width:ne,text:oe,foreground:X,background:D}=this.props,O=(0,A.s)({height:Y,width:ne,text:oe,foreground:X,background:D});ce.hasChildNodes()?ce.replaceChild(O,ce.firstChild):ce.appendChild(O)}),this.canvasWrapperRef=(0,f.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:re}=this.props;return(0,ee.jsx)("div",{className:re,ref:this.canvasWrapperRef})}}F.propTypes={width:S().number,height:S().number,text:S().string.isRequired,foreground:S().string,background:S().string,className:S().string},F.defaultProps={width:150,height:150};const I=F},66503:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>h});var o=i(29402),f=i(45090);const h=(0,f.ZP)(o.L4).withConfig({displayName:"ThemeLoading",componentId:"sc-lkl0kj-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],S=>S.theme.color_grid_line,S=>S.theme.color_text_disabled01)},57211:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>F});var o=i(7485),f=i(66503),A=i(45090);const h=A.ZP.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-5dzh9i-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var S=i(35269);const F=(0,o.memo)(()=>(0,S.jsx)(h,{className:"sharing-loading",children:(0,S.jsx)(f.Z,{className:"loading"})}))},39110:()=>{"use strict";const Se={},te={},i={}},30258:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>oe});var o=i(2586),f=i(22795);const A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",S=Object.entries(f.c).reduce((X,D)=>{const O=D[0];return{...X,[O]:[f.c[O].value_light,f.c[O].value_dark||f.c[O].value_light]}},{}),ee=Object.entries(o.Fq).reduce((X,D)=>{var O;const w=D[0];return{...X,[w]:[o.Fq[w].value,((O=o.YP[w])==null?void 0:O.value)||o.Fq[w].value]}},{}),F=X=>{let D;const[O,w,m]=X,u=m!=null?m:O;return w==="light"?D=o.Fq[u].value:D=o.YP[u].value,{[O]:[D,D]}},T=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((D,O)=>{const w=F(O);return{...D,...w}},{}),Y={...ee,...T,...{loading_styles_bg:["linear-gradient(130deg, #f2f2f2 25%, #e6e6e6 37%, #f2f2f2 63%)","linear-gradient(118.3deg, #474848 1.71%, #363738 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],bg_base64:[A,h],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...S},ne=(X,D)=>{const O={};return Object.entries(X).forEach(w=>{let[m,u]=w;Array.isArray(u)?O[m]=u[D]:typeof u=="object"?O[m]=ne(u,D):O[m]=u}),O},oe={light:ne(Y,0),dark:ne(Y,1)}},35262:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>V});var o=i(7627),f=i.n(o),A=i(7485),h=i(45090),S=i(22795);const ee=h.ZP.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-umsjem-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{margin-left:20px;color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],S.c.color_text_btn.value_light,S.c.color_btn_primary_normal.value_light,S.c.color_btn_primary_hover.value_light,S.c.color_btn_primary_clicked.value_light,S.c.color_text_L1.value_light,S.c.color_bg_white.value_light,S.c.color_bg_line.value_light,S.c.color_btn_secondary_hover.value_light,S.c.color_bg_line.value_light,S.c.color_btn_secondary_active.value_light,S.c.color_bg_line.value_light);var F=i(35269);const I="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",T="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3Cpath fill='url(%23a)' d='M403.5 158.5c54.4-5.2 59.3 54.2 55 84.5h-308c-22.8-46 17.7-69.2 44-73.5-49.3-15.5-19.5-88 28.5-116 122.3-71.3 112.5 111.5 180.5 105Z' opacity='.6'/%3E%3Crect width='38' height='98' x='235' y='144' stroke='%231F292E' stroke-width='2' rx='3'/%3E%3Crect width='38' height='128' x='197' y='114' stroke='%231F292E' stroke-width='2' rx='3'/%3E%3Crect width='21' height='114' x='347' y='128' stroke='%231F292E' stroke-width='2' rx='3'/%3E%3Crect width='29' height='98' x='368' y='144' stroke='%231F292E' stroke-width='2' rx='3'/%3E%3Crect width='19' height='114' x='273' y='128' stroke='%231F292E' stroke-width='2' rx='3'/%3E%3Crect width='22.3' height='116' x='293' y='130.2' stroke='%231F292E' stroke-dasharray='1 8' stroke-linecap='round' stroke-width='2' rx='4' transform='rotate(-16 293 130.2)'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%231F292E' d='M348 200h19v17h-19z'/%3E%3Cpath fill='%231684FC' d='M369 168h29v19h-29z'/%3E%3Cpath fill='%231F292E' d='M348 221h19v4h-19zm-112-62h36v13h-36z'/%3E%3Cpath fill='%23fff' d='M262.5 183c8-.8 14 8.3 16 13l-50 21-24.5-14 2-4.5 4.5-8 9-3.5 9 .5 6.5-4.5 6-1.5 6 1.5 4 4c.5-1 3.5-3.2 11.5-4Z'/%3E%3Cpath fill='%23fff' d='m209.5 204 68-7-2.5 57-58-2-7.5-48Z'/%3E%3Cpath fill='%231F292E' d='M277.5 197h1v-1l-1.1.1.1 1Zm-68 7-.1-1-1 .1.1 1 1-.1Zm7.5 48-1 .2.1.8h.9v-1Zm58 2v1a1 1 0 0 0 1-1h-1Zm2.4-58-68 7 .2 2 68-7-.2-2Zm-68.9 8.2 7.5 48 2-.4-7.5-48-2 .4ZM217 253l58 2v-2l-58-2v2Zm59 1 2.5-57h-2l-2.5 57h2Z'/%3E%3Cpath fill='%23fff' d='M261.5 182.5c8-.8 14 8.3 16 13L248 206l-6.5-3v-8.5l8.5-8c.5-1 3.5-3.2 11.5-4Z'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M278 196c-2-7-11.2-19.7-28.5-8.5-17 11-7.5 25.5 9.5 14m-8-15c-3.8-3.6-12-10.6-24 3-7 8 0 17.5 14 9m-12.5-11c-6-2.2-19.6-1.5-24 14.5'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='m155.5 206 59-4.5L216 259l-63.5-3.5 3-49.5Z'/%3E%3Cpath fill='%23fff' d='M171 197c5.6-.8 10.3 4.7 12 7.5L164.5 226l5 30.5L109 275c.3-20.1 4.2-63.4 17-75 12.8-11.6 16.3-3.8 16.5 1.5 8.4-11.6 18.2-5.8 22-1.5-.2-.6.9-2.2 6.5-3Z'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M154.5 211.5a28.4 28.4 0 0 1 9.9-12.5m0 0c7.5-4.5 14.6.5 18.1 5-6 2.2-18.1 9.8-18.1 23 0 16.5 11.1 24.5-1.9 46v18m1.9-92c-5.3-5.8-18.2-11.5-27.4 12.5m8-14.5c-4.7-5.3-16.5-9.5-26.5 16.5'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M129 196c-4.8-6.2-16-10.2-31.5 18-5.2 9.5-6 26-1 33'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M100 210c-1.2-6.8-5.6-18.1-14-8.5-10.5 12-20 31.5 6.5 63l-2 31m178-41.5 7.5 39m-65-35 6.5 37.5'/%3E%3Ccircle cx='276' cy='225' r='29' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='216' cy='230' r='29' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='276' cy='225' r='22' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='216' cy='230' r='22' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M317 101.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7a42.5 42.5 0 0 1 0 .5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1.1 1.1 0 0 1-.6.6 1.4 1.4 0 0 1-.5 0 12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='m218 223.5-7 9.5m68-15-7 9.5m-52 2.5-7 9.5m68-15-7 9.5'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='177.5' x2='344.5' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",re="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",ce="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",Y="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function ne(k){const{className:B,source:N,rotate:c,width:H,height:Q,onClick:ae}=k,_={msTransform:"rotate("+c+"deg)",transform:"rotate("+c+"deg)",width:H,height:Q};return(0,F.jsx)("img",{className:B,src:N,style:_,onClick:ae})}ne.propTypes={className:f().string,source:f().string.isRequired,width:f().number,height:f().number,rotate:f().number,onClick:f().func};const oe=ne,X=403,D=404,O=[500,501,502,503,504,505],w="link_expired";var m=i(46620);function u(k,B,N){return B=g(B),B in k?Object.defineProperty(k,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):k[B]=N,k}function g(k){var B=C(k,"string");return typeof B=="symbol"?B:String(B)}function C(k,B){if(typeof k!="object"||!k)return k;var N=k[Symbol.toPrimitive];if(N!==void 0){var c=N.call(k,B||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(k)}class V extends A.PureComponent{constructor(){super(...arguments),u(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,F.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("p",{className:"proposal",children:["Current account ",(0,F.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,F.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("p",{className:"proposal",children:["Current account ",(0,F.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u9879\u76EE\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,F.jsxs)("div",{className:"proposal text-left",children:[(0,F.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,F.jsxs)("ul",{className:"text-list",children:[(0,F.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,F.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,F.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,F.jsxs)("div",{className:"proposal text-left",children:[(0,F.jsx)("p",{children:"Please try the following methods:"}),(0,F.jsxs)("ul",{className:"text-list",children:[(0,F.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,F.jsx)("li",{children:"If not, please switch to another network."})]}),(0,F.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),u(this,"clickGoHome",()=>{let B="",{locale:N}=this.props;N==="zh-CN"?B="/":N==="jp"?B="https://mockitt.wondershare.jp":B="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(B):location.replace(B)}),u(this,"clickReloadPage",()=>{window.location.reload()}),u(this,"clickContactUs",()=>{let B="",{locale:N}=this.props;if(N==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else N==="jp"?B="https://support.wondershare.jp":B="https://support.wondershare.com/product/mockitt.html";window.open(B)}),u(this,"getErrorConfig",()=>{const{errorType:B,primaryBtnText:N,primaryBtnClick:c,secondaryBtnText:H,secondaryBtnClick:Q,locale:ae}=this.props,{typeText:_,clickGoHome:Z,clickContactUs:ve,clickReloadPage:de}=this;let q,J,xe="",Ee=null,Ne;const we={text:_.goHome[ae],click:Z},_e={text:_.reloadPage[ae],click:de},Le={text:_.contactUs[ae],click:ve};switch(!0){case B===X:q=we.text,J=we.click,Ne=I;break;case B===D:q=we.text,J=we.click,Ne=T;break;case B===w:q=we.text,J=we.click,Ne=T;break;case O.includes(B):q=_e.text,J=_e.click,xe=Le.text,Ee=Le.click,Ne=re;break;default:q=_e.text,J=_e.click,xe=Le.text,Ee=Le.click,Ne=ae==="en"?Y:ce;break}return N&&(q=N),c&&(J=c),H&&(xe=H),Q&&(Ee=Q),{svgBg:Ne,primaryText:q,primaryClick:J,secondaryText:xe,secondaryClick:Ee}}),u(this,"getErrorInfo",()=>{const{errorType:B,identity:N,locale:c,customTitle:H,customDes:Q,account:ae}=this.props,{typeText:_}=this;let Z,ve;if(H)Z=H;else{const de=O.includes(B)?"title_5XX":"title_"+B;Z=_[de]?_[de][c]:_.title_0[c]}if(Q)ve=Q;else{let de="des_"+B;B===X?de=ae?"des_"+B+"_"+N:"des_"+B+"_2":O.includes(B)?de="des_5xx":B===w&&(de="des_link_expired"),ve=_[de]?_[de][c]:_.des_link_expired[c]}return{title:Z,desc:ve}}),u(this,"handleClickLogo",()=>{let{isLogoClickable:B,logoUrl:N}=this.props;B&&(window.top!==window.self?window.top.location.href=N:window.location.href=N)})}render(){const{locale:B,isShowPrimaryBtn:N,isShowSecondaryBtn:c,isLogoClickable:H}=this.props,{typeText:Q}=this,{svgBg:ae,primaryText:_,primaryClick:Z,secondaryText:ve,secondaryClick:de}=this.getErrorConfig(),{title:q,desc:J}=this.getErrorInfo();return(0,F.jsxs)(ee,{children:[(0,F.jsx)("div",{className:"logo",children:(0,F.jsx)("span",{className:H?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,F.jsx)(oe,{source:ae})})}),(0,F.jsxs)("div",{className:"content",children:[(0,F.jsx)("p",{className:"title",children:q}),typeof J=="string"?(0,F.jsx)("p",{className:"proposal",children:J}):J]}),(0,F.jsxs)("div",{className:"btn-list",children:[c&&de&&ve&&(0,F.jsx)("a",{className:"btn regular",onClick:de,children:ve}),N&&Z&&_&&(0,F.jsx)("a",{className:"btn primary",onClick:Z,children:_}),ve===Q.contactUs[B]&&(0,F.jsx)(m.Z,{})]})]})}}u(V,"propTypes",{locale:f().oneOf(["zh-CN","en","jp"]),identity:f().oneOf([0,1]),customTitle:f().string,customDes:f().string,isShowPrimaryBtn:f().bool,primaryBtnText:f().string,primaryBtnClick:f().func,isShowSecondaryBtn:f().bool,secondaryBtnText:f().string,secondaryBtnClick:f().func,errorType:f().oneOf([0,403,404,500,501,502,503,504,505,w]).isRequired,account:f().string,isLogoClickable:f().bool,logoUrl:f().string}),u(V,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/"})},46620:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>S});var o=i(7485),f=i(7627),A=i.n(f),h=i(35269);S.propTypes={className:A().string,children:A().oneOfType([A().array,A().string]),isWonderShare:A().bool,id:A().string,onClick:A().func,disabled:A().bool,canClick:A().bool};function S(ee){let{className:F,children:I,isWonderShare:T=!1,id:re="mdOnlineSupport",onClick:ce,disabled:Y,canClick:ne}=ee;const oe="qd300907440129217b43492df1157945f52a80582eaf",X=T?"https://support.wondershare.com/":"";(0,o.useEffect)(()=>Y?void 0:(!document.getElementById(oe)&&!T&&D(),()=>{const m=document.getElementById(oe);m&&m.remove()}),[]);const D=()=>{i.g?(i.g.wpaShowItemId=window.wpaShowItemId="123",i.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let w=document.createElement("script");w.id=oe,w.src="https://wp.qiye.qq.com/qidian/3009074401/29217b43492df1157945f52a80582eaf",w.charset="utf-8",w.async=!0,w.defer=!0,document.body.appendChild(w)},O=w=>{if(Y){ne&&ce&&ce();return}if(ce&&ce(),T){window.open(X);return}if(re!=="mdOnlineSupport"){w.preventDefault();const m=document.getElementById("mdOnlineSupport");m&&m.click()}};return(0,h.jsx)("div",{style:{cursor:"pointer"},id:re,className:F,onClick:O,children:I})}},27149:(Se,te,i)=>{"use strict";i.d(te,{Z:()=>k,o:()=>Y});var o=i(98059),f=i.n(o),A=i(18890),h=i.n(A),S=i(7485),ee=i(46198),F=i(7627),I=i.n(F),T=i(80055),re=i(44476);const ce=9;function Y(N){let{$opener:c,$menuBase:H,menuX:Q="left",menuY:ae="bottom",menuBaseStyle:_={},inflexible:Z=!1,shouldSetMaxHeight:ve=!1}=N;if(!c||!H)return{};const de=H.querySelector("*"),q={styleFor$menuBase:{},styleFor$menu:{}},J=ct=>Object.assign(q.styleFor$menuBase,ct),xe=ct=>Object.assign(q.styleFor$menu,ct),{offsetHeight:Ee}=de,Ne=_.width||c.offsetWidth,we=_.height||c.offsetHeight,_e=c.getBoundingClientRect(),{top:Le,bottom:Je,left:st}=Object.assign({top:_e.top,right:_e.right,bottom:_e.bottom,left:_e.left},_);J({top:Le+"px",left:st+"px",width:Ne+"px",height:we+"px"});const{innerHeight:Xe}=window,et=10,ot=Xe-10,nt=ae==="top"?1/3:2/3,ut=Xe*nt,Ke=Le+we/2,He=Le+we;return(Z&&ae==="bottom"||!Z&&ut>=Ke)&&He+Ee+ce<Xe?(q.isDownward=!0,ve&&Je+Ee>ot&&xe({maxHeight:ot-Je+"px"})):(q.isDownward=!1,ve&&Le-Ee<et&&xe({maxHeight:Le-et+"px"})),Object.assign(H.style,q.styleFor$menuBase),Object.assign(de.style,q.styleFor$menu),q}var ne=i(45090);const oe=ne.ZP.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-1bf3wez-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),X=ne.ZP.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-1bf3wez-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),D=ne.ZP.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-1bf3wez-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var O=i(35269);function w(N,c,H){return c=m(c),c in N?Object.defineProperty(N,c,{value:H,enumerable:!0,configurable:!0,writable:!0}):N[c]=H,N}function m(N){var c=u(N,"string");return typeof c=="symbol"?c:String(c)}function u(N,c){if(typeof N!="object"||!N)return N;var H=N[Symbol.toPrimitive];if(H!==void 0){var Q=H.call(N,c||"default");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(N)}const g="IBOT_DROPDOWN_MENU_ROOT",C=document.getElementById(g)||Object.assign(document.createElement("div"),{id:g}),V=document.body;V.contains(C)||V.appendChild(C);class k extends S.PureComponent{constructor(){super(...arguments),w(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),w(this,"leaveTimeoutList",[]),w(this,"toggle",c=>this.setState({isOpen:f()(c)?c:!this.state.isOpen})),w(this,"open",()=>this.toggle(!0)),w(this,"close",()=>this.toggle(!1)),w(this,"onMouseEnter",()=>{const{shouldOpenOnHover:c}=this.props;c&&(clearTimeout(this.closeTimeout),Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),w(this,"onMouseLeave",()=>{const{shouldOpenOnHover:c}=this.props;c&&clearTimeout(this.hoverTimeout)}),w(this,"onMouseMove",c=>{let{clientX:H,clientY:Q}=c;const{shouldOpenOnHover:ae,hoverDelay:_,hoverCloseDelay:Z}=this.props,{$opener:ve}=this.state;if(!ae)return;clearTimeout(this.hoverTimeout);const de=document.elementFromPoint(H,Q),q=!ve.contains(de),J=!de.closest(".DropdownMenu");J?q&&J&&this.leaveTimeoutList.push(setTimeout(this.close,Z!==void 0?Z:Math.max(_,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),w(this,"set$opener",c=>this.setState({$opener:c})),w(this,"onSelect",c=>{let{currentTarget:H}=c;const{menuList:Q,onSelect:ae,shouldCloseOnSelect:_}=this.props;if(typeof ae!="function")return;const Z=H.dataset.idx,ve=Q[Z],de=typeof ve=="string"?ve:ve&&ve.value;ae(Z,de),this.setState({currentMenuListItemIdx:Z}),_&&this.close()})}static getDerivedStateFromProps(c,H){let{prevProps:Q,isOpen:ae}=H;return h()(c,Q)?null:f()(c.isOpen)?{prevProps:c,isOpen:c.isOpen}:{prevProps:c}}componentDidUpdate(c,H){let{isOpen:Q}=H;const{onOpen:ae,onClose:_,onToggle:Z}=this.props,{isOpen:ve}=this.state;Q!==ve&&(ve?(ae(),Z(!0)):(_(),Z(!1)))}render(){const{className:c,opener:H,openerType:Q,openerClassName:ae,shouldCloseOnClickOutside:_}=this.props,{isOpen:Z,$opener:ve,currentMenuListItemIdx:de}=this.state,q=this.props.isDisabled||this.props.disabled,J=(0,re.A1)(["Dropdown",Z&&"is-open",q&&"is-disabled",c]),xe={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,disabled:q,className:ae};return(0,O.jsxs)(oe,{ref:this.set$opener,className:J,children:[Q!=="button"&&(0,S.isValidElement)(H)?(0,S.cloneElement)(H,xe):(0,O.jsx)("button",{type:"button",...xe,children:H}),(0,O.jsx)(B,{...this.props,isOpen:Z,$opener:ve,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:_,currentMenuListItemIdx:de}),Z&&(0,O.jsx)(T.Z,{target:document,onMouseMove:this.onMouseMove})]})}}w(k,"positionMenu",Y),w(k,"propTypes",{isOpen:I().bool,mode:I().oneOf(["light","dark"]),opener:I().node,openerType:I().oneOf(["button","custom"]),className:I().string,portalClassName:I().string,menuBaseClassName:I().string,openerClassName:I().string,menuClassName:I().string,menuBaseStyle:I().shape({top:I().number,right:I().number,bottom:I().number,width:I().number,height:I().number}),menu:I().node,menuList:I().arrayOf(I().oneOfType([I().node,I().shape({label:I().node,value:I().any,isDisabled:I().bool})])),currentMenuListItemIdx:I().oneOfType([I().number,I().string]),shouldPreventScrollingPropagation:I().bool,shouldOpenOnHover:I().bool,shouldCloseOnClickOutside:I().bool,hoverDelay:I().oneOfType([I().number,I().string]),hoverCloseDelay:I().oneOfType([I().number,I().string]),arrowed:I().bool,inflexible:I().bool,menuX:I().oneOf(["left","center","right"]),menuY:I().oneOf(["top","bottom"]),menuBasedX:I().bool,isDisabled:I().bool,disabled:I().bool,onSelect:I().func,shouldCloseOnSelect:I().bool,onOpen:I().func.isRequired,onClose:I().func.isRequired,onToggle:I().func.isRequired}),w(k,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class B extends S.PureComponent{constructor(){super(...arguments),w(this,"state",{isDownward:this.props.position==="bottom"}),w(this,"portal",(0,re.Qt)(C,(0,re.A1)(["DropdownMenuPortal",this.props.portalClassName]))),w(this,"menuBaseRef",(0,S.createRef)()),w(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),w(this,"onClickOutside",c=>{let{target:H}=c;const{$opener:Q,onClose:ae,shouldCloseOnClickOutside:_}=this.props;if(!_)return;const Z=!C.contains(H),ve=H.closest("label"),de=ve&&ve.contains(Q),q=!!(0,re.$)(".SelectMenu.is-open");Z&&!de&&!q&&ae()}),w(this,"position",()=>{const{$opener:c,menuX:H,menuY:Q,menuBaseStyle:ae,inflexible:_}=this.props,{menuBaseRef:{current:Z}}=this,{isDownward:ve}=Y({$menuBase:Z,$opener:c,menuX:H,menuY:Q,menuBaseStyle:ae,inflexible:_});this.setState({isDownward:ve})})}componentDidMount(){const{isOpen:c,shouldPreventScrollingPropagation:H}=this.props,{menuBaseRef:{current:Q}}=this;c&&setTimeout(this.position),H&&(0,re.$h)((0,re.$)(".content",Q)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(c){let{isOpen:H}=c;const{isOpen:Q}=this.props;!H&&Q&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:c,menu:H}=this;return(0,ee.createPortal)(H,c)}get menu(){const{isOpen:c,mode:H,menuBaseClassName:Q,menuClassName:ae,menu:_,menuList:Z,arrowed:ve,menuX:de,menuBasedX:q,currentMenuListItemIdx:J,onSelect:xe}=this.props,{isDownward:Ee}=this.state,Ne=(0,re.A1)(["DropdownMenu",H,c&&"is-open",Ee?"is-downward":"is-upward","x-"+de,ve&&"arrowed "+(q?"x-menu-based":"x-arrow-based"),ae]);return(0,O.jsx)(D,{ref:this.menuBaseRef,className:(0,re.A1)(["DropdownMenuBase",Q]),children:(0,O.jsxs)(X,{className:Ne,children:[ve&&(0,O.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:re.Wj.b_}}),(0,O.jsx)("div",{className:"content",children:Z?(0,O.jsx)("ul",{className:"MenuList",children:Z.map((we,_e)=>(0,O.jsx)("li",{role:"option","data-idx":_e,className:(0,re.A1)([we.isDisabled&&"is-disabled",_e===Number(J)&&"is-active"]),onClick:we.isDisabled?void 0:xe,children:we.label||we},_e))}):_}),c&&(0,O.jsx)(T.Z,{target:document,onClick:(0,T.Y)(this.onClickOutside,{capture:!0})}),c&&(0,O.jsx)(T.Z,{target:document,onScroll:(0,T.Y)(this.position,{capture:!0})})]})})}}w(B,"propTypes",{...k.propTypes,isOpen:I().bool,$opener:I().instanceOf(Element),onSelect:I().func,onClose:I().func})},64792:(Se,te,i)=>{"use strict";i.d(te,{SA:()=>_,ZP:()=>ae});var o=i(7485),f=i(46198),A=i(7627),h=i.n(A),S=i(80055),ee=i(49182),F=i.n(ee),I=i(62360),T=i.n(I),re=i(18890),ce=i.n(re),Y=i(74741),ne=i.n(Y),oe=i(47658),X=i(68102),D=i(44476),O=i(27149),w=i(45090);const m=w.ZP.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-5ate3i-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),u=w.ZP.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-5ate3i-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),g=w.ZP.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-5ate3i-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var C=i(35269);function V(de,q,J){return q=k(q),q in de?Object.defineProperty(de,q,{value:J,enumerable:!0,configurable:!0,writable:!0}):de[q]=J,de}function k(de){var q=B(de,"string");return typeof q=="symbol"?q:String(q)}function B(de,q){if(typeof de!="object"||!de)return de;var J=de[Symbol.toPrimitive];if(J!==void 0){var xe=J.call(de,q||"default");if(typeof xe!="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(de)}const N="IBOT_SELECT_MENU_ROOT",c={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},H=document.getElementById(N)||Object.assign(document.createElement("div"),{id:N}),Q=document.body;Q.contains(H)||Q.appendChild(H);class ae extends o.PureComponent{constructor(){super(...arguments),V(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),V(this,"set$select",q=>this.setState({$select:q})),V(this,"open",()=>this.setState({isOpen:!0})),V(this,"close",()=>this.setState({isOpen:!1})),V(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),V(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),V(this,"onChange",q=>this.setState({value:q},()=>{this.close(),this.props.onChange(q)})),V(this,"onSelect",q=>{let{currentTarget:J}=q;const{value:xe}=this.props,{canSelect:Ee}=this;return this.onChange(Ee?J.dataset.value:xe)})}static getDerivedStateFromProps(q,J){let{prevProps:xe,value:Ee}=J;return ce()(xe,q)?null:{prevProps:q,value:q.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:q,disabled:J}=this.props;return q||J}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:q,readOnly:J}=this;return!q&&!J}get displayText(){const{optionList:q,placeholder:J,optionLabelProp:xe}=this.props,{value:Ee}=this.state,we=(q.find(_e=>T()(_e)&&_e.slice(0).some(Le=>(0,D.Lc)(Le,Ee)))||q).find(_e=>!T()(_e)&&(0,D.Lc)(_e,Ee));return we?(0,D.Jn)(we,xe):J||c[this.props.lang].select_placeholder}render(){const{size:q,theme:J,unstyled:xe,className:Ee,menuX:Ne}=this.props,{isOpen:we,$select:_e,value:Le}=this.state,{isDisabled:Je,readOnly:st,canSelect:Xe}=this,et=(0,D.A1)([J==="core"?"CoreSelect":"Select",q,xe&&"unstyled",Ee,we&&"is-open",Je&&"is-disabled",st&&"readonly"]);return(0,C.jsxs)(m,{className:et,role:"listbox",ref:this.set$select,children:[(0,C.jsx)("button",{type:"button",onClick:this.toggle,disabled:Je,children:(0,C.jsx)(X.Z,{children:this.displayText})}),(0,C.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:D.Wj.Tj}}),(0,C.jsx)(_,{isOpen:we,...this.props,value:Le,$select:_e,canSelect:Xe,onChange:this.onSelect,onClose:this.close,menuX:Ne})]})}}V(ae,"propTypes",{size:h().oneOf(["regular","small"]),theme:h().oneOf(["core","plain"]),menuTheme:h().oneOf(["core","plain","check"]),unstyled:h().bool,className:h().string,menuClassName:h().string,lang:h().string,placeholder:h().string,optionList:h().arrayOf(h().oneOfType([h().node,h().shape({label:h().node,value:h().any,isDisabled:h().bool}),h().arrayOf(h().oneOfType([h().node,h().shape({label:h().node,value:h().any,isDisabled:h().bool})]))])).isRequired,value:h().oneOfType([h().number,h().string]),isDisabled:h().bool,disabled:h().bool,readOnly:h().bool,onChange:h().func,menuX:h().oneOf(["left","center","right"]),optionLabelProp:h().string}),V(ae,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left"});class _ extends o.PureComponent{constructor(){super(...arguments),V(this,"state",{isDownward:!0}),V(this,"portal",(0,D.Qt)(H,"SelectMenuPortal")),V(this,"menuBaseRef",(0,o.createRef)()),V(this,"position",q=>{const{$select:J,menuX:xe}=this.props,{menuBaseRef:{current:Ee}}=this;if(q){const we=F()(q,"target");if(we&&ne()(we)&&we.matches(".SelectMenu"))return}const{isDownward:Ne}=(0,O.o)({$menuBase:Ee,$opener:J,menuX:xe,shouldSetMaxHeight:!0});this.setState({isDownward:Ne})}),V(this,"onChange",q=>{const{onChange:J}=this.props,{isDownward:xe}=this.state,Ee=q.currentTarget,Ne=Ee.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!Ee||!Ne)return this.onlose();const{top:we,bottom:_e}=Ee.getBoundingClientRect(),{top:Le,bottom:Je}=Ne.getBoundingClientRect();return xe&&we>=Le||!xe&&_e<=Je?Ee.classList.contains("title")?void 0:J(q):this.onClose()}),V(this,"onClose",()=>{const{onClose:q}=this.props;q()}),V(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:q}}=this,J=(0,D.$)("li[role=option].is-active",q);J&&J.scrollIntoView({block:"start"})}),V(this,"onClickOutside",q=>{let{target:J}=q;const{$select:xe}=this.props,Ee=!H.contains(J),Ne=J.closest("label"),we=Ne&&Ne.contains(xe);Ee&&!we&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:q}}=this;(0,D.$h)((0,D.$)(".SelectMenu",q))}componentDidUpdate(q){let{isOpen:J}=q;const{isOpen:xe}=this.props;!J&&xe&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,f.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:q,isDisabled:J,menuTheme:xe,menuClassName:Ee,menuX:Ne,optionList:we,lang:_e,emptyMsg:Le,value:Je,canSelect:st}=this.props,{isDownward:Xe}=this.state,et=we.length===0,ot=(0,D.A1)([xe==="core"?"CoreSelectMenu":xe==="check"?"CheckSelectMenu":"SelectMenu",Ee,"x-"+Ne,q&&"is-open",Xe?"is-downward":"is-upward",J&&"is-disabled",et&&"is-empty",st?"can-select":"cant-select"]);return(0,C.jsx)(u,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,C.jsxs)(g,{className:ot,onTransitionEnd:this.onTransitionEnd,children:[et?(0,C.jsx)("li",{className:"SelectOption empty-msg",children:Le||c[_e].select_empty_msg}):we.map((nt,ut)=>T()(nt)?(0,C.jsx)(Z,{menuTheme:xe,optionList:nt,value:Je,onChange:this.onChange},ut):(0,C.jsx)(ve,{menuTheme:xe,isActive:(0,D.Lc)(nt,Je),option:nt,isDisabled:nt.isDisabled,onChange:this.onChange},ut)),q&&(0,C.jsx)(S.Z,{target:document,onClick:(0,S.Y)(this.onClickOutside,{capture:!0})}),q&&(0,C.jsx)(S.Z,{target:document,onScroll:(0,S.Y)(this.position,{capture:!0})})]})})}}V(_,"propTypes",{...ae.propTypes,isOpen:h().bool,canSelect:h().bool,onChange:h().func,onClose:h().func,$select:h().instanceOf(Element)}),V(_,"defaultProps",{isOpen:!1});function Z(de){let{value:q,optionList:[J,...xe],menuTheme:Ee,onChange:Ne}=de;return(0,C.jsxs)("li",{className:"SelectGroup",children:[(0,C.jsx)(X.Z,{className:"title",onClick:Ne,children:J}),(0,C.jsx)("ul",{children:xe.map((we,_e)=>(0,C.jsx)(ve,{menuTheme:Ee,option:we,isActive:(0,D.Lc)(we,q),isDisabled:we.isDisabled,onChange:Ne},_e))})]})}Z.propTypes={optionList:h().array,onChange:h().func,menuTheme:h().string,value:h().string};function ve(de){let{option:q,isActive:J,isDisabled:xe,menuTheme:Ee,onChange:Ne}=de;const we=(0,D.A1)(["SelectOption",J&&"is-active",xe&&"is-disabled"]),_e=(0,D.Jn)(q),Le=(0,D.l_)(q);return(0,C.jsxs)("li",{role:"option","data-value":Le,className:we,onClick:xe?void 0:Ne,children:[(0,C.jsx)(X.Z,{children:_e}),Ee==="check"&&J&&(0,C.jsx)(oe.Z,{name:"check"})]})}ve.propTypes={option:h().oneOfType([h().node,h().object]),isActive:h().bool,isDisabled:h().bool,menuTheme:h().string,onChange:h().func}},43827:function(Se){(function(te,i){Se.exports=i()})(this,function(){"use strict";return function(te,i,o){i.prototype.isBetween=function(f,A,h,S){var ee=o(f),F=o(A),I=(S=S||"()")[0]==="(",T=S[1]===")";return(I?this.isAfter(ee,h):!this.isBefore(ee,h))&&(T?this.isBefore(F,h):!this.isAfter(F,h))||(I?this.isBefore(ee,h):!this.isAfter(ee,h))&&(T?this.isAfter(F,h):!this.isBefore(F,h))}}})},57480:function(Se){(function(te,i){Se.exports=i()})(this,function(){"use strict";return function(te,i){i.prototype.isSameOrBefore=function(o,f){return this.isSame(o,f)||this.isBefore(o,f)}}})},9892:Se=>{function te(i,o,f,A){var h=-1,S=i==null?0:i.length;for(A&&S&&(f=i[++h]);++h<S;)f=o(f,i[h],h,i);return f}Se.exports=te},45927:Se=>{var te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function i(o){return o.match(te)||[]}Se.exports=i},36057:Se=>{function te(i){return function(o){return i==null?void 0:i[o]}}Se.exports=te},82486:(Se,te,i)=>{var o=i(9892),f=i(98493),A=i(15052),h="['\u2019]",S=RegExp(h,"g");function ee(F){return function(I){return o(A(f(I).replace(S,"")),F,"")}}Se.exports=ee},58048:(Se,te,i)=>{var o=i(36057),f={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},A=o(f);Se.exports=A},34277:Se=>{var te=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function i(o){return te.test(o)}Se.exports=i},88778:Se=>{var te="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",A=i+o+f,h="\\u2700-\\u27bf",S="a-z\\xdf-\\xf6\\xf8-\\xff",ee="\\xac\\xb1\\xd7\\xf7",F="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",I="\\u2000-\\u206f",T=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",re="A-Z\\xc0-\\xd6\\xd8-\\xde",ce="\\ufe0e\\ufe0f",Y=ee+F+I+T,ne="['\u2019]",oe="["+Y+"]",X="["+A+"]",D="\\d+",O="["+h+"]",w="["+S+"]",m="[^"+te+Y+D+h+S+re+"]",u="\\ud83c[\\udffb-\\udfff]",g="(?:"+X+"|"+u+")",C="[^"+te+"]",V="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",B="["+re+"]",N="\\u200d",c="(?:"+w+"|"+m+")",H="(?:"+B+"|"+m+")",Q="(?:"+ne+"(?:d|ll|m|re|s|t|ve))?",ae="(?:"+ne+"(?:D|LL|M|RE|S|T|VE))?",_=g+"?",Z="["+ce+"]?",ve="(?:"+N+"(?:"+[C,V,k].join("|")+")"+Z+_+")*",de="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",q="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",J=Z+_+ve,xe="(?:"+[O,V,k].join("|")+")"+J,Ee=RegExp([B+"?"+w+"+"+Q+"(?="+[oe,B,"$"].join("|")+")",H+"+"+ae+"(?="+[oe,B+c,"$"].join("|")+")",B+"?"+c+"+"+Q,B+"+"+ae,q,de,D,xe].join("|"),"g");function Ne(we){return we.match(Ee)||[]}Se.exports=Ne},98493:(Se,te,i)=>{var o=i(58048),f=i(90384),A=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,h="\\u0300-\\u036f",S="\\ufe20-\\ufe2f",ee="\\u20d0-\\u20ff",F=h+S+ee,I="["+F+"]",T=RegExp(I,"g");function re(ce){return ce=f(ce),ce&&ce.replace(A,o).replace(T,"")}Se.exports=re},1074:(Se,te,i)=>{var o=i(82486),f=o(function(A,h,S){return A+(S?"_":"")+h.toLowerCase()});Se.exports=f},15052:(Se,te,i)=>{var o=i(45927),f=i(34277),A=i(90384),h=i(88778);function S(ee,F,I){return ee=A(ee),F=I?void 0:F,F===void 0?f(ee)?h(ee):o(ee):ee.match(F)||[]}Se.exports=S},24978:(Se,te)=>{"use strict";var i;i={value:!0};var o=Object.assign||function(ee){for(var F=1;F<arguments.length;F++){var I=arguments[F];for(var T in I)Object.prototype.hasOwnProperty.call(I,T)&&(ee[T]=I[T])}return ee},f=function(){var F=null,I={},T=function(oe){var X=I[oe.type];return X&&X(F,oe)},re=function(oe){if(typeof oe.getState!="function"||typeof oe.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(F!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return F=oe,function(X){return function(D){return T(D)===!0||X(D)}}},ce=function(oe,X){if(typeof oe!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+oe);if(typeof X!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+oe+", "+X);I[oe]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+oe),I[oe]=X},Y=function(oe){return Object.keys(oe).forEach(function(X){return ce(X,oe[X])})};return{middleware:re,setEntry:ce,setEntryMap:Y}},A=function(F){if(F===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return F},setState:function(T){return F=T},wrapEntry:function(T){return function(re,ce){return T(F,re,ce)}}}},h=function(F,I){var T=I.getState,re=I.setState;return function(ce,Y){var ne=Y.type,oe=Y.payload;return ne===F&&re(oe),T()}},S=function(F,I){var T=I.getState,re=I.setState;return function(ce,Y){var ne=Y.type,oe=Y.payload;return ne===F&&re(o({},T(),oe)),T()}};te.gk=f,te.Z7=A,te.jA=h,i=S},6056:(Se,te,i)=>{"use strict";i.d(te,{md:()=>V,UY:()=>m,qC:()=>C,MT:()=>oe});var o=i(49650);function f(k,B){var N=Object.keys(k);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(k);B&&(c=c.filter(function(H){return Object.getOwnPropertyDescriptor(k,H).enumerable})),N.push.apply(N,c)}return N}function A(k){for(var B=1;B<arguments.length;B++){var N=arguments[B]!=null?arguments[B]:{};B%2?f(Object(N),!0).forEach(function(c){(0,o.Z)(k,c,N[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(N)):f(Object(N)).forEach(function(c){Object.defineProperty(k,c,Object.getOwnPropertyDescriptor(N,c))})}return k}function h(k){return"Minified Redux error #"+k+"; visit https://redux.js.org/Errors?code="+k+" for the full message or use the non-minified dev environment for full errors. "}var S=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ee=function(){return Math.random().toString(36).substring(7).split("").join(".")},F={INIT:"@@redux/INIT"+ee(),REPLACE:"@@redux/REPLACE"+ee(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ee()}};function I(k){if(typeof k!="object"||k===null)return!1;for(var B=k;Object.getPrototypeOf(B)!==null;)B=Object.getPrototypeOf(B);return Object.getPrototypeOf(k)===B}function T(k){if(k===void 0)return"undefined";if(k===null)return"null";var B=typeof k;switch(B){case"boolean":case"string":case"number":case"symbol":case"function":return B}if(Array.isArray(k))return"array";if(Y(k))return"date";if(ce(k))return"error";var N=re(k);switch(N){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return N}return B.slice(8,-1).toLowerCase().replace(/\s/g,"")}function re(k){return typeof k.constructor=="function"?k.constructor.name:null}function ce(k){return k instanceof Error||typeof k.message=="string"&&k.constructor&&typeof k.constructor.stackTraceLimit=="number"}function Y(k){return k instanceof Date?!0:typeof k.toDateString=="function"&&typeof k.getDate=="function"&&typeof k.setDate=="function"}function ne(k){var B=typeof k;return B}function oe(k,B,N){var c;if(typeof B=="function"&&typeof N=="function"||typeof N=="function"&&typeof arguments[3]=="function")throw new Error(h(0));if(typeof B=="function"&&typeof N>"u"&&(N=B,B=void 0),typeof N<"u"){if(typeof N!="function")throw new Error(h(1));return N(oe)(k,B)}if(typeof k!="function")throw new Error(h(2));var H=k,Q=B,ae=[],_=ae,Z=!1;function ve(){_===ae&&(_=ae.slice())}function de(){if(Z)throw new Error(h(3));return Q}function q(Ne){if(typeof Ne!="function")throw new Error(h(4));if(Z)throw new Error(h(5));var we=!0;return ve(),_.push(Ne),function(){if(we){if(Z)throw new Error(h(6));we=!1,ve();var Le=_.indexOf(Ne);_.splice(Le,1),ae=null}}}function J(Ne){if(!I(Ne))throw new Error(h(7));if(typeof Ne.type>"u")throw new Error(h(8));if(Z)throw new Error(h(9));try{Z=!0,Q=H(Q,Ne)}finally{Z=!1}for(var we=ae=_,_e=0;_e<we.length;_e++){var Le=we[_e];Le()}return Ne}function xe(Ne){if(typeof Ne!="function")throw new Error(h(10));H=Ne,J({type:F.REPLACE})}function Ee(){var Ne,we=q;return Ne={subscribe:function(Le){if(typeof Le!="object"||Le===null)throw new Error(h(11));function Je(){Le.next&&Le.next(de())}Je();var st=we(Je);return{unsubscribe:st}}},Ne[S]=function(){return this},Ne}return J({type:F.INIT}),c={dispatch:J,subscribe:q,getState:de,replaceReducer:xe},c[S]=Ee,c}var X=null;function D(k){typeof console<"u"&&typeof console.error=="function"&&console.error(k);try{throw new Error(k)}catch(B){}}function O(k,B,N,c){var H=Object.keys(B),Q=N&&N.type===F.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(H.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!I(k))return"The "+Q+' has unexpected type of "'+ne(k)+'". Expected argument to be an object with the following '+('keys: "'+H.join('", "')+'"');var ae=Object.keys(k).filter(function(_){return!B.hasOwnProperty(_)&&!c[_]});if(ae.forEach(function(_){c[_]=!0}),!(N&&N.type===F.REPLACE)&&ae.length>0)return"Unexpected "+(ae.length>1?"keys":"key")+" "+('"'+ae.join('", "')+'" found in '+Q+". ")+"Expected to find one of the known reducer keys instead: "+('"'+H.join('", "')+'". Unexpected keys will be ignored.')}function w(k){Object.keys(k).forEach(function(B){var N=k[B],c=N(void 0,{type:F.INIT});if(typeof c>"u")throw new Error(h(12));if(typeof N(void 0,{type:F.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(h(13))})}function m(k){for(var B=Object.keys(k),N={},c=0;c<B.length;c++){var H=B[c];typeof k[H]=="function"&&(N[H]=k[H])}var Q=Object.keys(N),ae,_;try{w(N)}catch(Z){_=Z}return function(ve,de){if(ve===void 0&&(ve={}),_)throw _;if(0)var q;for(var J=!1,xe={},Ee=0;Ee<Q.length;Ee++){var Ne=Q[Ee],we=N[Ne],_e=ve[Ne],Le=we(_e,de);if(typeof Le>"u"){var Je=de&&de.type;throw new Error(h(14))}xe[Ne]=Le,J=J||Le!==_e}return J=J||Q.length!==Object.keys(ve).length,J?xe:ve}}function u(k,B){return function(){return B(k.apply(this,arguments))}}function g(k,B){if(typeof k=="function")return u(k,B);if(typeof k!="object"||k===null)throw new Error(h(16));var N={};for(var c in k){var H=k[c];typeof H=="function"&&(N[c]=u(H,B))}return N}function C(){for(var k=arguments.length,B=new Array(k),N=0;N<k;N++)B[N]=arguments[N];return B.length===0?function(c){return c}:B.length===1?B[0]:B.reduce(function(c,H){return function(){return c(H.apply(void 0,arguments))}})}function V(){for(var k=arguments.length,B=new Array(k),N=0;N<k;N++)B[N]=arguments[N];return function(c){return function(){var H=c.apply(void 0,arguments),Q=function(){throw new Error(h(15))},ae={getState:H.getState,dispatch:function(){return Q.apply(void 0,arguments)}},_=B.map(function(Z){return Z(ae)});return Q=C.apply(void 0,_)(H.dispatch),A(A({},H),{},{dispatch:Q})}}}}}]);

//# sourceMappingURL=4.n9fxu-vendor-a043d96c6c004bb94e4f.js.map